/*! For license information please see main.e80a32b7.js.LICENSE.txt */
(()=>{"use strict";var t={730:(t,e,i)=>{var n=i(43),a=i(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)r.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(t,e,i,n,a,o,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=r}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new f(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new f(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new f(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new f(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new f(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new f(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new f(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new f(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new f(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,i,n){var a=m.hasOwnProperty(e)?m[e]:null;(null!==a?0!==a.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,a,n)&&(i=null),n||null===a?function(t){return!!d.call(g,t)||!d.call(p,t)&&(h.test(t)?g[t]=!0:(p[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):a.mustUseProperty?t[a.propertyName]=null===i?3!==a.type&&"":i:(e=a.attributeName,n=a.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(a=a.type)||4===a&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new f(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new f(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new f(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new f(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new f(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var B,z=Object.assign;function _(t){if(void 0===B)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var F=!1;function G(t,e){if(!t||F)return"";F=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=n.stack.split("\n"),r=a.length-1,s=o.length-1;1<=r&&0<=s&&a[r]!==o[s];)s--;for(;1<=r&&0<=s;r--,s--)if(a[r]!==o[s]){if(1!==r||1!==s)do{if(r--,0>--s||a[r]!==o[s]){var l="\n"+a[r].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=r&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?_(t):""}function j(t){switch(t.tag){case 5:return _(t.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return t=G(t.type,!1);case 11:return t=G(t.type.render,!1);case 1:return t=G(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case w:return"Fragment";case S:return"Portal";case D:return"Profiler";case M:return"StrictMode";case N:return"Suspense";case E:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case L:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return V(t(e))}catch(i){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function U(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var a=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function H(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=K(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function Z(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var i=e.checked;return z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function q(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=U(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){Q(t,e);var i=U(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,U(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&Z(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,n){if(t=t.options,e){e={};for(var a=0;a<i.length;a++)e["$"+i[a]]=!0;for(i=0;i<t.length;i++)a=e.hasOwnProperty("$"+t[i].value),t[i].selected!==a&&(t[i].selected=a),a&&n&&(t[i].defaultSelected=!0)}else{for(i=""+U(i),e=null,a=0;a<t.length;a++){if(t[a].value===i)return t[a].selected=!0,void(n&&(t[a].defaultSelected=!0));null!==e||t[a].disabled||(e=t[a])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function at(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(et(i)){if(1<i.length)throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:U(i)}}function ot(t,e){var i=U(e.value),n=U(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function rt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,dt=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,n){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function ht(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function ft(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),a=ft(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,a):t[i]=a}}Object.keys(pt).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var yt=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function kt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var St=null,wt=null,Mt=null;function Dt(t){if(t=ba(t)){if("function"!==typeof St)throw Error(o(280));var e=t.stateNode;e&&(e=ka(e),St(t.stateNode,t.type,e))}}function Lt(t){wt?Mt?Mt.push(t):Mt=[t]:wt=t}function Ct(){if(wt){var t=wt,e=Mt;if(Mt=wt=null,Dt(t),e)for(t=0;t<e.length;t++)Dt(e[t])}}function It(t,e){return t(e)}function Nt(){}var Et=!1;function Tt(t,e,i){if(Et)return t(e,i);Et=!0;try{return It(t,e,i)}finally{Et=!1,(null!==wt||null!==Mt)&&(Nt(),Ct())}}function At(t,e){var i=t.stateNode;if(null===i)return null;var n=ka(i);if(null===n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}var Rt=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ut){Rt=!1}function Pt(t,e,i,n,a,o,r,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(u){this.onError(u)}}var Bt=!1,zt=null,_t=!1,Ft=null,Gt={onError:function(t){Bt=!0,zt=t}};function jt(t,e,i,n,a,o,r,s,l){Bt=!1,zt=null,Pt.apply(Gt,arguments)}function Vt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ut(t){if(Vt(t)!==t)throw Error(o(188))}function Kt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,n=e;;){var a=i.return;if(null===a)break;var r=a.alternate;if(null===r){if(null!==(n=a.return)){i=n;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===i)return Ut(a),t;if(r===n)return Ut(a),e;r=r.sibling}throw Error(o(188))}if(i.return!==n.return)i=a,n=r;else{for(var s=!1,l=a.child;l;){if(l===i){s=!0,i=a,n=r;break}if(l===n){s=!0,n=a,i=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===i){s=!0,i=r,n=a;break}if(l===n){s=!0,n=r,i=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(i.alternate!==n)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t))?Yt(t):null}function Yt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Yt(t);if(null!==e)return e;t=t.sibling}return null}var Ht=a.unstable_scheduleCallback,Zt=a.unstable_cancelCallback,Xt=a.unstable_shouldYield,qt=a.unstable_requestPaint,Qt=a.unstable_now,Jt=a.unstable_getCurrentPriorityLevel,$t=a.unstable_ImmediatePriority,te=a.unstable_UserBlockingPriority,ee=a.unstable_NormalPriority,ie=a.unstable_LowPriority,ne=a.unstable_IdlePriority,ae=null,oe=null;var re=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ce=64,ue=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var i=t.pendingLanes;if(0===i)return 0;var n=0,a=t.suspendedLanes,o=t.pingedLanes,r=268435455&i;if(0!==r){var s=r&~a;0!==s?n=de(s):0!==(o&=r)&&(n=de(o))}else 0!==(r=i&~a)?n=de(r):0!==o&&(n=de(o));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&a)&&((a=n&-n)>=(o=e&-e)||16===a&&0!==(4194240&o)))return e;if(0!==(4&n)&&(n|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)a=1<<(i=31-re(e)),n|=t[i],e&=~a;return n}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function fe(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ye(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-re(e)]=i}function ve(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-re(i),a=1<<n;a&e|t[n]&e&&(t[n]|=e),i&=~a}}var be=0;function xe(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var ke,Se,we,Me,De,Le=!1,Ce=[],Ie=null,Ne=null,Ee=null,Te=new Map,Ae=new Map,Re=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pe(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Ne=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ae.delete(e.pointerId)}}function Be(t,e,i,n,a,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},null!==e&&(null!==(e=ba(e))&&Se(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==a&&-1===e.indexOf(a)&&e.push(a),t)}function ze(t){var e=va(t.target);if(null!==e){var i=Vt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=Wt(i)))return t.blockedOn=e,void De(t.priority,(function(){we(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function _e(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=ba(i))&&Se(e),t.blockedOn=i,!1;var n=new(i=t.nativeEvent).constructor(i.type,i);xt=n,i.target.dispatchEvent(n),xt=null,e.shift()}return!0}function Fe(t,e,i){_e(t)&&i.delete(e)}function Ge(){Le=!1,null!==Ie&&_e(Ie)&&(Ie=null),null!==Ne&&_e(Ne)&&(Ne=null),null!==Ee&&_e(Ee)&&(Ee=null),Te.forEach(Fe),Ae.forEach(Fe)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,Le||(Le=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ge)))}function Ve(t){function e(e){return je(e,t)}if(0<Ce.length){je(Ce[0],t);for(var i=1;i<Ce.length;i++){var n=Ce[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Ie&&je(Ie,t),null!==Ne&&je(Ne,t),null!==Ee&&je(Ee,t),Te.forEach(e),Ae.forEach(e),i=0;i<Re.length;i++)(n=Re[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Re.length&&null===(i=Re[0]).blockedOn;)ze(i),null===i.blockedOn&&Re.shift()}var We=x.ReactCurrentBatchConfig,Ue=!0;function Ke(t,e,i,n){var a=be,o=We.transition;We.transition=null;try{be=1,He(t,e,i,n)}finally{be=a,We.transition=o}}function Ye(t,e,i,n){var a=be,o=We.transition;We.transition=null;try{be=4,He(t,e,i,n)}finally{be=a,We.transition=o}}function He(t,e,i,n){if(Ue){var a=Xe(t,e,i,n);if(null===a)Un(t,e,n,Ze,i),Pe(t,n);else if(function(t,e,i,n,a){switch(e){case"focusin":return Ie=Be(Ie,t,e,i,n,a),!0;case"dragenter":return Ne=Be(Ne,t,e,i,n,a),!0;case"mouseover":return Ee=Be(Ee,t,e,i,n,a),!0;case"pointerover":var o=a.pointerId;return Te.set(o,Be(Te.get(o)||null,t,e,i,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ae.set(o,Be(Ae.get(o)||null,t,e,i,n,a)),!0}return!1}(a,t,e,i,n))n.stopPropagation();else if(Pe(t,n),4&e&&-1<Oe.indexOf(t)){for(;null!==a;){var o=ba(a);if(null!==o&&ke(o),null===(o=Xe(t,e,i,n))&&Un(t,e,n,Ze,i),o===a)break;a=o}null!==a&&n.stopPropagation()}else Un(t,e,n,null,i)}}var Ze=null;function Xe(t,e,i,n){if(Ze=null,null!==(t=va(t=kt(n))))if(null===(e=Vt(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ze=t,null}function qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case $t:return 1;case te:return 4;case ee:case ie:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Qe=null,Je=null,$e=null;function ti(){if($e)return $e;var t,e,i=Je,n=i.length,a="value"in Qe?Qe.value:Qe.textContent,o=a.length;for(t=0;t<n&&i[t]===a[t];t++);var r=n-t;for(e=1;e<=r&&i[n-e]===a[o-e];e++);return $e=a.slice(t,1<e?1-e:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ii(){return!0}function ni(){return!1}function ai(t){function e(e,i,n,a,o){for(var r in this._reactName=e,this._targetInst=n,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(r)&&(e=t[r],this[r]=e?e(a):a[r]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var oi,ri,si,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ai(li),ui=z({},li,{view:0,detail:0}),di=ai(ui),hi=z({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&"mousemove"===t.type?(oi=t.screenX-si.screenX,ri=t.screenY-si.screenY):ri=oi=0,si=t),oi)},movementY:function(t){return"movementY"in t?t.movementY:ri}}),pi=ai(hi),gi=ai(z({},hi,{dataTransfer:0})),fi=ai(z({},ui,{relatedTarget:0})),mi=ai(z({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),yi=z({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vi=ai(yi),bi=ai(z({},li,{data:0})),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ki={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Si={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wi(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Si[t])&&!!e[t]}function Mi(){return wi}var Di=z({},ui,{key:function(t){if(t.key){var e=xi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ki[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Li=ai(Di),Ci=ai(z({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ii=ai(z({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi})),Ni=ai(z({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ei=z({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ti=ai(Ei),Ai=[9,13,27,32],Ri=u&&"CompositionEvent"in window,Oi=null;u&&"documentMode"in document&&(Oi=document.documentMode);var Pi=u&&"TextEvent"in window&&!Oi,Bi=u&&(!Ri||Oi&&8<Oi&&11>=Oi),zi=String.fromCharCode(32),_i=!1;function Fi(t,e){switch(t){case"keyup":return-1!==Ai.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ji=!1;var Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vi[t.type]:"textarea"===e}function Ui(t,e,i,n){Lt(n),0<(e=Yn(e,"onChange")).length&&(i=new ci("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Ki=null,Yi=null;function Hi(t){_n(t,0)}function Zi(t){if(H(xa(t)))return t}function Xi(t,e){if("change"===t)return e}var qi=!1;if(u){var Qi;if(u){var Ji="oninput"in document;if(!Ji){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Ji="function"===typeof $i.oninput}Qi=Ji}else Qi=!1;qi=Qi&&(!document.documentMode||9<document.documentMode)}function tn(){Ki&&(Ki.detachEvent("onpropertychange",en),Yi=Ki=null)}function en(t){if("value"===t.propertyName&&Zi(Yi)){var e=[];Ui(e,Yi,t,kt(t)),Tt(Hi,e)}}function nn(t,e,i){"focusin"===t?(tn(),Yi=i,(Ki=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function an(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Zi(Yi)}function on(t,e){if("click"===t)return Zi(e)}function rn(t,e){if("input"===t||"change"===t)return Zi(e)}var sn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ln(t,e){if(sn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var a=i[n];if(!d.call(e,a)||!sn(t[a],e[a]))return!1}return!0}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function un(t,e){var i,n=cn(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cn(n)}}function dn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hn(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=Z((t=e.contentWindow).document)}return e}function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function gn(t){var e=hn(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&dn(i.ownerDocument.documentElement,i)){if(null!==n&&pn(i))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var a=i.textContent.length,o=Math.min(n.start,a);n=void 0===n.end?o:Math.min(n.end,a),!t.extend&&o>n&&(a=n,n=o,o=a),a=un(i,o);var r=un(i,n);a&&r&&(1!==t.rangeCount||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==r.node||t.focusOffset!==r.offset)&&((e=e.createRange()).setStart(a.node,a.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(r.node,r.offset)):(e.setEnd(r.node,r.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fn=u&&"documentMode"in document&&11>=document.documentMode,mn=null,yn=null,vn=null,bn=!1;function xn(t,e,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bn||null==mn||mn!==Z(n)||("selectionStart"in(n=mn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Yn(yn,"onSelect")).length&&(e=new ci("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=mn)))}function kn(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Sn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionend:kn("Transition","TransitionEnd")},wn={},Mn={};function Dn(t){if(wn[t])return wn[t];if(!Sn[t])return t;var e,i=Sn[t];for(e in i)if(i.hasOwnProperty(e)&&e in Mn)return wn[t]=i[e];return t}u&&(Mn=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var Ln=Dn("animationend"),Cn=Dn("animationiteration"),In=Dn("animationstart"),Nn=Dn("transitionend"),En=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){En.set(t,e),l(e,[t])}for(var Rn=0;Rn<Tn.length;Rn++){var On=Tn[Rn];An(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}An(Ln,"onAnimationEnd"),An(Cn,"onAnimationIteration"),An(In,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(Nn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function zn(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,n,a,r,s,l,c){if(jt.apply(this,arguments),Bt){if(!Bt)throw Error(o(198));var u=zt;Bt=!1,zt=null,_t||(_t=!0,Ft=u)}}(n,e,void 0,t),t.currentTarget=null}function _n(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var n=t[i],a=n.event;n=n.listeners;t:{var o=void 0;if(e)for(var r=n.length-1;0<=r;r--){var s=n[r],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break t;zn(a,s,c),o=l}else for(r=0;r<n.length;r++){if(l=(s=n[r]).instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break t;zn(a,s,c),o=l}}}if(_t)throw t=Ft,_t=!1,Ft=null,t}function Fn(t,e){var i=e[fa];void 0===i&&(i=e[fa]=new Set);var n=t+"__bubble";i.has(n)||(Wn(e,t,2,!1),i.add(n))}function Gn(t,e,i){var n=0;e&&(n|=4),Wn(i,t,n,e)}var jn="_reactListening"+Math.random().toString(36).slice(2);function Vn(t){if(!t[jn]){t[jn]=!0,r.forEach((function(e){"selectionchange"!==e&&(Bn.has(e)||Gn(e,!1,t),Gn(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[jn]||(e[jn]=!0,Gn("selectionchange",!1,e))}}function Wn(t,e,i,n){switch(qe(e)){case 1:var a=Ke;break;case 4:a=Ye;break;default:a=He}i=a.bind(null,e,i,t),a=void 0,!Rt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(a=!0),n?void 0!==a?t.addEventListener(e,i,{capture:!0,passive:a}):t.addEventListener(e,i,!0):void 0!==a?t.addEventListener(e,i,{passive:a}):t.addEventListener(e,i,!1)}function Un(t,e,i,n,a){var o=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var r=n.tag;if(3===r||4===r){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===r)for(r=n.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;r=r.return}for(;null!==s;){if(null===(r=va(s)))return;if(5===(l=r.tag)||6===l){n=o=r;continue t}s=s.parentNode}}n=n.return}Tt((function(){var n=o,a=kt(i),r=[];t:{var s=En.get(t);if(void 0!==s){var l=ci,c=t;switch(t){case"keypress":if(0===ei(i))break t;case"keydown":case"keyup":l=Li;break;case"focusin":c="focus",l=fi;break;case"focusout":c="blur",l=fi;break;case"beforeblur":case"afterblur":l=fi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ii;break;case Ln:case Cn:case In:l=mi;break;case Nn:l=Ni;break;case"scroll":l=di;break;case"wheel":l=Ti;break;case"copy":case"cut":case"paste":l=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ci}var u=0!==(4&e),d=!u&&"scroll"===t,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,g=n;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=At(g,h))&&u.push(Kn(g,f,p)))),d)break;g=g.return}0<u.length&&(s=new l(s,c,null,i,a),r.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||i===xt||!(c=i.relatedTarget||i.fromElement)||!va(c)&&!c[ga])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?va(c):null)&&(c!==(d=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=pi,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(u=Ci,f="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==l?s:xa(l),p=null==c?s:xa(c),(s=new u(f,g+"leave",l,i,a)).target=d,s.relatedTarget=p,f=null,va(a)===n&&((u=new u(h,g+"enter",c,i,a)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)t:{for(h=c,g=0,p=u=l;p;p=Hn(p))g++;for(p=0,f=h;f;f=Hn(f))p++;for(;0<g-p;)u=Hn(u),g--;for(;0<p-g;)h=Hn(h),p--;for(;g--;){if(u===h||null!==h&&u===h.alternate)break t;u=Hn(u),h=Hn(h)}u=null}else u=null;null!==l&&Zn(r,s,l,u,!1),null!==c&&null!==d&&Zn(r,d,c,u,!0)}if("select"===(l=(s=n?xa(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xi;else if(Wi(s))if(qi)m=rn;else{m=an;var y=nn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=on);switch(m&&(m=m(t,n))?Ui(r,m,i,a):(y&&y(t,s,n),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&tt(s,"number",s.value)),y=n?xa(n):window,t){case"focusin":(Wi(y)||"true"===y.contentEditable)&&(mn=y,yn=n,vn=null);break;case"focusout":vn=yn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,xn(r,i,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":xn(r,i,a)}var v;if(Ri)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else ji?Fi(t,i)&&(b="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(b="onCompositionStart");b&&(Bi&&"ko"!==i.locale&&(ji||"onCompositionStart"!==b?"onCompositionEnd"===b&&ji&&(v=ti()):(Je="value"in(Qe=a)?Qe.value:Qe.textContent,ji=!0)),0<(y=Yn(n,b)).length&&(b=new bi(b,t,null,i,a),r.push({event:b,listeners:y}),v?b.data=v:null!==(v=Gi(i))&&(b.data=v))),(v=Pi?function(t,e){switch(t){case"compositionend":return Gi(e);case"keypress":return 32!==e.which?null:(_i=!0,zi);case"textInput":return(t=e.data)===zi&&_i?null:t;default:return null}}(t,i):function(t,e){if(ji)return"compositionend"===t||!Ri&&Fi(t,e)?(t=ti(),$e=Je=Qe=null,ji=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bi&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(n=Yn(n,"onBeforeInput")).length&&(a=new bi("onBeforeInput","beforeinput",null,i,a),r.push({event:a,listeners:n}),a.data=v))}_n(r,e)}))}function Kn(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Yn(t,e){for(var i=e+"Capture",n=[];null!==t;){var a=t,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=At(t,i))&&n.unshift(Kn(t,o,a)),null!=(o=At(t,e))&&n.push(Kn(t,o,a))),t=t.return}return n}function Hn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Zn(t,e,i,n,a){for(var o=e._reactName,r=[];null!==i&&i!==n;){var s=i,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=At(i,o))&&r.unshift(Kn(i,l,s)):a||null!=(l=At(i,o))&&r.push(Kn(i,l,s))),i=i.return}0!==r.length&&t.push({event:e,listeners:r})}var Xn=/\r\n?/g,qn=/\u0000|\uFFFD/g;function Qn(t){return("string"===typeof t?t:""+t).replace(Xn,"\n").replace(qn,"")}function Jn(t,e,i){if(e=Qn(e),Qn(t)!==e&&i)throw Error(o(425))}function $n(){}var ta=null,ea=null;function ia(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ra="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(t){return oa.resolve(null).then(t).catch(sa)}:na;function sa(t){setTimeout((function(){throw t}))}function la(t,e){var i=e,n=0;do{var a=i.nextSibling;if(t.removeChild(i),a&&8===a.nodeType)if("/$"===(i=a.data)){if(0===n)return t.removeChild(a),void Ve(e);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=a}while(i);Ve(e)}function ca(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ua(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,pa="__reactProps$"+da,ga="__reactContainer$"+da,fa="__reactEvents$"+da,ma="__reactListeners$"+da,ya="__reactHandles$"+da;function va(t){var e=t[ha];if(e)return e;for(var i=t.parentNode;i;){if(e=i[ga]||i[ha]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=ua(t);null!==t;){if(i=t[ha])return i;t=ua(t)}return e}i=(t=i).parentNode}return null}function ba(t){return!(t=t[ha]||t[ga])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function xa(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function ka(t){return t[pa]||null}var Sa=[],wa=-1;function Ma(t){return{current:t}}function Da(t){0>wa||(t.current=Sa[wa],Sa[wa]=null,wa--)}function La(t,e){wa++,Sa[wa]=t.current,t.current=e}var Ca={},Ia=Ma(Ca),Na=Ma(!1),Ea=Ca;function Ta(t,e){var i=t.type.contextTypes;if(!i)return Ca;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in i)o[a]=e[a];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Aa(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ra(){Da(Na),Da(Ia)}function Oa(t,e,i){if(Ia.current!==Ca)throw Error(o(168));La(Ia,e),La(Na,i)}function Pa(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,W(t)||"Unknown",a));return z({},i,n)}function Ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ca,Ea=Ia.current,La(Ia,t),La(Na,Na.current),!0}function za(t,e,i){var n=t.stateNode;if(!n)throw Error(o(169));i?(t=Pa(t,e,Ea),n.__reactInternalMemoizedMergedChildContext=t,Da(Na),Da(Ia),La(Ia,t)):Da(Na),La(Na,i)}var _a=null,Fa=!1,Ga=!1;function ja(t){null===_a?_a=[t]:_a.push(t)}function Va(){if(!Ga&&null!==_a){Ga=!0;var t=0,e=be;try{var i=_a;for(be=1;t<i.length;t++){var n=i[t];do{n=n(!0)}while(null!==n)}_a=null,Fa=!1}catch(a){throw null!==_a&&(_a=_a.slice(t+1)),Ht($t,Va),a}finally{be=e,Ga=!1}}return null}var Wa=[],Ua=0,Ka=null,Ya=0,Ha=[],Za=0,Xa=null,qa=1,Qa="";function Ja(t,e){Wa[Ua++]=Ya,Wa[Ua++]=Ka,Ka=t,Ya=e}function $a(t,e,i){Ha[Za++]=qa,Ha[Za++]=Qa,Ha[Za++]=Xa,Xa=t;var n=qa;t=Qa;var a=32-re(n)-1;n&=~(1<<a),i+=1;var o=32-re(e)+a;if(30<o){var r=a-a%5;o=(n&(1<<r)-1).toString(32),n>>=r,a-=r,qa=1<<32-re(e)+a|i<<a|n,Qa=o+t}else qa=1<<o|i<<a|n,Qa=t}function to(t){null!==t.return&&(Ja(t,1),$a(t,1,0))}function eo(t){for(;t===Ka;)Ka=Wa[--Ua],Wa[Ua]=null,Ya=Wa[--Ua],Wa[Ua]=null;for(;t===Xa;)Xa=Ha[--Za],Ha[Za]=null,Qa=Ha[--Za],Ha[Za]=null,qa=Ha[--Za],Ha[Za]=null}var io=null,no=null,ao=!1,oo=null;function ro(t,e){var i=Tc(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function so(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,io=t,no=ca(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,io=t,no=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==Xa?{id:qa,overflow:Qa}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=Tc(18,null,null,0)).stateNode=e,i.return=t,t.child=i,io=t,no=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(ao){var e=no;if(e){var i=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ca(i.nextSibling);var n=io;e&&so(t,e)?ro(n,i):(t.flags=-4097&t.flags|2,ao=!1,io=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,ao=!1,io=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;io=t}function ho(t){if(t!==io)return!1;if(!ao)return uo(t),ao=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ia(t.type,t.memoizedProps)),e&&(e=no)){if(lo(t))throw po(),Error(o(418));for(;e;)ro(t,e),e=ca(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){no=ca(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}no=null}}else no=io?ca(t.stateNode.nextSibling):null;return!0}function po(){for(var t=no;t;)t=ca(t.nextSibling)}function go(){no=io=null,ao=!1}function fo(t){null===oo?oo=[t]:oo.push(t)}var mo=x.ReactCurrentBatchConfig;function yo(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var n=i.stateNode}if(!n)throw Error(o(147,t));var a=n,r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=a.refs;null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function vo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bo(t){return(0,t._init)(t._payload)}function xo(t){function e(e,i){if(t){var n=e.deletions;null===n?(e.deletions=[i],e.flags|=16):n.push(i)}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=Rc(t,e)).index=0,t.sibling=null,t}function r(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.flags|=2,i):n:(e.flags|=2,i):(e.flags|=1048576,i)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=zc(i,t.mode,n)).return=t,e):((e=a(e,i)).return=t,e)}function c(t,e,i,n){var o=i.type;return o===w?d(t,e,i.props.children,n,i.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&bo(o)===e.type)?((n=a(e,i.props)).ref=yo(t,e,i),n.return=t,n):((n=Oc(i.type,i.key,i.props,null,t.mode,n)).ref=yo(t,e,i),n.return=t,n)}function u(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=_c(i,t.mode,n)).return=t,e):((e=a(e,i.children||[])).return=t,e)}function d(t,e,i,n,o){return null===e||7!==e.tag?((e=Pc(i,t.mode,n,o)).return=t,e):((e=a(e,i)).return=t,e)}function h(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=zc(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case k:return(i=Oc(e.type,e.key,e.props,null,t.mode,i)).ref=yo(t,null,e),i.return=t,i;case S:return(e=_c(e,t.mode,i)).return=t,e;case A:return h(t,(0,e._init)(e._payload),i)}if(et(e)||P(e))return(e=Pc(e,t.mode,i,null)).return=t,e;vo(t,e)}return null}function p(t,e,i,n){var a=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==a?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case k:return i.key===a?c(t,e,i,n):null;case S:return i.key===a?u(t,e,i,n):null;case A:return p(t,e,(a=i._init)(i._payload),n)}if(et(i)||P(i))return null!==a?null:d(t,e,i,n,null);vo(t,i)}return null}function g(t,e,i,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return c(e,t=t.get(null===n.key?i:n.key)||null,n,a);case S:return u(e,t=t.get(null===n.key?i:n.key)||null,n,a);case A:return g(t,e,i,(0,n._init)(n._payload),a)}if(et(n)||P(n))return d(e,t=t.get(i)||null,n,a,null);vo(e,n)}return null}function f(a,o,s,l){for(var c=null,u=null,d=o,f=o=0,m=null;null!==d&&f<s.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var y=p(a,d,s[f],l);if(null===y){null===d&&(d=m);break}t&&d&&null===y.alternate&&e(a,d),o=r(y,o,f),null===u?c=y:u.sibling=y,u=y,d=m}if(f===s.length)return i(a,d),ao&&Ja(a,f),c;if(null===d){for(;f<s.length;f++)null!==(d=h(a,s[f],l))&&(o=r(d,o,f),null===u?c=d:u.sibling=d,u=d);return ao&&Ja(a,f),c}for(d=n(a,d);f<s.length;f++)null!==(m=g(d,a,f,s[f],l))&&(t&&null!==m.alternate&&d.delete(null===m.key?f:m.key),o=r(m,o,f),null===u?c=m:u.sibling=m,u=m);return t&&d.forEach((function(t){return e(a,t)})),ao&&Ja(a,f),c}function m(a,s,l,c){var u=P(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,f=s,m=s=0,y=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(y=f,f=null):y=f.sibling;var b=p(a,f,v.value,c);if(null===b){null===f&&(f=y);break}t&&f&&null===b.alternate&&e(a,f),s=r(b,s,m),null===d?u=b:d.sibling=b,d=b,f=y}if(v.done)return i(a,f),ao&&Ja(a,m),u;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(s=r(v,s,m),null===d?u=v:d.sibling=v,d=v);return ao&&Ja(a,m),u}for(f=n(a,f);!v.done;m++,v=l.next())null!==(v=g(f,a,m,v.value,c))&&(t&&null!==v.alternate&&f.delete(null===v.key?m:v.key),s=r(v,s,m),null===d?u=v:d.sibling=v,d=v);return t&&f.forEach((function(t){return e(a,t)})),ao&&Ja(a,m),u}return function t(n,o,r,l){if("object"===typeof r&&null!==r&&r.type===w&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case k:t:{for(var c=r.key,u=o;null!==u;){if(u.key===c){if((c=r.type)===w){if(7===u.tag){i(n,u.sibling),(o=a(u,r.props.children)).return=n,n=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&bo(c)===u.type){i(n,u.sibling),(o=a(u,r.props)).ref=yo(n,u,r),o.return=n,n=o;break t}i(n,u);break}e(n,u),u=u.sibling}r.type===w?((o=Pc(r.props.children,n.mode,l,r.key)).return=n,n=o):((l=Oc(r.type,r.key,r.props,null,n.mode,l)).ref=yo(n,o,r),l.return=n,n=l)}return s(n);case S:t:{for(u=r.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===r.containerInfo&&o.stateNode.implementation===r.implementation){i(n,o.sibling),(o=a(o,r.children||[])).return=n,n=o;break t}i(n,o);break}e(n,o),o=o.sibling}(o=_c(r,n.mode,l)).return=n,n=o}return s(n);case A:return t(n,o,(u=r._init)(r._payload),l)}if(et(r))return f(n,o,r,l);if(P(r))return m(n,o,r,l);vo(n,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==o&&6===o.tag?(i(n,o.sibling),(o=a(o,r)).return=n,n=o):(i(n,o),(o=zc(r,n.mode,l)).return=n,n=o),s(n)):i(n,o)}}var ko=xo(!0),So=xo(!1),wo=Ma(null),Mo=null,Do=null,Lo=null;function Co(){Lo=Do=Mo=null}function Io(t){var e=wo.current;Da(wo),t._currentValue=e}function No(t,e,i){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Eo(t,e){Mo=t,Lo=Do=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function To(t){var e=t._currentValue;if(Lo!==t)if(t={context:t,memoizedValue:e,next:null},null===Do){if(null===Mo)throw Error(o(308));Do=t,Mo.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var Ao=null;function Ro(t){null===Ao?Ao=[t]:Ao.push(t)}function Oo(t,e,i,n){var a=e.interleaved;return null===a?(i.next=i,Ro(e)):(i.next=a.next,a.next=i),e.interleaved=i,Po(t,n)}function Po(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var Bo=!1;function zo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _o(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Go(t,e,i){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Il)){var a=n.pending;return null===a?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Po(t,i)}return null===(a=n.interleaved)?(e.next=e,Ro(n)):(e.next=a.next,a.next=e),n.interleaved=e,Po(t,i)}function jo(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,ve(t,i)}}function Vo(t,e){var i=t.updateQueue,n=t.alternate;if(null!==n&&i===(n=n.updateQueue)){var a=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?a=o=r:o=o.next=r,i=i.next}while(null!==i);null===o?a=o=e:o=o.next=e}else a=o=e;return i={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Wo(t,e,i,n){var a=t.updateQueue;Bo=!1;var o=a.firstBaseUpdate,r=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===r?o=c:r.next=c,r=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==r&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(r=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var g=t,f=s;switch(h=e,p=i,f.tag){case 1:if("function"===typeof(g=f.payload)){d=g.call(p,d,h);break t}d=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(p,d,h):g)||void 0===h)break t;d=z({},d,h);break t;case 2:Bo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,r|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(e=a.shared.interleaved)){a=e;do{r|=a.lane,a=a.next}while(a!==e)}else null===o&&(a.shared.lanes=0);Bl|=r,t.lanes=r,t.memoizedState=d}}function Uo(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(null!==a){if(n.callback=null,n=i,"function"!==typeof a)throw Error(o(191,a));a.call(n)}}}var Ko={},Yo=Ma(Ko),Ho=Ma(Ko),Zo=Ma(Ko);function Xo(t){if(t===Ko)throw Error(o(174));return t}function qo(t,e){switch(La(Zo,e),La(Ho,t),La(Yo,Ko),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Da(Yo),La(Yo,e)}function Qo(){Da(Yo),Da(Ho),Da(Zo)}function Jo(t){Xo(Zo.current);var e=Xo(Yo.current),i=lt(e,t.type);e!==i&&(La(Ho,t),La(Yo,i))}function $o(t){Ho.current===t&&(Da(Yo),Da(Ho))}var tr=Ma(0);function er(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ir=[];function nr(){for(var t=0;t<ir.length;t++)ir[t]._workInProgressVersionPrimary=null;ir.length=0}var ar=x.ReactCurrentDispatcher,or=x.ReactCurrentBatchConfig,rr=0,sr=null,lr=null,cr=null,ur=!1,dr=!1,hr=0,pr=0;function gr(){throw Error(o(321))}function fr(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!sn(t[i],e[i]))return!1;return!0}function mr(t,e,i,n,a,r){if(rr=r,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ar.current=null===t||null===t.memoizedState?$r:ts,t=i(n,a),dr){r=0;do{if(dr=!1,hr=0,25<=r)throw Error(o(301));r+=1,cr=lr=null,e.updateQueue=null,ar.current=es,t=i(n,a)}while(dr)}if(ar.current=Jr,e=null!==lr&&null!==lr.next,rr=0,cr=lr=sr=null,ur=!1,e)throw Error(o(300));return t}function yr(){var t=0!==hr;return hr=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cr?sr.memoizedState=cr=t:cr=cr.next=t,cr}function br(){if(null===lr){var t=sr.alternate;t=null!==t?t.memoizedState:null}else t=lr.next;var e=null===cr?sr.memoizedState:cr.next;if(null!==e)cr=e,lr=t;else{if(null===t)throw Error(o(310));t={memoizedState:(lr=t).memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},null===cr?sr.memoizedState=cr=t:cr=cr.next=t}return cr}function xr(t,e){return"function"===typeof e?e(t):e}function kr(t){var e=br(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=lr,a=n.baseQueue,r=i.pending;if(null!==r){if(null!==a){var s=a.next;a.next=r.next,r.next=s}n.baseQueue=a=r,i.pending=null}if(null!==a){r=a.next,n=n.baseState;var l=s=null,c=null,u=r;do{var d=u.lane;if((rr&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=n):c=c.next=h,sr.lanes|=d,Bl|=d}u=u.next}while(null!==u&&u!==r);null===c?s=n:c.next=l,sn(n,e.memoizedState)||(bs=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,i.lastRenderedState=n}if(null!==(t=i.interleaved)){a=t;do{r=a.lane,sr.lanes|=r,Bl|=r,a=a.next}while(a!==t)}else null===a&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Sr(t){var e=br(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=i.dispatch,a=i.pending,r=e.memoizedState;if(null!==a){i.pending=null;var s=a=a.next;do{r=t(r,s.action),s=s.next}while(s!==a);sn(r,e.memoizedState)||(bs=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),i.lastRenderedState=r}return[r,n]}function wr(){}function Mr(t,e){var i=sr,n=br(),a=e(),r=!sn(n.memoizedState,a);if(r&&(n.memoizedState=a,bs=!0),n=n.queue,Br(Cr.bind(null,i,n,t),[t]),n.getSnapshot!==e||r||null!==cr&&1&cr.memoizedState.tag){if(i.flags|=2048,Tr(9,Lr.bind(null,i,n,a,e),void 0,null),null===Nl)throw Error(o(349));0!==(30&rr)||Dr(i,e,a)}return a}function Dr(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=sr.updateQueue)?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function Lr(t,e,i,n){e.value=i,e.getSnapshot=n,Ir(e)&&Nr(t)}function Cr(t,e,i){return i((function(){Ir(e)&&Nr(t)}))}function Ir(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!sn(t,i)}catch(n){return!0}}function Nr(t){var e=Po(t,1);null!==e&&ic(e,t,1,-1)}function Er(t){var e=vr();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:t},e.queue=t,t=t.dispatch=Zr.bind(null,sr,t),[e.memoizedState,t]}function Tr(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=sr.updateQueue)?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function Ar(){return br().memoizedState}function Rr(t,e,i,n){var a=vr();sr.flags|=t,a.memoizedState=Tr(1|e,i,void 0,void 0===n?null:n)}function Or(t,e,i,n){var a=br();n=void 0===n?null:n;var o=void 0;if(null!==lr){var r=lr.memoizedState;if(o=r.destroy,null!==n&&fr(n,r.deps))return void(a.memoizedState=Tr(e,i,o,n))}sr.flags|=t,a.memoizedState=Tr(1|e,i,o,n)}function Pr(t,e){return Rr(8390656,8,t,e)}function Br(t,e){return Or(2048,8,t,e)}function zr(t,e){return Or(4,2,t,e)}function _r(t,e){return Or(4,4,t,e)}function Fr(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Gr(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Or(4,4,Fr.bind(null,e,t),i)}function jr(){}function Vr(t,e){var i=br();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&fr(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Wr(t,e){var i=br();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&fr(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Ur(t,e,i){return 0===(21&rr)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=i):(sn(i,e)||(i=fe(),sr.lanes|=i,Bl|=i,t.baseState=!0),e)}function Kr(t,e){var i=be;be=0!==i&&4>i?i:4,t(!0);var n=or.transition;or.transition={};try{t(!1),e()}finally{be=i,or.transition=n}}function Yr(){return br().memoizedState}function Hr(t,e,i){var n=ec(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Xr(t))qr(e,i);else if(null!==(i=Oo(t,e,i,n))){ic(i,t,n,tc()),Qr(i,e,n)}}function Zr(t,e,i){var n=ec(t),a={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xr(t))qr(e,a);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var r=e.lastRenderedState,s=o(r,i);if(a.hasEagerState=!0,a.eagerState=s,sn(s,r)){var l=e.interleaved;return null===l?(a.next=a,Ro(e)):(a.next=l.next,l.next=a),void(e.interleaved=a)}}catch(c){}null!==(i=Oo(t,e,a,n))&&(ic(i,t,n,a=tc()),Qr(i,e,n))}}function Xr(t){var e=t.alternate;return t===sr||null!==e&&e===sr}function qr(t,e){dr=ur=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Qr(t,e,i){if(0!==(4194240&i)){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,ve(t,i)}}var Jr={readContext:To,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},$r={readContext:To,useCallback:function(t,e){return vr().memoizedState=[t,void 0===e?null:e],t},useContext:To,useEffect:Pr,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Rr(4194308,4,Fr.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Rr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rr(4,2,t,e)},useMemo:function(t,e){var i=vr();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=vr();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Hr.bind(null,sr,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},vr().memoizedState=t},useState:Er,useDebugValue:jr,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=Er(!1),e=t[0];return t=Kr.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=sr,a=vr();if(ao){if(void 0===i)throw Error(o(407));i=i()}else{if(i=e(),null===Nl)throw Error(o(349));0!==(30&rr)||Dr(n,e,i)}a.memoizedState=i;var r={value:i,getSnapshot:e};return a.queue=r,Pr(Cr.bind(null,n,r,t),[t]),n.flags|=2048,Tr(9,Lr.bind(null,n,r,i,e),void 0,null),i},useId:function(){var t=vr(),e=Nl.identifierPrefix;if(ao){var i=Qa;e=":"+e+"R"+(i=(qa&~(1<<32-re(qa)-1)).toString(32)+i),0<(i=hr++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=pr++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ts={readContext:To,useCallback:Vr,useContext:To,useEffect:Br,useImperativeHandle:Gr,useInsertionEffect:zr,useLayoutEffect:_r,useMemo:Wr,useReducer:kr,useRef:Ar,useState:function(){return kr(xr)},useDebugValue:jr,useDeferredValue:function(t){return Ur(br(),lr.memoizedState,t)},useTransition:function(){return[kr(xr)[0],br().memoizedState]},useMutableSource:wr,useSyncExternalStore:Mr,useId:Yr,unstable_isNewReconciler:!1},es={readContext:To,useCallback:Vr,useContext:To,useEffect:Br,useImperativeHandle:Gr,useInsertionEffect:zr,useLayoutEffect:_r,useMemo:Wr,useReducer:Sr,useRef:Ar,useState:function(){return Sr(xr)},useDebugValue:jr,useDeferredValue:function(t){var e=br();return null===lr?e.memoizedState=t:Ur(e,lr.memoizedState,t)},useTransition:function(){return[Sr(xr)[0],br().memoizedState]},useMutableSource:wr,useSyncExternalStore:Mr,useId:Yr,unstable_isNewReconciler:!1};function is(t,e){if(t&&t.defaultProps){for(var i in e=z({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}function ns(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:z({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var as={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=tc(),a=ec(t),o=Fo(n,a);o.payload=e,void 0!==i&&null!==i&&(o.callback=i),null!==(e=Go(t,o,a))&&(ic(e,t,a,n),jo(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=tc(),a=ec(t),o=Fo(n,a);o.tag=1,o.payload=e,void 0!==i&&null!==i&&(o.callback=i),null!==(e=Go(t,o,a))&&(ic(e,t,a,n),jo(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=tc(),n=ec(t),a=Fo(i,n);a.tag=2,void 0!==e&&null!==e&&(a.callback=e),null!==(e=Go(t,a,n))&&(ic(e,t,n,i),jo(e,t,n))}};function os(t,e,i,n,a,o,r){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,r):!e.prototype||!e.prototype.isPureReactComponent||(!ln(i,n)||!ln(a,o))}function rs(t,e,i){var n=!1,a=Ca,o=e.contextType;return"object"===typeof o&&null!==o?o=To(o):(a=Aa(e)?Ea:Ia.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?Ta(t,a):Ca),e=new e(i,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=as,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=o),e}function ss(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&as.enqueueReplaceState(e,e.state,null)}function ls(t,e,i,n){var a=t.stateNode;a.props=i,a.state=t.memoizedState,a.refs={},zo(t);var o=e.contextType;"object"===typeof o&&null!==o?a.context=To(o):(o=Aa(e)?Ea:Ia.current,a.context=Ta(t,o)),a.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(ns(t,e,o,i),a.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(e=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),e!==a.state&&as.enqueueReplaceState(a,a.state,null),Wo(t,i,a,n),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308)}function cs(t,e){try{var i="",n=e;do{i+=j(n),n=n.return}while(n);var a=i}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:a,digest:null}}function us(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function ds(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,i){(i=Fo(-1,i)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Ul||(Ul=!0,Kl=n),ds(0,e)},i}function gs(t,e,i){(i=Fo(-1,i)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var a=e.value;i.payload=function(){return n(a)},i.callback=function(){ds(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){ds(0,e),"function"!==typeof n&&(null===Yl?Yl=new Set([this]):Yl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function fs(t,e,i){var n=t.pingCache;if(null===n){n=t.pingCache=new hs;var a=new Set;n.set(e,a)}else void 0===(a=n.get(e))&&(a=new Set,n.set(e,a));a.has(i)||(a.add(i),t=Dc.bind(null,t,e,i),e.then(t,t))}function ms(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,i,n,a){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=Fo(-1,1)).tag=2,Go(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=a,t)}var vs=x.ReactCurrentOwner,bs=!1;function xs(t,e,i,n){e.child=null===t?So(e,null,i,n):ko(e,t.child,i,n)}function ks(t,e,i,n,a){i=i.render;var o=e.ref;return Eo(e,a),n=mr(t,e,i,n,o,a),i=yr(),null===t||bs?(ao&&i&&to(e),e.flags|=1,xs(t,e,n,a),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Us(t,e,a))}function Ss(t,e,i,n,a){if(null===t){var o=i.type;return"function"!==typeof o||Ac(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Oc(i.type,null,n,e,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,ws(t,e,o,n,a))}if(o=t.child,0===(t.lanes&a)){var r=o.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(r,n)&&t.ref===e.ref)return Us(t,e,a)}return e.flags|=1,(t=Rc(o,n)).ref=e.ref,t.return=e,e.child=t}function ws(t,e,i,n,a){if(null!==t){var o=t.memoizedProps;if(ln(o,n)&&t.ref===e.ref){if(bs=!1,e.pendingProps=n=o,0===(t.lanes&a))return e.lanes=t.lanes,Us(t,e,a);0!==(131072&t.flags)&&(bs=!0)}}return Ls(t,e,i,n,a)}function Ms(t,e,i){var n=e.pendingProps,a=n.children,o=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},La(Rl,Al),Al|=i;else{if(0===(1073741824&i))return t=null!==o?o.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,La(Rl,Al),Al|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:i,La(Rl,Al),Al|=n}else null!==o?(n=o.baseLanes|i,e.memoizedState=null):n=i,La(Rl,Al),Al|=n;return xs(t,e,a,i),e.child}function Ds(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Ls(t,e,i,n,a){var o=Aa(i)?Ea:Ia.current;return o=Ta(e,o),Eo(e,a),i=mr(t,e,i,n,o,a),n=yr(),null===t||bs?(ao&&n&&to(e),e.flags|=1,xs(t,e,i,a),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Us(t,e,a))}function Cs(t,e,i,n,a){if(Aa(i)){var o=!0;Ba(e)}else o=!1;if(Eo(e,a),null===e.stateNode)Ws(t,e),rs(e,i,n),ls(e,i,n,a),n=!0;else if(null===t){var r=e.stateNode,s=e.memoizedProps;r.props=s;var l=r.context,c=i.contextType;"object"===typeof c&&null!==c?c=To(c):c=Ta(e,c=Aa(i)?Ea:Ia.current);var u=i.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate;d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==n||l!==c)&&ss(e,r,n,c),Bo=!1;var h=e.memoizedState;r.state=h,Wo(e,n,r,a),l=e.memoizedState,s!==n||h!==l||Na.current||Bo?("function"===typeof u&&(ns(e,i,u,n),l=e.memoizedState),(s=Bo||os(e,i,s,n,h,l,c))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(e.flags|=4194308)):("function"===typeof r.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),r.props=n,r.state=l,r.context=c,n=s):("function"===typeof r.componentDidMount&&(e.flags|=4194308),n=!1)}else{r=e.stateNode,_o(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:is(e.type,s),r.props=c,d=e.pendingProps,h=r.context,"object"===typeof(l=i.contextType)&&null!==l?l=To(l):l=Ta(e,l=Aa(i)?Ea:Ia.current);var p=i.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==d||h!==l)&&ss(e,r,n,l),Bo=!1,h=e.memoizedState,r.state=h,Wo(e,n,r,a);var g=e.memoizedState;s!==d||h!==g||Na.current||Bo?("function"===typeof p&&(ns(e,i,p,n),g=e.memoizedState),(c=Bo||os(e,i,c,n,h,g,l)||!1)?(u||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,g,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof r.componentDidUpdate&&(e.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof r.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),r.props=n,r.state=g,r.context=l,n=c):("function"!==typeof r.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Is(t,e,i,n,o,a)}function Is(t,e,i,n,a,o){Ds(t,e);var r=0!==(128&e.flags);if(!n&&!r)return a&&za(e,i,!1),Us(t,e,o);n=e.stateNode,vs.current=e;var s=r&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&r?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,s,o)):xs(t,e,s,o),e.memoizedState=n.state,a&&za(e,i,!0),e.child}function Ns(t){var e=t.stateNode;e.pendingContext?Oa(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oa(0,e.context,!1),qo(t,e.containerInfo)}function Es(t,e,i,n,a){return go(),fo(a),e.flags|=256,xs(t,e,i,n),e.child}var Ts,As,Rs,Os,Ps={dehydrated:null,treeContext:null,retryLane:0};function Bs(t){return{baseLanes:t,cachePool:null,transitions:null}}function zs(t,e,i){var n,a=e.pendingProps,r=tr.current,s=!1,l=0!==(128&e.flags);if((n=l)||(n=(null===t||null!==t.memoizedState)&&0!==(2&r)),n?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(r|=1),La(tr,1&r),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=a.children,t=a.fallback,s?(a=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Bc(l,a,0,null),t=Pc(t,a,i,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bs(i),e.memoizedState=Ps,t):_s(e,l));if(null!==(r=t.memoizedState)&&null!==(n=r.dehydrated))return function(t,e,i,n,a,r,s){if(i)return 256&e.flags?(e.flags&=-257,Fs(t,e,s,n=us(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(r=n.fallback,a=e.mode,n=Bc({mode:"visible",children:n.children},a,0,null),(r=Pc(r,a,s,null)).flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,0!==(1&e.mode)&&ko(e,t.child,null,s),e.child.memoizedState=Bs(s),e.memoizedState=Ps,r);if(0===(1&e.mode))return Fs(t,e,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Fs(t,e,s,n=us(r=Error(o(419)),n,void 0))}if(l=0!==(s&t.childLanes),bs||l){if(null!==(n=Nl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==r.retryLane&&(r.retryLane=a,Po(t,a),ic(n,t,a,-1))}return fc(),Fs(t,e,s,n=us(Error(o(421))))}return"$?"===a.data?(e.flags|=128,e.child=t.child,e=Cc.bind(null,t),a._reactRetry=e,null):(t=r.treeContext,no=ca(a.nextSibling),io=e,ao=!0,oo=null,null!==t&&(Ha[Za++]=qa,Ha[Za++]=Qa,Ha[Za++]=Xa,qa=t.id,Qa=t.overflow,Xa=e),e=_s(e,n.children),e.flags|=4096,e)}(t,e,l,a,n,r,i);if(s){s=a.fallback,l=e.mode,n=(r=t.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&e.child!==r?((a=e.child).childLanes=0,a.pendingProps=c,e.deletions=null):(a=Rc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==n?s=Rc(n,s):(s=Pc(s,l,i,null)).flags|=2,s.return=e,a.return=e,a.sibling=s,e.child=a,a=s,s=e.child,l=null===(l=t.child.memoizedState)?Bs(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~i,e.memoizedState=Ps,a}return t=(s=t.child).sibling,a=Rc(s,{mode:"visible",children:a.children}),0===(1&e.mode)&&(a.lanes=i),a.return=e,a.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=a,e.memoizedState=null,a}function _s(t,e){return(e=Bc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fs(t,e,i,n){return null!==n&&fo(n),ko(e,t.child,null,i),(t=_s(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Gs(t,e,i){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),No(t.return,e,i)}function js(t,e,i,n,a){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=i,o.tailMode=a)}function Vs(t,e,i){var n=e.pendingProps,a=n.revealOrder,o=n.tail;if(xs(t,e,n.children,i),0!==(2&(n=tr.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Gs(t,i,e);else if(19===t.tag)Gs(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(La(tr,n),0===(1&e.mode))e.memoizedState=null;else switch(a){case"forwards":for(i=e.child,a=null;null!==i;)null!==(t=i.alternate)&&null===er(t)&&(a=i),i=i.sibling;null===(i=a)?(a=e.child,e.child=null):(a=i.sibling,i.sibling=null),js(e,!1,a,i,o);break;case"backwards":for(i=null,a=e.child,e.child=null;null!==a;){if(null!==(t=a.alternate)&&null===er(t)){e.child=a;break}t=a.sibling,a.sibling=i,i=a,a=t}js(e,!0,i,null,o);break;case"together":js(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ws(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Us(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),Bl|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=Rc(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Rc(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Ks(t,e){if(!ao)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ys(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,n=0;if(e)for(var a=t.child;null!==a;)i|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=t,a=a.sibling;else for(a=t.child;null!==a;)i|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function Hs(t,e,i){var n=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(e),null;case 1:case 17:return Aa(e.type)&&Ra(),Ys(e),null;case 3:return n=e.stateNode,Qo(),Da(Na),Da(Ia),nr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(rc(oo),oo=null))),As(t,e),Ys(e),null;case 5:$o(e);var a=Xo(Zo.current);if(i=e.type,null!==t&&null!=e.stateNode)Rs(t,e,i,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(o(166));return Ys(e),null}if(t=Xo(Yo.current),ho(e)){n=e.stateNode,i=e.type;var r=e.memoizedProps;switch(n[ha]=e,n[pa]=r,t=0!==(1&e.mode),i){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(a=0;a<Pn.length;a++)Fn(Pn[a],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":q(n,r),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},Fn("invalid",n);break;case"textarea":at(n,r),Fn("invalid",n)}for(var l in vt(i,r),a=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==r.suppressHydrationWarning&&Jn(n.textContent,c,t),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Jn(n.textContent,c,t),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fn("scroll",n)}switch(i){case"input":Y(n),$(n,r,!0);break;case"textarea":Y(n),rt(n);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(n.onclick=$n)}n=a,e.updateQueue=n,null!==n&&(e.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(i,{is:n.is}):(t=l.createElement(i),"select"===i&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,i),t[ha]=e,t[pa]=n,Ts(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(i,n),i){case"dialog":Fn("cancel",t),Fn("close",t),a=n;break;case"iframe":case"object":case"embed":Fn("load",t),a=n;break;case"video":case"audio":for(a=0;a<Pn.length;a++)Fn(Pn[a],t);a=n;break;case"source":Fn("error",t),a=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),a=n;break;case"details":Fn("toggle",t),a=n;break;case"input":q(t,n),a=X(t,n),Fn("invalid",t);break;case"option":default:a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=z({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":at(t,n),a=nt(t,n),Fn("invalid",t)}for(r in vt(i,a),c=a)if(c.hasOwnProperty(r)){var u=c[r];"style"===r?mt(t,u):"dangerouslySetInnerHTML"===r?null!=(u=u?u.__html:void 0)&&dt(t,u):"children"===r?"string"===typeof u?("textarea"!==i||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(s.hasOwnProperty(r)?null!=u&&"onScroll"===r&&Fn("scroll",t):null!=u&&b(t,r,u,l))}switch(i){case"input":Y(t),$(t,n,!1);break;case"textarea":Y(t),rt(t);break;case"option":null!=n.value&&t.setAttribute("value",""+U(n.value));break;case"select":t.multiple=!!n.multiple,null!=(r=n.value)?it(t,!!n.multiple,r,!1):null!=n.defaultValue&&it(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(t.onclick=$n)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ys(e),null;case 6:if(t&&null!=e.stateNode)Os(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));if(i=Xo(Zo.current),Xo(Yo.current),ho(e)){if(n=e.stateNode,i=e.memoizedProps,n[ha]=e,(r=n.nodeValue!==i)&&null!==(t=io))switch(t.tag){case 3:Jn(n.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,i,0!==(1&t.mode))}r&&(e.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[ha]=e,e.stateNode=n}return Ys(e),null;case 13:if(Da(tr),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ao&&null!==no&&0!==(1&e.mode)&&0===(128&e.flags))po(),go(),e.flags|=98560,r=!1;else if(r=ho(e),null!==n&&null!==n.dehydrated){if(null===t){if(!r)throw Error(o(318));if(!(r=null!==(r=e.memoizedState)?r.dehydrated:null))throw Error(o(317));r[ha]=e}else go(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ys(e),r=!1}else null!==oo&&(rc(oo),oo=null),r=!0;if(!r)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&tr.current)?0===Ol&&(Ol=3):fc())),null!==e.updateQueue&&(e.flags|=4),Ys(e),null);case 4:return Qo(),As(t,e),null===t&&Vn(e.stateNode.containerInfo),Ys(e),null;case 10:return Io(e.type._context),Ys(e),null;case 19:if(Da(tr),null===(r=e.memoizedState))return Ys(e),null;if(n=0!==(128&e.flags),null===(l=r.rendering))if(n)Ks(r,!1);else{if(0!==Ol||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=er(t))){for(e.flags|=128,Ks(r,!1),null!==(n=l.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;null!==i;)t=n,(r=i).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return La(tr,1&tr.current|2),e.child}t=t.sibling}null!==r.tail&&Qt()>Vl&&(e.flags|=128,n=!0,Ks(r,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=er(l))){if(e.flags|=128,n=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),Ks(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!ao)return Ys(e),null}else 2*Qt()-r.renderingStartTime>Vl&&1073741824!==i&&(e.flags|=128,n=!0,Ks(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=r.last)?i.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Qt(),e.sibling=null,i=tr.current,La(tr,n?1&i|2:1&i),e):(Ys(e),null);case 22:case 23:return dc(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Al)&&(Ys(e),6&e.subtreeFlags&&(e.flags|=8192)):Ys(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Zs(t,e){switch(eo(e),e.tag){case 1:return Aa(e.type)&&Ra(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qo(),Da(Na),Da(Ia),nr(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return $o(e),null;case 13:if(Da(tr),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));go()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Da(tr),null;case 4:return Qo(),null;case 10:return Io(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ts=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},As=function(){},Rs=function(t,e,i,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Xo(Yo.current);var o,r=null;switch(i){case"input":a=X(t,a),n=X(t,n),r=[];break;case"select":a=z({},a,{value:void 0}),n=z({},n,{value:void 0}),r=[];break;case"textarea":a=nt(t,a),n=nt(t,n),r=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(t.onclick=$n)}for(u in vt(i,n),i=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(i||(i={}),i[o]=c[o])}else i||(r||(r=[]),r.push(u,i)),i=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fn("scroll",t),r||l===c||(r=[])):(r=r||[]).push(u,c))}i&&(r=r||[]).push("style",i);var u=r;(e.updateQueue=u)&&(e.flags|=4)}},Os=function(t,e,i,n){i!==n&&(e.flags|=4)};var Xs=!1,qs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function $s(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){Mc(t,e,n)}else i.current=null}function tl(t,e,i){try{i()}catch(n){Mc(t,e,n)}}var el=!1;function il(t,e,i){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&t)===t){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(e,i,o)}a=a.next}while(a!==n)}}function nl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function al(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ha],delete e[pa],delete e[fa],delete e[ma],delete e[ya])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rl(t){return 5===t.tag||3===t.tag||4===t.tag}function sl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||rl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=$n));else if(4!==n&&null!==(t=t.child))for(ll(t,e,i),t=t.sibling;null!==t;)ll(t,e,i),t=t.sibling}function cl(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(cl(t,e,i),t=t.sibling;null!==t;)cl(t,e,i),t=t.sibling}var ul=null,dl=!1;function hl(t,e,i){for(i=i.child;null!==i;)pl(t,e,i),i=i.sibling}function pl(t,e,i){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ae,i)}catch(s){}switch(i.tag){case 5:qs||$s(i,e);case 6:var n=ul,a=dl;ul=null,hl(t,e,i),dl=a,null!==(ul=n)&&(dl?(t=ul,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):ul.removeChild(i.stateNode));break;case 18:null!==ul&&(dl?(t=ul,i=i.stateNode,8===t.nodeType?la(t.parentNode,i):1===t.nodeType&&la(t,i),Ve(t)):la(ul,i.stateNode));break;case 4:n=ul,a=dl,ul=i.stateNode.containerInfo,dl=!0,hl(t,e,i),ul=n,dl=a;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var o=a,r=o.destroy;o=o.tag,void 0!==r&&(0!==(2&o)||0!==(4&o))&&tl(i,e,r),a=a.next}while(a!==n)}hl(t,e,i);break;case 1:if(!qs&&($s(i,e),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(s){Mc(i,e,s)}hl(t,e,i);break;case 21:hl(t,e,i);break;case 22:1&i.mode?(qs=(n=qs)||null!==i.memoizedState,hl(t,e,i),qs=n):hl(t,e,i);break;default:hl(t,e,i)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Qs),e.forEach((function(e){var n=Ic.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}function fl(t,e){var i=e.deletions;if(null!==i)for(var n=0;n<i.length;n++){var a=i[n];try{var r=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));pl(r,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Mc(a,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fl(e,t),yl(t),4&n){try{il(3,t,t.return),nl(3,t)}catch(m){Mc(t,t.return,m)}try{il(5,t,t.return)}catch(m){Mc(t,t.return,m)}}break;case 1:fl(e,t),yl(t),512&n&&null!==i&&$s(i,i.return);break;case 5:if(fl(e,t),yl(t),512&n&&null!==i&&$s(i,i.return),32&t.flags){var a=t.stateNode;try{ht(a,"")}catch(m){Mc(t,t.return,m)}}if(4&n&&null!=(a=t.stateNode)){var r=t.memoizedProps,s=null!==i?i.memoizedProps:r,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&Q(a,r),bt(l,s);var u=bt(l,r);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?mt(a,h):"dangerouslySetInnerHTML"===d?dt(a,h):"children"===d?ht(a,h):b(a,d,h,u)}switch(l){case"input":J(a,r);break;case"textarea":ot(a,r);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!r.multiple;var g=r.value;null!=g?it(a,!!r.multiple,g,!1):p!==!!r.multiple&&(null!=r.defaultValue?it(a,!!r.multiple,r.defaultValue,!0):it(a,!!r.multiple,r.multiple?[]:"",!1))}a[pa]=r}catch(m){Mc(t,t.return,m)}}break;case 6:if(fl(e,t),yl(t),4&n){if(null===t.stateNode)throw Error(o(162));a=t.stateNode,r=t.memoizedProps;try{a.nodeValue=r}catch(m){Mc(t,t.return,m)}}break;case 3:if(fl(e,t),yl(t),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(m){Mc(t,t.return,m)}break;case 4:default:fl(e,t),yl(t);break;case 13:fl(e,t),yl(t),8192&(a=t.child).flags&&(r=null!==a.memoizedState,a.stateNode.isHidden=r,!r||null!==a.alternate&&null!==a.alternate.memoizedState||(jl=Qt())),4&n&&gl(t);break;case 22:if(d=null!==i&&null!==i.memoizedState,1&t.mode?(qs=(u=qs)||d,fl(e,t),qs=u):fl(e,t),yl(t),8192&n){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!d&&0!==(1&t.mode))for(Js=t,d=t.child;null!==d;){for(h=Js=d;null!==Js;){switch(g=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:$s(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,i=p.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){Mc(n,i,m)}}break;case 5:$s(p,p.return);break;case 22:if(null!==p.memoizedState){kl(h);continue}}null!==g?(g.return=p,Js=g):kl(h)}d=d.sibling}t:for(d=null,h=t;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(r=a.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ft("display",s))}catch(m){Mc(t,t.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Mc(t,t.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(e,t),yl(t),4&n&&gl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(rl(i)){var n=i;break t}i=i.return}throw Error(o(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(ht(a,""),n.flags&=-33),cl(t,sl(t),a);break;case 3:case 4:var r=n.stateNode.containerInfo;ll(t,sl(t),r);break;default:throw Error(o(161))}}catch(s){Mc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,i){Js=t,bl(t,e,i)}function bl(t,e,i){for(var n=0!==(1&t.mode);null!==Js;){var a=Js,o=a.child;if(22===a.tag&&n){var r=null!==a.memoizedState||Xs;if(!r){var s=a.alternate,l=null!==s&&null!==s.memoizedState||qs;s=Xs;var c=qs;if(Xs=r,(qs=l)&&!c)for(Js=a;null!==Js;)l=(r=Js).child,22===r.tag&&null!==r.memoizedState?Sl(a):null!==l?(l.return=r,Js=l):Sl(a);for(;null!==o;)Js=o,bl(o,e,i),o=o.sibling;Js=a,Xs=s,qs=c}xl(t)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Js=o):xl(t)}}function xl(t){for(;null!==Js;){var e=Js;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:qs||nl(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!qs)if(null===i)n.componentDidMount();else{var a=e.elementType===e.type?i.memoizedProps:is(e.type,i.memoizedProps);n.componentDidUpdate(a,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;null!==r&&Uo(e,r,n);break;case 3:var s=e.updateQueue;if(null!==s){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}Uo(e,s,i)}break;case 5:var l=e.stateNode;if(null===i&&4&e.flags){i=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ve(h)}}}break;default:throw Error(o(163))}qs||512&e.flags&&al(e)}catch(p){Mc(e,e.return,p)}}if(e===t){Js=null;break}if(null!==(i=e.sibling)){i.return=e.return,Js=i;break}Js=e.return}}function kl(t){for(;null!==Js;){var e=Js;if(e===t){Js=null;break}var i=e.sibling;if(null!==i){i.return=e.return,Js=i;break}Js=e.return}}function Sl(t){for(;null!==Js;){var e=Js;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{nl(4,e)}catch(l){Mc(e,i,l)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var a=e.return;try{n.componentDidMount()}catch(l){Mc(e,a,l)}}var o=e.return;try{al(e)}catch(l){Mc(e,o,l)}break;case 5:var r=e.return;try{al(e)}catch(l){Mc(e,r,l)}}}catch(l){Mc(e,e.return,l)}if(e===t){Js=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Js=s;break}Js=e.return}}var wl,Ml=Math.ceil,Dl=x.ReactCurrentDispatcher,Ll=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Il=0,Nl=null,El=null,Tl=0,Al=0,Rl=Ma(0),Ol=0,Pl=null,Bl=0,zl=0,_l=0,Fl=null,Gl=null,jl=0,Vl=1/0,Wl=null,Ul=!1,Kl=null,Yl=null,Hl=!1,Zl=null,Xl=0,ql=0,Ql=null,Jl=-1,$l=0;function tc(){return 0!==(6&Il)?Qt():-1!==Jl?Jl:Jl=Qt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Il)&&0!==Tl?Tl&-Tl:null!==mo.transition?(0===$l&&($l=fe()),$l):0!==(t=be)?t:t=void 0===(t=window.event)?16:qe(t.type)}function ic(t,e,i,n){if(50<ql)throw ql=0,Ql=null,Error(o(185));ye(t,i,n),0!==(2&Il)&&t===Nl||(t===Nl&&(0===(2&Il)&&(zl|=i),4===Ol&&sc(t,Tl)),nc(t,n),1===i&&0===Il&&0===(1&e.mode)&&(Vl=Qt()+500,Fa&&Va()))}function nc(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var r=31-re(o),s=1<<r,l=a[r];-1===l?0!==(s&i)&&0===(s&n)||(a[r]=pe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var n=he(t,t===Nl?Tl:0);if(0===n)null!==i&&Zt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=i&&Zt(i),1===e)0===t.tag?function(t){Fa=!0,ja(t)}(lc.bind(null,t)):ja(lc.bind(null,t)),ra((function(){0===(6&Il)&&Va()})),i=null;else{switch(xe(n)){case 1:i=$t;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=ne}i=Nc(i,ac.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function ac(t,e){if(Jl=-1,$l=0,0!==(6&Il))throw Error(o(327));var i=t.callbackNode;if(Sc()&&t.callbackNode!==i)return null;var n=he(t,t===Nl?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=mc(t,n);else{e=n;var a=Il;Il|=2;var r=gc();for(Nl===t&&Tl===e||(Wl=null,Vl=Qt()+500,hc(t,e));;)try{vc();break}catch(l){pc(t,l)}Co(),Dl.current=r,Il=a,null!==El?e=0:(Nl=null,Tl=0,e=Ol)}if(0!==e){if(2===e&&(0!==(a=ge(t))&&(n=a,e=oc(t,a))),1===e)throw i=Pl,hc(t,0),sc(t,n),nc(t,Qt()),i;if(6===e)sc(t,n);else{if(a=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var a=i[n],o=a.getSnapshot;a=a.value;try{if(!sn(o(),a))return!1}catch(s){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(a)&&(2===(e=mc(t,n))&&(0!==(r=ge(t))&&(n=r,e=oc(t,r))),1===e))throw i=Pl,hc(t,0),sc(t,n),nc(t,Qt()),i;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(o(345));case 2:case 5:kc(t,Gl,Wl);break;case 3:if(sc(t,n),(130023424&n)===n&&10<(e=jl+500-Qt())){if(0!==he(t,0))break;if(((a=t.suspendedLanes)&n)!==n){tc(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=na(kc.bind(null,t,Gl,Wl),e);break}kc(t,Gl,Wl);break;case 4:if(sc(t,n),(4194240&n)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-re(n);r=1<<s,(s=e[s])>a&&(a=s),n&=~r}if(n=a,10<(n=(120>(n=Qt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ml(n/1960))-n)){t.timeoutHandle=na(kc.bind(null,t,Gl,Wl),n);break}kc(t,Gl,Wl);break;default:throw Error(o(329))}}}return nc(t,Qt()),t.callbackNode===i?ac.bind(null,t):null}function oc(t,e){var i=Fl;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),2!==(t=mc(t,e))&&(e=Gl,Gl=i,null!==e&&rc(e)),t}function rc(t){null===Gl?Gl=t:Gl.push.apply(Gl,t)}function sc(t,e){for(e&=~_l,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-re(e),n=1<<i;t[i]=-1,e&=~n}}function lc(t){if(0!==(6&Il))throw Error(o(327));Sc();var e=he(t,0);if(0===(1&e))return nc(t,Qt()),null;var i=mc(t,e);if(0!==t.tag&&2===i){var n=ge(t);0!==n&&(e=n,i=oc(t,n))}if(1===i)throw i=Pl,hc(t,0),sc(t,e),nc(t,Qt()),i;if(6===i)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kc(t,Gl,Wl),nc(t,Qt()),null}function cc(t,e){var i=Il;Il|=1;try{return t(e)}finally{0===(Il=i)&&(Vl=Qt()+500,Fa&&Va())}}function uc(t){null!==Zl&&0===Zl.tag&&0===(6&Il)&&Sc();var e=Il;Il|=1;var i=Cl.transition,n=be;try{if(Cl.transition=null,be=1,t)return t()}finally{be=n,Cl.transition=i,0===(6&(Il=e))&&Va()}}function dc(){Al=Rl.current,Da(Rl)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,aa(i)),null!==El)for(i=El.return;null!==i;){var n=i;switch(eo(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ra();break;case 3:Qo(),Da(Na),Da(Ia),nr();break;case 5:$o(n);break;case 4:Qo();break;case 13:case 19:Da(tr);break;case 10:Io(n.type._context);break;case 22:case 23:dc()}i=i.return}if(Nl=t,El=t=Rc(t.current,null),Tl=Al=e,Ol=0,Pl=null,_l=zl=Bl=0,Gl=Fl=null,null!==Ao){for(e=0;e<Ao.length;e++)if(null!==(n=(i=Ao[e]).interleaved)){i.interleaved=null;var a=n.next,o=i.pending;if(null!==o){var r=o.next;o.next=a,n.next=r}i.pending=n}Ao=null}return t}function pc(t,e){for(;;){var i=El;try{if(Co(),ar.current=Jr,ur){for(var n=sr.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}ur=!1}if(rr=0,cr=lr=sr=null,dr=!1,hr=0,Ll.current=null,null===i||null===i.return){Ol=1,Pl=e,El=null;break}t:{var r=t,s=i.return,l=i,c=e;if(e=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ms(s);if(null!==g){g.flags&=-257,ys(g,s,l,0,e),1&g.mode&&fs(r,u,e),c=u;var f=(e=g).updateQueue;if(null===f){var m=new Set;m.add(c),e.updateQueue=m}else f.add(c);break t}if(0===(1&e)){fs(r,u,e),fc();break t}c=Error(o(426))}else if(ao&&1&l.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,e),fo(cs(c,l));break t}}r=c=cs(c,l),4!==Ol&&(Ol=2),null===Fl?Fl=[r]:Fl.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e,Vo(r,ps(0,c,e));break t;case 1:l=c;var v=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){r.flags|=65536,e&=-e,r.lanes|=e,Vo(r,gs(r,l,e));break t}}r=r.return}while(null!==r)}xc(i)}catch(x){e=x,El===i&&null!==i&&(El=i=i.return);continue}break}}function gc(){var t=Dl.current;return Dl.current=Jr,null===t?Jr:t}function fc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Nl||0===(268435455&Bl)&&0===(268435455&zl)||sc(Nl,Tl)}function mc(t,e){var i=Il;Il|=2;var n=gc();for(Nl===t&&Tl===e||(Wl=null,hc(t,e));;)try{yc();break}catch(a){pc(t,a)}if(Co(),Il=i,Dl.current=n,null!==El)throw Error(o(261));return Nl=null,Tl=0,Ol}function yc(){for(;null!==El;)bc(El)}function vc(){for(;null!==El&&!Xt();)bc(El)}function bc(t){var e=wl(t.alternate,t,Al);t.memoizedProps=t.pendingProps,null===e?xc(t):El=e,Ll.current=null}function xc(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=Hs(i,e,Al)))return void(El=i)}else{if(null!==(i=Zs(i,e)))return i.flags&=32767,void(El=i);if(null===t)return Ol=6,void(El=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(El=e);El=e=t}while(null!==e);0===Ol&&(Ol=5)}function kc(t,e,i){var n=be,a=Cl.transition;try{Cl.transition=null,be=1,function(t,e,i,n){do{Sc()}while(null!==Zl);if(0!==(6&Il))throw Error(o(327));i=t.finishedWork;var a=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var r=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var a=31-re(i),o=1<<a;e[a]=0,n[a]=-1,t[a]=-1,i&=~o}}(t,r),t===Nl&&(El=Nl=null,Tl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Hl||(Hl=!0,Nc(ee,(function(){return Sc(),null}))),r=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||r){r=Cl.transition,Cl.transition=null;var s=be;be=1;var l=Il;Il|=4,Ll.current=null,function(t,e){if(ta=Ue,pn(t=hn())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var a=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch(k){i=null;break t}var s=0,l=-1,c=-1,u=0,d=0,h=t,p=null;e:for(;;){for(var g;h!==i||0!==a&&3!==h.nodeType||(l=s+a),h!==r||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===t)break e;if(p===i&&++u===a&&(l=s),p===r&&++d===n&&(c=s),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(ea={focusedElem:t,selectionRange:i},Ue=!1,Js=e;null!==Js;)if(t=(e=Js).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Js=t;else for(;null!==Js;){e=Js;try{var f=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,y=f.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:is(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(k){Mc(e,e.return,k)}if(null!==(t=e.sibling)){t.return=e.return,Js=t;break}Js=e.return}f=el,el=!1}(t,i),ml(i,t),gn(ea),Ue=!!ta,ea=ta=null,t.current=i,vl(i,t,a),qt(),Il=l,be=s,Cl.transition=r}else t.current=i;if(Hl&&(Hl=!1,Zl=t,Xl=a),r=t.pendingLanes,0===r&&(Yl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ae,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),nc(t,Qt()),null!==e)for(n=t.onRecoverableError,i=0;i<e.length;i++)a=e[i],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ul)throw Ul=!1,t=Kl,Kl=null,t;0!==(1&Xl)&&0!==t.tag&&Sc(),r=t.pendingLanes,0!==(1&r)?t===Ql?ql++:(ql=0,Ql=t):ql=0,Va()}(t,e,i,n)}finally{Cl.transition=a,be=n}return null}function Sc(){if(null!==Zl){var t=xe(Xl),e=Cl.transition,i=be;try{if(Cl.transition=null,be=16>t?16:t,null===Zl)var n=!1;else{if(t=Zl,Zl=null,Xl=0,0!==(6&Il))throw Error(o(331));var a=Il;for(Il|=4,Js=t.current;null!==Js;){var r=Js,s=r.child;if(0!==(16&Js.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:il(8,d,r)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,g=d.return;if(ol(d),d===u){Js=null;break}if(null!==p){p.return=g,Js=p;break}Js=g}}}var f=r.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=r}}if(0!==(2064&r.subtreeFlags)&&null!==s)s.return=r,Js=s;else t:for(;null!==Js;){if(0!==(2048&(r=Js).flags))switch(r.tag){case 0:case 11:case 15:il(9,r,r.return)}var v=r.sibling;if(null!==v){v.return=r.return,Js=v;break t}Js=r.return}}var b=t.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else t:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(S){Mc(l,l.return,S)}if(l===s){Js=null;break t}var k=l.sibling;if(null!==k){k.return=l.return,Js=k;break t}Js=l.return}}if(Il=a,Va(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ae,t)}catch(S){}n=!0}return n}finally{be=i,Cl.transition=e}}return!1}function wc(t,e,i){t=Go(t,e=ps(0,e=cs(i,e),1),1),e=tc(),null!==t&&(ye(t,1,e),nc(t,e))}function Mc(t,e,i){if(3===t.tag)wc(t,t,i);else for(;null!==e;){if(3===e.tag){wc(e,t,i);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yl||!Yl.has(n))){e=Go(e,t=gs(e,t=cs(i,t),1),1),t=tc(),null!==e&&(ye(e,1,t),nc(e,t));break}}e=e.return}}function Dc(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&i,Nl===t&&(Tl&i)===i&&(4===Ol||3===Ol&&(130023424&Tl)===Tl&&500>Qt()-jl?hc(t,0):_l|=i),nc(t,e)}function Lc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var i=tc();null!==(t=Po(t,e))&&(ye(t,e,i),nc(t,i))}function Cc(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),Lc(t,i)}function Ic(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;null!==a&&(i=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(e),Lc(t,i)}function Nc(t,e){return Ht(t,e)}function Ec(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(t,e,i,n){return new Ec(t,e,i,n)}function Ac(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rc(t,e){var i=t.alternate;return null===i?((i=Tc(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Oc(t,e,i,n,a,r){var s=2;if(n=t,"function"===typeof t)Ac(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case w:return Pc(i.children,a,r,e);case M:s=8,a|=8;break;case D:return(t=Tc(12,i,e,2|a)).elementType=D,t.lanes=r,t;case N:return(t=Tc(13,i,e,a)).elementType=N,t.lanes=r,t;case E:return(t=Tc(19,i,e,a)).elementType=E,t.lanes=r,t;case R:return Bc(i,a,r,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case L:s=10;break t;case C:s=9;break t;case I:s=11;break t;case T:s=14;break t;case A:s=16,n=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Tc(s,i,e,a)).elementType=t,e.type=n,e.lanes=r,e}function Pc(t,e,i,n){return(t=Tc(7,t,n,e)).lanes=i,t}function Bc(t,e,i,n){return(t=Tc(22,t,n,e)).elementType=R,t.lanes=i,t.stateNode={isHidden:!1},t}function zc(t,e,i){return(t=Tc(6,t,null,e)).lanes=i,t}function _c(t,e,i){return(e=Tc(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fc(t,e,i,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gc(t,e,i,n,a,o,r,s,l){return t=new Fc(t,e,i,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Tc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},zo(o),t}function jc(t){if(!t)return Ca;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Aa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var i=t.type;if(Aa(i))return Pa(t,i,e)}return e}function Vc(t,e,i,n,a,o,r,s,l){return(t=Gc(i,n,!0,t,0,o,0,s,l)).context=jc(null),i=t.current,(o=Fo(n=tc(),a=ec(i))).callback=void 0!==e&&null!==e?e:null,Go(i,o,a),t.current.lanes=a,ye(t,a,n),nc(t,n),t}function Wc(t,e,i,n){var a=e.current,o=tc(),r=ec(a);return i=jc(i),null===e.context?e.context=i:e.pendingContext=i,(e=Fo(o,r)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Go(a,e,r))&&(ic(t,a,r,o),jo(t,a,r)),r}function Uc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Yc(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}wl=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Na.current)bs=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return bs=!1,function(t,e,i){switch(e.tag){case 3:Ns(e),go();break;case 5:Jo(e);break;case 1:Aa(e.type)&&Ba(e);break;case 4:qo(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;La(wo,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(La(tr,1&tr.current),e.flags|=128,null):0!==(i&e.child.childLanes)?zs(t,e,i):(La(tr,1&tr.current),null!==(t=Us(t,e,i))?t.sibling:null);La(tr,1&tr.current);break;case 19:if(n=0!==(i&e.childLanes),0!==(128&t.flags)){if(n)return Vs(t,e,i);e.flags|=128}if(null!==(a=e.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),La(tr,tr.current),n)break;return null;case 22:case 23:return e.lanes=0,Ms(t,e,i)}return Us(t,e,i)}(t,e,i);bs=0!==(131072&t.flags)}else bs=!1,ao&&0!==(1048576&e.flags)&&$a(e,Ya,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ws(t,e),t=e.pendingProps;var a=Ta(e,Ia.current);Eo(e,i),a=mr(null,e,n,t,a,i);var r=yr();return e.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Aa(n)?(r=!0,Ba(e)):r=!1,e.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,zo(e),a.updater=as,e.stateNode=a,a._reactInternals=e,ls(e,n,t,i),e=Is(null,e,n,!0,r,i)):(e.tag=0,ao&&r&&to(e),xs(null,e,a,i),e=e.child),e;case 16:n=e.elementType;t:{switch(Ws(t,e),t=e.pendingProps,n=(a=n._init)(n._payload),e.type=n,a=e.tag=function(t){if("function"===typeof t)return Ac(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===T)return 14}return 2}(n),t=is(n,t),a){case 0:e=Ls(null,e,n,t,i);break t;case 1:e=Cs(null,e,n,t,i);break t;case 11:e=ks(null,e,n,t,i);break t;case 14:e=Ss(null,e,n,is(n.type,t),i);break t}throw Error(o(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,Ls(t,e,n,a=e.elementType===n?a:is(n,a),i);case 1:return n=e.type,a=e.pendingProps,Cs(t,e,n,a=e.elementType===n?a:is(n,a),i);case 3:t:{if(Ns(e),null===t)throw Error(o(387));n=e.pendingProps,a=(r=e.memoizedState).element,_o(t,e),Wo(e,n,null,i);var s=e.memoizedState;if(n=s.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=r,e.memoizedState=r,256&e.flags){e=Es(t,e,n,i,a=cs(Error(o(423)),e));break t}if(n!==a){e=Es(t,e,n,i,a=cs(Error(o(424)),e));break t}for(no=ca(e.stateNode.containerInfo.firstChild),io=e,ao=!0,oo=null,i=So(e,null,n,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(go(),n===a){e=Us(t,e,i);break t}xs(t,e,n,i)}e=e.child}return e;case 5:return Jo(e),null===t&&co(e),n=e.type,a=e.pendingProps,r=null!==t?t.memoizedProps:null,s=a.children,ia(n,a)?s=null:null!==r&&ia(n,r)&&(e.flags|=32),Ds(t,e),xs(t,e,s,i),e.child;case 6:return null===t&&co(e),null;case 13:return zs(t,e,i);case 4:return qo(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=ko(e,null,n,i):xs(t,e,n,i),e.child;case 11:return n=e.type,a=e.pendingProps,ks(t,e,n,a=e.elementType===n?a:is(n,a),i);case 7:return xs(t,e,e.pendingProps,i),e.child;case 8:case 12:return xs(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(n=e.type._context,a=e.pendingProps,r=e.memoizedProps,s=a.value,La(wo,n._currentValue),n._currentValue=s,null!==r)if(sn(r.value,s)){if(r.children===a.children&&!Na.current){e=Us(t,e,i);break t}}else for(null!==(r=e.child)&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){s=r.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===r.tag){(c=Fo(-1,i&-i)).tag=2;var u=r.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=i,null!==(c=r.alternate)&&(c.lanes|=i),No(r.return,i,e),l.lanes|=i;break}c=c.next}}else if(10===r.tag)s=r.type===e.type?null:r.child;else if(18===r.tag){if(null===(s=r.return))throw Error(o(341));s.lanes|=i,null!==(l=s.alternate)&&(l.lanes|=i),No(s,i,e),s=r.sibling}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}xs(t,e,a.children,i),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Eo(e,i),n=n(a=To(a)),e.flags|=1,xs(t,e,n,i),e.child;case 14:return a=is(n=e.type,e.pendingProps),Ss(t,e,n,a=is(n.type,a),i);case 15:return ws(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:is(n,a),Ws(t,e),e.tag=1,Aa(n)?(t=!0,Ba(e)):t=!1,Eo(e,i),rs(e,n,a),ls(e,n,a,i),Is(null,e,n,!0,t,i);case 19:return Vs(t,e,i);case 22:return Ms(t,e,i)}throw Error(o(156,e.tag))};var Hc="function"===typeof reportError?reportError:function(t){console.error(t)};function Zc(t){this._internalRoot=t}function Xc(t){this._internalRoot=t}function qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jc(){}function $c(t,e,i,n,a){var o=i._reactRootContainer;if(o){var r=o;if("function"===typeof a){var s=a;a=function(){var t=Uc(r);s.call(t)}}Wc(e,r,t,a)}else r=function(t,e,i,n,a){if(a){if("function"===typeof n){var o=n;n=function(){var t=Uc(r);o.call(t)}}var r=Vc(e,n,t,0,null,!1,0,"",Jc);return t._reactRootContainer=r,t[ga]=r.current,Vn(8===t.nodeType?t.parentNode:t),uc(),r}for(;a=t.lastChild;)t.removeChild(a);if("function"===typeof n){var s=n;n=function(){var t=Uc(l);s.call(t)}}var l=Gc(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=l,t[ga]=l.current,Vn(8===t.nodeType?t.parentNode:t),uc((function(){Wc(e,l,i,n)})),l}(i,e,t,a,n);return Uc(r)}Xc.prototype.render=Zc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Wc(t,e,null,null)},Xc.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Wc(null,t,null,null)})),e[ga]=null}},Xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Me();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Re.length&&0!==e&&e<Re[i].priority;i++);Re.splice(i,0,t),0===i&&ze(t)}},ke=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=de(e.pendingLanes);0!==i&&(ve(e,1|i),nc(e,Qt()),0===(6&Il)&&(Vl=Qt()+500,Va()))}break;case 13:uc((function(){var e=Po(t,1);if(null!==e){var i=tc();ic(e,t,1,i)}})),Yc(t,1)}},Se=function(t){if(13===t.tag){var e=Po(t,134217728);if(null!==e)ic(e,t,134217728,tc());Yc(t,134217728)}},we=function(t){if(13===t.tag){var e=ec(t),i=Po(t,e);if(null!==i)ic(i,t,e,tc());Yc(t,e)}},Me=function(){return be},De=function(t,e){var i=be;try{return be=t,e()}finally{be=i}},St=function(t,e,i){switch(e){case"input":if(J(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var a=ka(n);if(!a)throw Error(o(90));H(n),J(n,a)}}}break;case"textarea":ot(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},It=cc,Nt=uc;var tu={usingClientEntryPoint:!1,Events:[ba,xa,ka,Lt,Ct,cc]},eu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Kt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ae=nu.inject(iu),oe=nu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(e))throw Error(o(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!qc(t))throw Error(o(299));var i=!1,n="",a=Hc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(a=e.onRecoverableError)),e=Gc(t,1,!1,null,0,i,0,n,a),t[ga]=e.current,Vn(8===t.nodeType?t.parentNode:t),new Zc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Kt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,i){if(!Qc(e))throw Error(o(200));return $c(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!qc(t))throw Error(o(405));var n=null!=i&&i.hydratedSources||null,a=!1,r="",s=Hc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(a=!0),void 0!==i.identifierPrefix&&(r=i.identifierPrefix),void 0!==i.onRecoverableError&&(s=i.onRecoverableError)),e=Vc(e,null,t,1,null!=i?i:null,a,0,r,s),t[ga]=e.current,Vn(t),n)for(t=0;t<n.length;t++)a=(a=(i=n[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,a]:e.mutableSourceEagerHydrationData.push(i,a);return new Xc(e)},e.render=function(t,e,i){if(!Qc(e))throw Error(o(200));return $c(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Qc(t))throw Error(o(40));return!!t._reactRootContainer&&(uc((function(){$c(null,null,t,!1,(function(){t._reactRootContainer=null,t[ga]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Qc(i))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return $c(t,e,i,!1,n)},e.version="18.3.1-next-f1338f8080-20240426"},391:(t,e,i)=>{var n=i(950);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},950:(t,e,i)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)},153:(t,e,i)=>{var n=i(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,i){var n,o={},c=null,u=null;for(n in void 0!==i&&(c=""+i),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)r.call(e,n)&&!l.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:a,type:t,key:c,ref:u,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},202:(t,e)=>{var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function y(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||g}function v(){}function b(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||g}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,f(x,y.prototype),x.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,w={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function D(t,e,n){var a,o={},r=null,s=null;if(null!=e)for(a in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(r=""+e.key),e)S.call(e,a)&&!M.hasOwnProperty(a)&&(o[a]=e[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(a in l=t.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:i,type:t,key:r,ref:s,props:o,_owner:w.current}}function L(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var C=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function N(t,e,a,o,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case n:l=!0}}if(l)return r=r(l=t),t=""===o?"."+I(l,0):o,k(r)?(a="",null!=t&&(a=t.replace(C,"$&/")+"/"),N(r,e,a,"",(function(t){return t}))):null!=r&&(L(r)&&(r=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(r,a+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(C,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=""===o?".":o+":",k(t))for(var c=0;c<t.length;c++){var u=o+I(s=t[c],c);l+=N(s,e,a,u,r)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=N(s=s.value,e,a,u=o+I(s,c++),r);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function E(t,e,i){if(null==t)return t;var n=[],a=0;return N(t,n,"","",(function(t){return e.call(i,t,a++)})),n}function T(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var A={current:null},R={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};function P(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:E,forEach:function(t,e,i){E(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return E(t,(function(){e++})),e},toArray:function(t){return E(t,(function(t){return t}))||[]},only:function(t){if(!L(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=a,e.Profiler=r,e.PureComponent=b,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=P,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=f({},t.props),o=t.key,r=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(r=e.ref,s=w.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)S.call(e,c)&&!M.hasOwnProperty(c)&&(a[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:i,type:t.type,key:o,ref:r,props:a,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=D,e.createFactory=function(t){var e=D.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=L,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:T}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=R.transition;R.transition={};try{t()}finally{R.transition=e}},e.unstable_act=P,e.useCallback=function(t,e){return A.current.useCallback(t,e)},e.useContext=function(t){return A.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return A.current.useDeferredValue(t)},e.useEffect=function(t,e){return A.current.useEffect(t,e)},e.useId=function(){return A.current.useId()},e.useImperativeHandle=function(t,e,i){return A.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return A.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return A.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return A.current.useMemo(t,e)},e.useReducer=function(t,e,i){return A.current.useReducer(t,e,i)},e.useRef=function(t){return A.current.useRef(t)},e.useState=function(t){return A.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return A.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return A.current.useTransition()},e.version="18.3.1"},43:(t,e,i)=>{t.exports=i(202)},579:(t,e,i)=>{t.exports=i(153)},234:(t,e)=>{function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var n=i-1>>>1,a=t[n];if(!(0<o(a,e)))break t;t[n]=e,t[i]=a,i=n}}function n(t){return 0===t.length?null:t[0]}function a(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,a=t.length,r=a>>>1;n<r;){var s=2*(n+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,i))c<a&&0>o(u,l)?(t[n]=u,t[c]=i,n=c):(t[n]=l,t[s]=i,n=s);else{if(!(c<a&&0>o(u,i)))break t;t[n]=u,t[c]=i,n=c}}}return e}function o(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,g=!1,f=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(t){for(var e=n(u);null!==e;){if(null===e.callback)a(u);else{if(!(e.startTime<=t))break;a(u),e.sortIndex=e.expirationTime,i(c,e)}e=n(u)}}function k(t){if(m=!1,x(t),!f)if(null!==n(c))f=!0,R(S);else{var e=n(u);null!==e&&O(k,e.startTime-t)}}function S(t,i){f=!1,m&&(m=!1,v(L),L=-1),g=!0;var o=p;try{for(x(i),h=n(c);null!==h&&(!(h.expirationTime>i)||t&&!N());){var r=h.callback;if("function"===typeof r){h.callback=null,p=h.priorityLevel;var s=r(h.expirationTime<=i);i=e.unstable_now(),"function"===typeof s?h.callback=s:h===n(c)&&a(c),x(i)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&O(k,d.startTime-i),l=!1}return l}finally{h=null,p=o,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,M=!1,D=null,L=-1,C=5,I=-1;function N(){return!(e.unstable_now()-I<C)}function E(){if(null!==D){var t=e.unstable_now();I=t;var i=!0;try{i=D(!0,t)}finally{i?w():(M=!1,D=null)}}else M=!1}if("function"===typeof b)w=function(){b(E)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=E,w=function(){A.postMessage(null)}}else w=function(){y(E,0)};function R(t){D=t,M||(M=!0,w())}function O(t,i){L=y((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){f||g||(f=!0,R(S))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var i=p;p=e;try{return t()}finally{p=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=p;p=t;try{return e()}finally{p=i}},e.unstable_scheduleCallback=function(t,a,o){var r=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?r+o:r:o=r,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:d++,callback:a,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>r?(t.sortIndex=o,i(u,t),null===n(c)&&t===n(u)&&(m?(v(L),L=-1):m=!0,O(k,o-r))):(t.sortIndex=s,i(c,t),f||g||(f=!0,R(S))),t},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(t){var e=p;return function(){var i=p;p=e;try{return t.apply(this,arguments)}finally{p=i}}}},853:(t,e,i)=>{t.exports=i(234)}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}i.m=t,(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var o=Object.create(null);i.r(o);var r={};t=t||[null,e({}),e([]),e(e)];for(var s=2&a&&n;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>r[t]=()=>n[t]));return r.default=()=>n,i.d(o,r),o}})(),i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,n)=>(i.f[n](t,e),e)),[])),i.u=t=>"static/js/"+t+".800a6649.chunk.js",i.miniCssF=t=>{},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="open-shop-dashboard:";i.l=(n,a,o,r)=>{if(t[n])t[n].push(a);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+o),s.src=n),t[n]=[a];var h=(e,i)=>{s.onerror=s.onload=null,clearTimeout(p);var a=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((t=>t(i))),e)return e(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),i.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="/dashboard/",(()=>{var t={792:0};i.f.j=(e,n)=>{var a=i.o(t,e)?t[e]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((i,n)=>a=t[e]=[i,n]));n.push(a[2]=o);var r=i.p+i.u(e),s=new Error;i.l(r,(n=>{if(i.o(t,e)&&(0!==(a=t[e])&&(t[e]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}}),"chunk-"+e,e)}};var e=(e,n)=>{var a,o,r=n[0],s=n[1],l=n[2],c=0;if(r.some((e=>0!==t[e]))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(l)l(i)}for(e&&e(n);c<r.length;c++)o=r[c],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkopen_shop_dashboard=self.webpackChunkopen_shop_dashboard||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var n,a=i(43),o=i.t(a,2),r=i(391),s=i(950),l=i.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},c.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(n||(n={}));const u="popstate";function d(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function h(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(i){}}}function p(t,e){return{usr:t.state,key:t.key,idx:e}}function g(t,e,i,n){return void 0===i&&(i=null),c({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?m(e):e,{state:i,key:e&&e.key||n||Math.random().toString(36).substr(2,8)})}function f(t){let{pathname:e="/",search:i="",hash:n=""}=t;return i&&"?"!==i&&(e+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function m(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function y(t,e,i,a){void 0===a&&(a={});let{window:o=document.defaultView,v5Compat:r=!1}=a,s=o.history,l=n.Pop,h=null,m=y();function y(){return(s.state||{idx:null}).idx}function v(){l=n.Pop;let t=y(),e=null==t?null:t-m;m=t,h&&h({action:l,location:x.location,delta:e})}function b(t){let e="null"!==o.location.origin?o.location.origin:o.location.href,i="string"===typeof t?t:f(t);return i=i.replace(/ $/,"%20"),d(e,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,e)}null==m&&(m=0,s.replaceState(c({},s.state,{idx:m}),""));let x={get action(){return l},get location(){return t(o,s)},listen(t){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,v),h=t,()=>{o.removeEventListener(u,v),h=null}},createHref:t=>e(o,t),createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l=n.Push;let a=g(x.location,t,e);i&&i(a,t),m=y()+1;let c=p(a,m),u=x.createHref(a);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(u)}r&&h&&h({action:l,location:x.location,delta:1})},replace:function(t,e){l=n.Replace;let a=g(x.location,t,e);i&&i(a,t),m=y();let o=p(a,m),c=x.createHref(a);s.replaceState(o,"",c),r&&h&&h({action:l,location:x.location,delta:0})},go:t=>s.go(t)};return x}var v;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(t,e,i){return void 0===i&&(i="/"),x(t,e,i,!1)}function x(t,e,i,n){let a=O(("string"===typeof e?m(e):e).pathname||"/",i);if(null==a)return null;let o=k(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let i=t.length===e.length&&t.slice(0,-1).every(((t,i)=>t===e[i]));return i?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(o);let r=null;for(let s=0;null==r&&s<o.length;++s){let t=R(a);r=T(o[s],t,n)}return r}function k(t,e,i,n){void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===n&&(n="");let a=(t,a,o)=>{let r={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};r.relativePath.startsWith("/")&&(d(r.relativePath.startsWith(n),'Absolute route path "'+r.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(n.length));let s=F([n,r.relativePath]),l=i.concat(r);t.children&&t.children.length>0&&(d(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),k(t.children,e,l,s)),(null!=t.path||t.index)&&e.push({path:s,score:E(s,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var i;if(""!==t.path&&null!=(i=t.path)&&i.includes("?"))for(let n of S(t.path))a(t,e,n);else a(t,e)})),e}function S(t){let e=t.split("/");if(0===e.length)return[];let[i,...n]=e,a=i.endsWith("?"),o=i.replace(/\?$/,"");if(0===n.length)return a?[o,""]:[o];let r=S(n.join("/")),s=[];return s.push(...r.map((t=>""===t?o:[o,t].join("/")))),a&&s.push(...r),s.map((e=>t.startsWith("/")&&""===e?"/":e))}const w=/^:[\w-]+$/,M=3,D=2,L=1,C=10,I=-2,N=t=>"*"===t;function E(t,e){let i=t.split("/"),n=i.length;return i.some(N)&&(n+=I),e&&(n+=D),i.filter((t=>!N(t))).reduce(((t,e)=>t+(w.test(e)?M:""===e?L:C)),n)}function T(t,e,i){void 0===i&&(i=!1);let{routesMeta:n}=t,a={},o="/",r=[];for(let s=0;s<n.length;++s){let t=n[s],l=s===n.length-1,c="/"===o?e:e.slice(o.length)||"/",u=A({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),d=t.route;if(!u&&l&&i&&!n[n.length-1].route.index&&(u=A({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),r.push({params:a,pathname:F([o,u.pathname]),pathnameBase:G(F([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=F([o,u.pathnameBase]))}return r}function A(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[i,n]=function(t,e,i){void 0===e&&(e=!1);void 0===i&&(i=!0);h("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,i)=>(n.push({paramName:e,isOptional:null!=i}),i?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(n.push({paramName:"*"}),a+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":""!==t&&"/"!==t&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,e?void 0:"i");return[o,n]}(t.path,t.caseSensitive,t.end),a=e.match(i);if(!a)return null;let o=a[0],r=o.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=n.reduce(((t,e,i)=>{let{paramName:n,isOptional:a}=e;if("*"===n){let t=s[i]||"";r=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const l=s[i];return t[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:o,pathnameBase:r,pattern:t}}function R(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return h(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function O(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,n=t.charAt(i);return n&&"/"!==n?null:t.slice(i)||"/"}function P(t,e,i,n){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function B(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function z(t,e){let i=B(t);return e?i.map(((t,e)=>e===i.length-1?t.pathname:t.pathnameBase)):i.map((t=>t.pathnameBase))}function _(t,e,i,n){let a;void 0===n&&(n=!1),"string"===typeof t?a=m(t):(a=c({},t),d(!a.pathname||!a.pathname.includes("?"),P("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),P("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),P("#","search","hash",a)));let o,r=""===t||""===a.pathname,s=r?"/":a.pathname;if(null==s)o=i;else{let t=e.length-1;if(!n&&s.startsWith("..")){let e=s.split("/");for(;".."===e[0];)e.shift(),t-=1;a.pathname=e.join("/")}o=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:i,search:n="",hash:a=""}="string"===typeof t?m(t):t,o=i?i.startsWith("/")?i:function(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?i.length>1&&i.pop():"."!==t&&i.push(t)})),i.length>1?i.join("/"):"/"}(i,e):e;return{pathname:o,search:j(n),hash:V(a)}}(a,o),u=s&&"/"!==s&&s.endsWith("/"),h=(r||"."===s)&&i.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const F=t=>t.join("/").replace(/\/\/+/g,"/"),G=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",V=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function W(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const U=["post","put","patch","delete"],K=(new Set(U),["get",...U]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Y.apply(this,arguments)}const H=a.createContext(null);const Z=a.createContext(null);const X=a.createContext(null);const q=a.createContext(null);const Q=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function $(){return null!=a.useContext(q)}function tt(){return $()||d(!1),a.useContext(q).location}function et(t){a.useContext(X).static||a.useLayoutEffect(t)}function it(){let{isDataRoute:t}=a.useContext(Q);return t?function(){let{router:t}=pt(dt.UseNavigateStable),e=ft(ht.UseNavigateStable),i=a.useRef(!1);return et((()=>{i.current=!0})),a.useCallback((function(n,a){void 0===a&&(a={}),i.current&&("number"===typeof n?t.navigate(n):t.navigate(n,Y({fromRouteId:e},a)))}),[t,e])}():function(){$()||d(!1);let t=a.useContext(H),{basename:e,future:i,navigator:n}=a.useContext(X),{matches:o}=a.useContext(Q),{pathname:r}=tt(),s=JSON.stringify(z(o,i.v7_relativeSplatPath)),l=a.useRef(!1);return et((()=>{l.current=!0})),a.useCallback((function(i,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof i)return void n.go(i);let o=_(i,JSON.parse(s),r,"path"===a.relative);null==t&&"/"!==e&&(o.pathname="/"===o.pathname?e:F([e,o.pathname])),(a.replace?n.replace:n.push)(o,a.state,a)}),[e,n,s,r,t])}()}const nt=a.createContext(null);function at(t,e){let{relative:i}=void 0===e?{}:e,{future:n}=a.useContext(X),{matches:o}=a.useContext(Q),{pathname:r}=tt(),s=JSON.stringify(z(o,n.v7_relativeSplatPath));return a.useMemo((()=>_(t,JSON.parse(s),r,"path"===i)),[t,s,r,i])}function ot(t,e,i,o){$()||d(!1);let{navigator:r}=a.useContext(X),{matches:s}=a.useContext(Q),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=tt();if(e){var g;let t="string"===typeof e?m(e):e;"/"===u||(null==(g=t.pathname)?void 0:g.startsWith(u))||d(!1),h=t}else h=p;let f=h.pathname||"/",y=f;if("/"!==u){let t=u.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(t.length).join("/")}let v=b(t,{pathname:y});let x=ut(v&&v.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:F([u,r.encodeLocation?r.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?u:F([u,r.encodeLocation?r.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),s,i,o);return e&&x?a.createElement(q.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:n.Pop}},x):x}function rt(){let t=function(){var t;let e=a.useContext(J),i=gt(ht.UseRouteError),n=ft(ht.UseRouteError);if(void 0!==e)return e;return null==(t=i.errors)?void 0:t[n]}(),e=W(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},e),i?a.createElement("pre",{style:o},i):null,null)}const st=a.createElement(rt,null);class lt extends a.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?a.createElement(Q.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ct(t){let{routeContext:e,match:i,children:n}=t,o=a.useContext(H);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),a.createElement(Q.Provider,{value:e},n)}function ut(t,e,i,n){var o;if(void 0===e&&(e=[]),void 0===i&&(i=null),void 0===n&&(n=null),null==t){var r;if(null==(r=i)||!r.errors)return null;t=i.matches}let s=t,l=null==(o=i)?void 0:o.errors;if(null!=l){let t=s.findIndex((t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id])));t>=0||d(!1),s=s.slice(0,Math.min(s.length,t+1))}let c=!1,u=-1;if(i&&n&&n.v7_partialHydration)for(let a=0;a<s.length;a++){let t=s[a];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=a),t.route.id){let{loaderData:e,errors:n}=i,a=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||a){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((t,n,o)=>{let r,d=!1,h=null,p=null;var g;i&&(r=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||st,c&&(u<0&&0===o?(g="route-fallback",!1||mt[g]||(mt[g]=!0),d=!0,p=null):u===o&&(d=!0,p=n.route.hydrateFallbackElement||null)));let f=e.concat(s.slice(0,o+1)),m=()=>{let e;return e=r?h:d?p:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:t,a.createElement(ct,{match:n,routeContext:{outlet:t,matches:f,isDataRoute:null!=i},children:e})};return i&&(n.route.ErrorBoundary||n.route.errorElement||0===o)?a.createElement(lt,{location:i.location,revalidation:i.revalidation,component:h,error:r,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}var dt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dt||{}),ht=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ht||{});function pt(t){let e=a.useContext(H);return e||d(!1),e}function gt(t){let e=a.useContext(Z);return e||d(!1),e}function ft(t){let e=function(){let t=a.useContext(Q);return t||d(!1),t}(),i=e.matches[e.matches.length-1];return i.route.id||d(!1),i.route.id}const mt={};o.startTransition;function yt(t){return function(t){let e=a.useContext(Q).outlet;return e?a.createElement(nt.Provider,{value:t},e):e}(t.context)}function vt(t){d(!1)}function bt(t){let{basename:e="/",children:i=null,location:o,navigationType:r=n.Pop,navigator:s,static:l=!1,future:c}=t;$()&&d(!1);let u=e.replace(/^\/*/,"/"),h=a.useMemo((()=>({basename:u,navigator:s,static:l,future:Y({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof o&&(o=m(o));let{pathname:p="/",search:g="",hash:f="",state:y=null,key:v="default"}=o,b=a.useMemo((()=>{let t=O(p,u);return null==t?null:{location:{pathname:t,search:g,hash:f,state:y,key:v},navigationType:r}}),[u,p,g,f,y,v,r]);return null==b?null:a.createElement(X.Provider,{value:h},a.createElement(q.Provider,{children:i,value:b}))}function xt(t){let{children:e,location:i}=t;return ot(kt(e),i)}new Promise((()=>{}));a.Component;function kt(t,e){void 0===e&&(e=[]);let i=[];return a.Children.forEach(t,((t,n)=>{if(!a.isValidElement(t))return;let o=[...e,n];if(t.type===a.Fragment)return void i.push.apply(i,kt(t.props.children,o));t.type!==vt&&d(!1),t.props.index&&t.props.children&&d(!1);let r={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(r.children=kt(t.props.children,o)),i.push(r)})),i}function St(){return St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},St.apply(this,arguments)}function wt(t,e){if(null==t)return{};var i,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(a[i]=t[i]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Mt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(ub){}new Map;const Dt=o.startTransition;l.flushSync,o.useId;function Lt(t){let{basename:e,children:i,future:n,window:o}=t,r=a.useRef();var s;null==r.current&&(r.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),y((function(t,e){let{pathname:i,search:n,hash:a}=t.location;return g("",{pathname:i,search:n,hash:a},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:f(e)}),null,s)));let l=r.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},h=a.useCallback((t=>{d&&Dt?Dt((()=>u(t))):u(t)}),[u,d]);return a.useLayoutEffect((()=>l.listen(h)),[l,h]),a.createElement(bt,{basename:e,children:i,location:c.location,navigationType:c.action,navigator:l,future:n})}const Ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,It=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=a.forwardRef((function(t,e){let i,{onClick:n,relative:o,reloadDocument:r,replace:s,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:p}=t,g=wt(t,Mt),{basename:m}=a.useContext(X),y=!1;if("string"===typeof u&&It.test(u)&&(i=u,Ct))try{let t=new URL(window.location.href),e=u.startsWith("//")?new URL(t.protocol+u):new URL(u),i=O(e.pathname,m);e.origin===t.origin&&null!=i?u=i+e.search+e.hash:y=!0}catch(ub){}let v=function(t,e){let{relative:i}=void 0===e?{}:e;$()||d(!1);let{basename:n,navigator:o}=a.useContext(X),{hash:r,pathname:s,search:l}=at(t,{relative:i}),c=s;return"/"!==n&&(c="/"===s?n:F([n,s])),o.createHref({pathname:c,search:l,hash:r})}(u,{relative:o}),b=function(t,e){let{target:i,replace:n,state:o,preventScrollReset:r,relative:s,unstable_viewTransition:l}=void 0===e?{}:e,c=it(),u=tt(),d=at(t,{relative:s});return a.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,i)){e.preventDefault();let i=void 0!==n?n:f(u)===f(d);c(t,{replace:i,state:o,preventScrollReset:r,relative:s,unstable_viewTransition:l})}}),[u,c,d,n,o,i,t,r,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,unstable_viewTransition:p});return a.createElement("a",St({},g,{href:i||v,onClick:y||r?n:function(t){n&&n(t),t.defaultPrevented||b(t)},ref:e,target:c}))}));var Et,Tt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Et||(Et={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Tt||(Tt={}));var At={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rt=a.createContext&&a.createContext(At),Ot=["attr","size","title"];function Pt(t,e){if(null==t)return{};var i,n,a=function(t,e){if(null==t)return{};var i={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;i[n]=t[n]}return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}function Bt(){return Bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Bt.apply(this,arguments)}function zt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(i),!0).forEach((function(e){Ft(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ft(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Gt(t){return t&&t.map(((t,e)=>a.createElement(t.tag,_t({key:e},t.attr),Gt(t.child))))}function jt(t){return e=>a.createElement(Vt,Bt({attr:_t({},t.attr)},e),Gt(t.child))}function Vt(t){var e=e=>{var i,{attr:n,size:o,title:r}=t,s=Pt(t,Ot),l=o||e.size||"1em";return e.className&&(i=e.className),t.className&&(i=(i?i+" ":"")+t.className),a.createElement("svg",Bt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,s,{className:i,style:_t(_t({color:t.color||e.color},e.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&a.createElement("title",null,r),t.children)};return void 0!==Rt?a.createElement(Rt.Consumer,null,(t=>e(t))):e(At)}function Wt(t){return jt({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#4CAF50"},child:[{tag:"rect",attr:{x:"40",y:"21",width:"4",height:"23"},child:[]},{tag:"rect",attr:{x:"34",y:"28",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"28",y:"23",width:"4",height:"21"},child:[]},{tag:"rect",attr:{x:"22",y:"29",width:"4",height:"15"},child:[]},{tag:"rect",attr:{x:"16",y:"32",width:"4",height:"12"},child:[]},{tag:"rect",attr:{x:"10",y:"30",width:"4",height:"14"},child:[]},{tag:"rect",attr:{x:"4",y:"34",width:"4",height:"10"},child:[]}]},{tag:"g",attr:{fill:"#388E3C"},child:[{tag:"polygon",attr:{points:"40.1,9.1 34,15.2 30,11.2 20,21.2 15,16.2 4.6,26.6 7.4,29.4 15,21.8 20,26.8 30,16.8 34,20.8 42.9,11.9"},child:[]},{tag:"polygon",attr:{points:"44,8 35,8 44,17"},child:[]}]}]})(t)}function Ut(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},child:[]}]})(t)}function Kt(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},child:[]}]})(t)}function Yt(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"},child:[]}]})(t)}function Ht(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]}]})(t)}function Zt(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},child:[]}]})(t)}function Xt(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function qt(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function Qt(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"},child:[]}]})(t)}function Jt(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"},child:[]}]})(t)}function $t(t){return jt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},child:[]}]})(t)}var te=i(579);const ee=[{key:"dashboard",label:"Dashboard",path:"/Dashboard",icon:(0,te.jsx)($t,{})},{key:"products",label:"Products",path:"/products",icon:(0,te.jsx)(Zt,{})},{key:"orders",label:"Orders",path:"/orders",icon:(0,te.jsx)(Qt,{})},{key:"customers",label:"Customers",path:"/customers",icon:(0,te.jsx)(Jt,{})},{key:"transactions",label:"Transactions",path:"/transactions",icon:(0,te.jsx)($t,{})},{key:"messages",label:"Messages",path:"/messages",icon:(0,te.jsx)(Ut,{})}],ie=[{key:"settings",label:"Settings",path:"/settings",icon:(0,te.jsx)(Ht,{})},{key:"help&support",label:"Help & Supports",path:"/supports",icon:(0,te.jsx)(qt,{})},{key:"Logout",label:"Log-out",path:"/Logout",icon:(0,te.jsx)(Xt,{})}],ne=()=>(0,te.jsxs)("div",{className:"bg-neutral-900 w-60 p-3 flex flex-col text-white",children:[(0,te.jsxs)("div",{className:"flex items-center gap-2 px-1 py-3",children:[(0,te.jsx)(Wt,{fontSize:30}),(0,te.jsx)("span",{className:"text-neutral-100 text-xl",children:"OpenShop"})]}),(0,te.jsx)("div",{className:"flex-1 ",children:ee.map((t=>(0,te.jsx)(ae,{item:t},t.key)))}),(0,te.jsxs)("div",{children:[(0,te.jsx)("hr",{className:"gap-2 px-3 my-2"}),ie.map((t=>(0,te.jsx)(ae,{item:t},t.key)))]})]});function ae(t){let{item:e}=t;return(0,te.jsxs)(Nt,{to:e.path,className:"flex items-center gap-2 font-light px-3 py-2 hover:bg-neutral-700 hover:no-undrline active:bg-neutral-600 rounded-sm text-base",children:[(0,te.jsx)("span",{className:"text-xl",children:e.icon}),e.label]})}const oe=()=>(0,te.jsxs)("div",{className:"bg-white h-16  px-4 flex justify-between items-center border-b ",children:[(0,te.jsx)("div",{className:"relative",children:(0,te.jsx)("input",{type:"text",placeholder:"search...",className:"text-sm focus:outline-none active:outline-none h-10 w-[24rem] border border-gray-300 rounded-sm px-4"})}),(0,te.jsxs)("div",{className:"flex items-center gap-2 mr-2 ",children:[(0,te.jsx)(Yt,{className:"cursor-pointer",fontSize:24}),(0,te.jsx)(Kt,{className:"cursor-pointer",fontSize:24})]})]});var re=Object.defineProperty,se=Object.getOwnPropertyDescriptor,le=(t,e)=>{for(var i in e)re(t,i,{get:e[i],enumerable:!0})},ce=(t,e,i,n)=>{for(var a,o=n>1?void 0:n?se(e,i):e,r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n?a(e,i,o):a(o))||o);return n&&o&&re(e,i,o),o},ue={ariaAnnounceVisible:"visible",ariaAnnounceHidden:"hidden",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number], ",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarAnnotationsTrendLine:"Trend line",toolbarAnnotationsHorizontalLine:"Horizontal line",toolbarAnnotationsVerticalLine:"Vertical line",toolbarAnnotationsParallelChannel:"Parallel channel",toolbarAnnotationsDisjointChannel:"Disjoint channel",toolbarAnnotationsClearAll:"Clear all annotations",toolbarAnnotationsColor:"Pick annotation color",toolbarAnnotationsLock:"Lock annotation",toolbarAnnotationsUnlock:"Unlock annotation",toolbarAnnotationsDelete:"Delete annotation",toolbarRange1Month:"1m",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3m",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6m",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here"};var de=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(de||{});le({},{TimeInterval:()=>ve,day:()=>_e,friday:()=>Ye,hour:()=>Be,millisecond:()=>xe,minute:()=>Re,monday:()=>Ve,month:()=>Xe,saturday:()=>He,second:()=>Ee,sunday:()=>je,thursday:()=>Ke,tuesday:()=>We,utcDay:()=>ei,utcHour:()=>ti,utcMinute:()=>$e,utcMonth:()=>ii,utcYear:()=>ni,wednesday:()=>Ue,year:()=>Qe});var he=new Map;function pe(t,e){he.has(e)||(he.set(e,!0),t())}function ge(t){return t}function*fe(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e)yield*n}function me(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const{leading:n=!0,trailing:a=!0}=null!==i&&void 0!==i?i:{};let o,r,s=!1;function l(){a&&r?(o=setTimeout(l,e),t(...r)):s=!1,r=null}return Object.assign((function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];s?r=a:(s=!0,o=setTimeout(l,e),n?t(...a):r=a)}),{cancel(){clearTimeout(o),s=!1,r=null}})}pe.clear=()=>he.clear();var ye={log(){console.log(...arguments)},warn(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];console.warn("AG Charts - ".concat(t),...i)},error(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];"object"===typeof t?console.error("AG Charts error",t,...i):console.error("AG Charts - ".concat(t),...i)},table(){console.table(...arguments)},warnOnce(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];pe((()=>ye.warn(t,...i)),"Logger.warn: ".concat(t))},errorOnce(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];pe((()=>ye.error(t,...i)),"Logger.error: ".concat(t))}},ve=class{constructor(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}floor(t){const e=new Date(t),i=this._encode(e);return this._decode(i)}ceil(t){const e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)}range(t,e,i){var n;const a=null===(n=this._rangeCallback)||void 0===n?void 0:n.call(this,t,e),o=this._encode(i?this.floor(t):this.ceil(t)),r=this._encode(i?this.ceil(e):this.floor(e));if(r<o)return[];const s=[];for(let l=o;l<=r;l++){const t=this._decode(l);s.push(t)}return null===a||void 0===a||a(),s}},be=class extends ve{getOffset(t,e){const i="number"===typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(i)%e}every(t,e){let i,n=0;const a=t;a!==(t=Math.max(1,Math.round(t)))&&ye.warnOnce("interval step of [".concat(a,"] rounded to [").concat(t,"]."));const{snapTo:o="start"}=null!==e&&void 0!==e?e:{};if("string"===typeof o){const e=n;i=(i,a)=>{const r="start"===o?i:a;return n=this.getOffset(r,t),()=>n=e}}else"number"===typeof o?n=this.getOffset(new Date(o),t):o instanceof Date&&(n=this.getOffset(o,t));return new ve((e=>{const i=this._encode(e);return Math.floor((i-n)/t)}),(e=>this._decode(e*t+n)),i)}};var xe=new be((function(t){return t.getTime()}),(function(t){return new Date(t)})),ke=xe,Se=(new Date(0).getFullYear(),1e3),we=60*Se,Me=60*we,De=24*Me,Le=7*De,Ce=30*De,Ie=365*De,Ne=(new Date).getTimezoneOffset()*we;var Ee=new be((function(t){return Math.floor((t.getTime()-Ne)/Se)}),(function(t){return new Date(Ne+t*Se)})),Te=Ee,Ae=(new Date).getTimezoneOffset()*we;var Re=new be((function(t){return Math.floor((t.getTime()-Ae)/we)}),(function(t){return new Date(Ae+t*we)})),Oe=Re,Pe=(new Date).getTimezoneOffset()*we;var Be=new be((function(t){return Math.floor((t.getTime()-Pe)/Me)}),(function(t){return new Date(Pe+t*Me)})),ze=Be;var _e=new be((function(t){const e=t.getTimezoneOffset()*we;return Math.floor((t.getTime()-e)/De)}),(function(t){const e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e})),Fe=_e;function Ge(t){const e=(7+t-4)%7;return new be((function(t){const i=t.getTimezoneOffset()*we;return Math.floor((t.getTime()-i)/Le-e/7)}),(function(t){const i=new Date(1970,0,1);return i.setDate(i.getDate()+7*t+e),i}))}var je=Ge(0),Ve=Ge(1),We=Ge(2),Ue=Ge(3),Ke=Ge(4),Ye=Ge(5),He=Ge(6),Ze=je;var Xe=new be((function(t){return 12*t.getFullYear()+t.getMonth()}),(function(t){const e=Math.floor(t/12);return new Date(e,t-12*e,1)})),qe=Xe;var Qe=new be((function(t){return t.getFullYear()}),(function(t){const e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e})),Je=Qe;var $e=new be((function(t){return Math.floor(t.getTime()/we)}),(function(t){return new Date(t*we)}));var ti=new be((function(t){return Math.floor(t.getTime()/Me)}),(function(t){return new Date(t*Me)}));var ei=new be((function(t){return Math.floor(t.getTime()/De)}),(function(t){const e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}));var ii=new be((function(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}),(function(t){const e=Math.floor(t/12),i=t-12*e;return new Date(Date.UTC(e,i,1))}));var ni=new be((function(t){return t.getUTCFullYear()}),(function(t){const e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e})),ai={};le(ai,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Xn,fromToMotion:()=>qn,staticFromToMotion:()=>Qn});var oi=new Map;function ri(){oi.clear()}function si(t){var e;const i=t.constructor,n=Object.hasOwn(i,"className")?i.className:i.name;if(!n)throw new Error("The ".concat(i," is missing the 'className' property."));const a=(null!==(e=oi.get(n))&&void 0!==e?e:0)+1;return oi.set(n,a),"".concat(n,"-").concat(a)}function li(){return URL.createObjectURL(new Blob).split("/").at(-1)}var ci="$interpolate",ui=t=>null!=t[ci];function di(t,e,i){const n={nearest:void 0,distanceSquared:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0};for(const a of i){const i=a.distanceSquared(t,e);if(0===i)return{nearest:a,distanceSquared:0};i<n.distanceSquared&&(n.nearest=a,n.distanceSquared=i)}return n}function hi(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const{x:a,y:o}=i.transformPoint(t,e),r={nearest:void 0,distanceSquared:n};for(const s of i.children){const{nearest:t,distanceSquared:e}=s.nearestSquared(a,o,r.distanceSquared);if(0===e)return{nearest:t,distanceSquared:e};e<r.distanceSquared&&(r.nearest=t,r.distanceSquared=e)}return r}function pi(t,e,i){return Math.min(i,Math.max(t,e))}function gi(t,e){const[i,n]=fi(e);return pi(i,t,n)}function fi(t){return t.length?[Math.min(...t),Math.max(...t)]:[]}function mi(t){const[e,i]=fi(t);return i-e}function yi(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return Math.abs(t-e)<i}function vi(t){return-1===Math.sign(t)||Object.is(t,-0)}function bi(t){const e=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2);return Math.round(t*e)/e}function xi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.floor(Math.log(Math.abs(t))/Math.LN10);return i>=0||!isFinite(i)?t.toFixed(e):t.toFixed(Math.abs(i)-1+e)}function ki(t,e){return Math.floor(t%e+(t<0?e:0))}function Si(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[,i=""]=(Math.abs(t)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:e}).split(".");return i.length}function wi(t,e){var i;return e=null!==(i=e)&&void 0!==i?i:navigator.language,new Intl.NumberFormat(e,{style:"percent"}).format(t)}function Mi(t,e){return wi(t/100,e)}var Di=class t{constructor(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}static fromDOMRect(e){let{x:i,y:n,width:a,height:o}=e;return new t(i,n,a,o)}clone(){const{x:e,y:i,width:n,height:a}=this;return new t(e,i,n,a)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,e){if(this.containsPoint(t,e))return 0;const i=t-pi(this.x,t,this.x+this.width),n=e-pi(this.y,e,this.y+this.height);return i*i+n*n}static nearestBox(t,e,i){return di(t,e,i)}clip(t){if(void 0===t)return this;const e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),a=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.y=i,this.width=Math.max(0,n-e),this.height=Math.max(0,a-i),this}shrink(t,e){const i=(t,e)=>{switch(t){case"top":this.y+=e;case"bottom":this.height-=e;break;case"left":this.x+=e;case"right":this.width-=e;break;case"vertical":this.y+=e,this.height-=2*e;break;case"horizontal":this.x+=e,this.width-=2*e;break;case void 0:this.x+=e,this.width-=2*e,this.y+=e,this.height-=2*e}};return"number"===typeof t?i(e,t):"object"===typeof t&&Object.entries(t).forEach((t=>{let[e,n]=t;return i(e,n)})),this}grow(t,e){if("number"===typeof t)this.shrink(-t,e);else{const e={...t};for(const t in e)e[t]*=-1;this.shrink(e)}return this}translate(t,e){return this.x+=t,this.y+=e,this}combine(t){const{x:e,y:i,width:n,height:a}=this;this.x=Math.min(e,t.x),this.y=Math.min(i,t.y),this.width=Math.max(e+n,t.x+t.width)-this.x,this.height=Math.max(i+a,t.y+t.height)-this.y}static merge(e){let i=1/0,n=1/0,a=-1/0,o=-1/0;for(const t of e)t.x<i&&(i=t.x),t.y<n&&(n=t.y),t.x+t.width>a&&(a=t.x+t.width),t.y+t.height>o&&(o=t.y+t.height);return new t(i,n,a-i,o-n)}[ci](e,i){return new t(this.x*(1-i)+e.x*i,this.y*(1-i)+e.y*i,this.width*(1-i)+e.width*i,this.height*(1-i)+e.height*i)}};Di.zero=new Di(0,0,0,0),Di.NaN=new Di(NaN,NaN,NaN,NaN);var Li=Di,Ci=(t=>(t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR",t))(Ci||{});function Ii(t){return function(e,i){const n="__".concat(i);e[i]||function(t,e,i,n){const{redraw:a=1,type:o="normal",changeCb:r,convertor:s,checkDirtyOnAssignment:l=!1}=null!==n&&void 0!==n?n:{},c={redraw:a,type:o,changeCb:r,checkDirtyOnAssignment:l,convertor:s};let u;switch(o){case"normal":u=function(t,e){const{redraw:i=1,changeCb:n}=e;return function(e){return e!==this[t]?(this[t]=e,this.markDirty(this,i),null===n||void 0===n||n(this),e):Ni}}(i,c);break;case"transform":u=function(t,e){const{redraw:i=1}=e;return function(e){return e!==this[t]?(this[t]=e,this.markDirtyTransform(i),e):Ni}}(i,c);break;case"path":u=function(t,e){const{redraw:i=1}=e;return function(e){return e!==this[t]?(this[t]=e,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,i)),e):Ni}}(i,c);break;case"font":u=function(t,e){const{redraw:i=1}=e;return function(e){return e!==this[t]?(this[t]=e,this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,i)),e):Ni}}(i,c)}u=function(t,e){const{checkDirtyOnAssignment:i}=e;if(i)return function(e){const i=t.call(this,e);return i!==Ni&&null!=e&&e._dirty>0&&this.markDirty(e,e._dirty),i};return t}(function(t,e){const{changeCb:i}=e;if(i)return function(e){const n=t.call(this,e);return n!==Ni&&i.call(this,this),n};return t}(function(t,e){const{convertor:i}=e;if(i)return function(e){t.call(this,i(e))};return t}(u,c),c),c);const d=function(){return this[i]};Object.defineProperty(t,e,{set:u,get:d,enumerable:!0,configurable:!0})}(e,i,n,t)}}var Ni=Symbol("no-change");var Ei=class{constructor(){this._dirty=3}markDirty(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._dirty<e&&(this._dirty=e)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},Ti=class t{get e(){return[...this.elements]}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];this.elements=t}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}AxB(t,e,i){var n;const a=t[0]*e[0]+t[2]*e[1],o=t[1]*e[0]+t[3]*e[1],r=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],c=t[1]*e[4]+t[3]*e[5]+t[5];(i=null!==(n=i)&&void 0!==n?n:t)[0]=a,i[1]=o,i[2]=r,i[3]=s,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(e){const i=new Array(6);return this.AxB(this.elements,e.elements,i),new t(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const e=this.elements;let i=e[0],n=e[1],a=e[2],o=e[3];const r=e[4],s=e[5],l=1/(i*o-n*a);return i*=l,n*=l,a*=l,o*=l,new t([o,-n,-a,i,a*s-o*r,n*r-i*s])}inverseTo(t){const e=this.elements;let i=e[0],n=e[1],a=e[2],o=e[3];const r=e[4],s=e[5],l=1/(i*o-n*a);return i*=l,n*=l,a*=l,o*=l,t.setElements([o,-n,-a,i,a*s-o*r,n*r-i*s]),this}invertSelf(){const t=this.elements;let e=t[0],i=t[1],n=t[2],a=t[3];const o=t[4],r=t[5],s=1/(e*a-i*n);return e*=s,i*=s,n*=s,a*=s,t[0]=a,t[1]=-i,t[2]=-n,t[3]=e,t[4]=n*r-a*o,t[5]=i*o-e*r,this}transformPoint(t,e){const i=this.elements;return{x:t*i[0]+e*i[2]+i[4],y:t*i[1]+e*i[3]+i[5]}}transformBBox(t,e){const i=this.elements,n=i[0],a=i[1],o=i[2],r=i[3],s=.5*t.width,l=.5*t.height,c=t.x+s,u=t.y+l,d=Math.abs(s*n)+Math.abs(l*o),h=Math.abs(s*a)+Math.abs(l*r);return e||(e=new Li(0,0,0,0)),e.x=c*n+u*o+i[4]-d,e.y=c*a+u*r+i[5]-h,e.width=d+d,e.height=h+h,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(e){return t.instance.setElements(e.elements)}static updateTransformMatrix(t,e,i,n,a,o,r){const[s,l]=[0,0],c=e,u=i;let d,h;1===c&&1===u?(d=0,h=0):(d=null==(null===r||void 0===r?void 0:r.scalingCenterX)?s:null===r||void 0===r?void 0:r.scalingCenterX,h=null==(null===r||void 0===r?void 0:r.scalingCenterY)?l:null===r||void 0===r?void 0:r.scalingCenterY);const p=n,g=Math.cos(p),f=Math.sin(p);let m,y;0===p?(m=0,y=0):(m=null==(null===r||void 0===r?void 0:r.rotationCenterX)?s:null===r||void 0===r?void 0:r.rotationCenterX,y=null==(null===r||void 0===r?void 0:r.rotationCenterY)?l:null===r||void 0===r?void 0:r.rotationCenterY);const v=a,b=o,x=d*(1-c)-m,k=h*(1-u)-y;return t.setElements([g*c,f*c,-f*u,g*u,g*x-f*k+m+v,f*x+g*k+y+b]),t}static fromContext(e){const i=e.getTransform();return new t([i.a,i.b,i.c,i.d,i.e,i.f])}};Ti.instance=new Ti;var Ai=Ti,Ri=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(Ri||{}),Oi=class t extends Ei{constructor(){let{isVirtual:e,tag:i,zIndex:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.serialNumber=t._nextSerialNumber++,this.id=si(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new Ai,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this._childNodeCounts={groups:0,nonGroups:0},this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=null!==e&&void 0!==e&&e,this.tag=null!==i&&void 0!==i?i:NaN,this.zIndex=null!==n&&void 0!==n?n:0}get datum(){var t,e;return null!==(t=this._datum)&&void 0!==t?t:null===(e=this._parent)||void 0===e?void 0:e.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=null===t||void 0===t?void 0:t.debug;for(const e of this._children)e._setLayerManager(t);for(const e of this._virtualChildren)e._setLayerManager(t)}get layerManager(){return this._layerManager}*ancestors(){let t=this;for(;t=t.parent;)yield t}*traverseUp(){yield this,yield*this.ancestors()}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap((t=>t.children))):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,e){const i=null!==e&&void 0!==e?e:Object.keys(t);for(const n of i)this[n]=t[n];return this}append(t){Array.isArray(t)||(t=[t]);for(const e of t){if(e.parent)throw new Error("".concat(e," already belongs to another parent: ").concat(e.parent,"."));if(e.layerManager)throw new Error("".concat(e," already belongs to a scene: ").concat(e.layerManager,"."));if(this.childSet[e.id])throw new Error("Duplicate ".concat(e.constructor.name," node: ").concat(e));e.isVirtual?this._virtualChildren.push(e):this._children.push(e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){const e=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&e(),t.isVirtual){const i=this._virtualChildren.indexOf(t);i<0&&e(),this._virtualChildren.splice(i,1)}else{const i=this._children.indexOf(t);i<0&&e(),this._children.splice(i,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=Ai.flyweight(this.matrix);for(const e of this.ancestors())e.computeTransformMatrix(),t.preMultiplySelf(e.matrix);return t}transformPoint(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)}inverseTransformPoint(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}destroy(){var t;null===(t=this.parent)||void 0===t||t.removeChild(this)}containsPoint(t,e){return!1}pickNode(t,e){if(!this.visible||1===this.pointerEvents||!this.containsPoint(t,e))return;const{children:i}=this;if(i.length>1e3)for(let a=i.length-1;a>=0;a--){var n;const o=i[a],r=(null===(n=o.computeTransformedBBox())||void 0===n?void 0:n.containsPoint(t,e))?o.pickNode(t,e):void 0;if(r)return r}else if(i.length)for(let a=i.length-1;a>=0;a--){const n=i[a].pickNode(t,e);if(n)return n}else if(!this.isContainerNode)return this}getCachedBBox(){var t;return null!==(t=this.cachedBBox)&&void 0!==t?t:Li.zero}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const e=Ai.flyweight(this.matrix);for(const i of this.ancestors())i.computeTransformMatrix(),e.preMultiplySelf(i.matrix);return e.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:e,scalingY:i,rotation:n,translationX:a,translationY:o,scalingCenterX:r,scalingCenterY:s,rotationCenterX:l,rotationCenterY:c}=this;Ai.updateTransformMatrix(t,e,i,n,a,o,{scalingCenterX:r,scalingCenterY:s,rotationCenterX:l,rotationCenterY:c}),this.dirtyTransform=!1}preRender(){this._childNodeCounts.groups=0,this._childNodeCounts.nonGroups=1;for(const t of this.children){const e=t.preRender();this._childNodeCounts.groups+=e.groups,this._childNodeCounts.nonGroups+=e.nonGroups}return this._childNodeCounts}render(t){const{stats:e}=t;this._dirty=0,this.cachedBBox=this.computeBBox(),e&&e.nodesRendered++}markDirty(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this._dirty>e||this._dirty===e&&e===i||(this._dirty=e,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:e=!1,recursive:i=!0}=null!==t&&void 0!==t?t:{};if(0!==this._dirty||e){if(this._dirty=0,!1!==i)for(const t of this._virtualChildren)t.markClean({force:e});if(!0===i)for(const t of this._children)t.markClean({force:e})}}onVisibleChange(){}get nodeCount(){let t=1,e=this._dirty>=0||this.dirtyTransform?1:0,i=this.visible?1:0;const n=n=>{const{count:a,visibleCount:o,dirtyCount:r}=n.nodeCount;t+=a,i+=o,e+=r};for(const a of this._children)n(a);for(const a of this._virtualChildren)n(a);return{count:t,visibleCount:i,dirtyCount:e}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};Oi._nextSerialNumber=0,ce([Ii({type:"transform"})],Oi.prototype,"scalingX",2),ce([Ii({type:"transform"})],Oi.prototype,"scalingY",2),ce([Ii({type:"transform"})],Oi.prototype,"scalingCenterX",2),ce([Ii({type:"transform"})],Oi.prototype,"scalingCenterY",2),ce([Ii({type:"transform"})],Oi.prototype,"rotationCenterX",2),ce([Ii({type:"transform"})],Oi.prototype,"rotationCenterY",2),ce([Ii({type:"transform"})],Oi.prototype,"rotation",2),ce([Ii({type:"transform"})],Oi.prototype,"translationX",2),ce([Ii({type:"transform"})],Oi.prototype,"translationY",2),ce([Ii({redraw:3,changeCb:t=>t.onVisibleChange()})],Oi.prototype,"visible",2),ce([Ii({redraw:1,changeCb:t=>t.onZIndexChange()})],Oi.prototype,"zIndex",2),ce([Ii({redraw:1,changeCb:t=>t.onZIndexChange()})],Oi.prototype,"zIndexSubOrder",2);var Pi=Oi,Bi=(t,e,i)=>t*(1-i)+e*i,zi=t=>{const e=t<0?-1:1,i=Math.abs(t);return i<=.04045?t/12.92:e*((i+.055)/1.055)**2.4},_i=t=>{const e=t<0?-1:1,i=Math.abs(t);return i>.0031308?e*(1.055*i**(1/2.4)-.055):12.92*t},Fi=class t{constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=pi(0,t||0,1),this.g=pi(0,e||0,1),this.b=pi(0,i||0,1),this.a=pi(0,n||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]}static fromString(e){if(e.indexOf("#")>=0)return t.fromHexString(e);const i=t.nameToHex[e.toLowerCase()];if(i)return t.fromHexString(i);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '".concat(e,"'"))}static parseHex(t){var e;let i;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:i=[];for(let e=0;e<t.length;e+=2)i.push(parseInt("".concat(t[e]).concat(t[e+1]),16));break;case 3:case 4:i=t.split("").map((t=>parseInt(t,16))).map((t=>t+16*t))}if((null===(e=i)||void 0===e?void 0:e.length)>=3&&i.every((t=>t>=0)))return 3===i.length&&i.push(255),i}static fromHexString(e){const i=t.parseHex(e);if(i){const[e,n,a,o]=i;return new t(e/255,n/255,a/255,o/255)}throw new Error("Malformed hexadecimal color string: '".concat(e,"'"))}static stringToRgba(t){let e=-1,i=-1;for(let o=0;o<t.length;o++){const n=t[o];if(-1===e&&"("===n)e=o;else if(")"===n){i=o;break}}if(-1===e||-1===i)return;const n=t.substring(e+1,i).split(","),a=[];for(let o=0;o<n.length;o++){const t=n[o];let e=parseFloat(t);if(!Number.isFinite(e))return;t.indexOf("%")>=0?(e=pi(0,e,100),e/=100):3===o?e=pi(0,e,1):(e=pi(0,e,255),e/=255),a.push(e)}return a}static fromRgbaString(e){const i=t.stringToRgba(e);if(i){if(3===i.length)return new t(i[0],i[1],i[2]);if(4===i.length)return new t(i[0],i[1],i[2],i[3])}throw new Error("Malformed rgb/rgba color string: '".concat(e,"'"))}static fromArray(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=t.HSBtoRGB(e,i,n);return new t(o[0],o[1],o[2],a)}static fromHSL(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=t.HSLtoRGB(e,i,n);return new t(o[0],o[1],o[2],a)}static fromOKLCH(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=t.OKLCHtoRGB(e,i,n);return new t(o[0],o[1],o[2],a)}static padHex(t){return 1===t.length?"0"+t:t}toHexString(){let e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e}toRgbaString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*i)/i),"rgba(".concat(e.join(", "),")")):"rgb(".concat(e.join(", "),")")}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return t.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,e,i){const n=zi(t),a=zi(e),o=zi(i),r=Math.cbrt(.4122214708*n+.5363325363*a+.0514459929*o),s=Math.cbrt(.2119034982*n+.6806995451*a+.1073969566*o),l=Math.cbrt(.0883024619*n+.2817188376*a+.6299787005*o),c=.2104542553*r+.793617785*s-.0040720468*l,u=1.9779984951*r-2.428592205*s+.4505937099*l,d=.0259040371*r+.7827717662*s-.808675766*l,h=180*Math.atan2(d,u)/Math.PI;return[c,Math.hypot(u,d),h>=0?h:h+360]}static OKLCHtoRGB(t,e,i){const n=t,a=e*Math.cos(i*Math.PI/180),o=e*Math.sin(i*Math.PI/180),r=(n+.3963377774*a+.2158037573*o)**3,s=(n-.1055613458*a-.0638541728*o)**3,l=(n-.0894841775*a-1.291485548*o)**3,c=-1.2684380046*r+2.6097574011*s-.3413193965*l,u=-.0041960863*r-.7034186147*s+1.707614701*l;return[_i(4.0767416621*r-3.3077115913*s+.2309699292*l),_i(c),_i(u)]}static RGBtoHSL(t,e,i){const n=Math.min(t,e,i),a=Math.max(t,e,i),o=(a+n)/2;let r,s;if(a===n)r=0,s=0;else{const l=a-n;s=o>.5?l/(2-a-n):l/(a+n),r=a===t?(e-i)/l+(e<i?6:0):a===e?(i-t)/l+2:(t-e)/l+4,r*=60}return[r,s,o]}static HSLtoRGB(t,e,i){if(0===e)return[i,i,i];const n=i<.5?i*(1+e):i+e-i*e,a=2*i-n;function o(t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+6*(n-a)*t:t<.5?n:t<2/3?a+(n-a)*(2/3-t)*6:a}return[o((t=(t%360+360)%360)/360+1/3),o(t/360),o(t/360-1/3)]}static RGBtoHSB(t,e,i){const n=Math.min(t,e,i),a=Math.max(t,e,i);let o=0;if(n!==a){const r=a-n,s=(a-t)/r,l=(a-e)/r,c=(a-i)/r;o=t===a?c-l:e===a?2+s-c:4+l-s,o/=6,o<0&&(o+=1)}return[360*o,0===a?0:(a-n)/a,a]}static HSBtoRGB(t,e,i){t=(t%360+360)%360/360;let n=0,a=0,o=0;if(0===e)n=a=o=i;else{const r=6*(t-Math.floor(t)),s=r-Math.floor(r),l=i*(1-e),c=i*(1-e*s),u=i*(1-e*(1-s));switch(r|0){case 0:n=i,a=u,o=l;break;case 1:n=c,a=i,o=l;break;case 2:n=l,a=i,o=u;break;case 3:n=l,a=c,o=i;break;case 4:n=u,a=l,o=i;break;case 5:n=i,a=l,o=c}}return[n,a,o]}static mix(e,i,n){return new t(Bi(e.r,i.r,n),Bi(e.g,i.g,n),Bi(e.b,i.b,n),Bi(e.a,i.a,n))}};Fi.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var Gi=Fi;function ji(t,e){return i=>Number(t)*(1-i)+Number(e)*i}function Vi(t,e){if("string"===typeof t)try{t=Gi.fromString(t)}catch(ub){t=Gi.fromArray([0,0,0])}if("string"===typeof e)try{e=Gi.fromString(e)}catch(ub){e=Gi.fromArray([0,0,0])}return i=>Gi.mix(t,e,i).toRgbaString()}var Wi=Symbol("BREAK"),Ui="__decorator_config";function Ki(t,e){null==Object.getOwnPropertyDescriptor(t,Ui)&&Object.defineProperty(t,Ui,{value:{}});const i=t[Ui],n=e.toString();if("undefined"!==typeof i[n])return i[n];const a=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:a};const o=Object.getOwnPropertyDescriptor(t,e),r=null===o||void 0===o?void 0:o.set,s=null===o||void 0===o?void 0:o.get;return Object.defineProperty(t,e,{set:function(t){const{setters:o,observers:l}=i[n];let c;o.some((t=>t.length>2))&&(c=s?s.call(this):a.get(this));for(const i of o)if((t=i(this,e,t,c))===Wi)return;r?r.call(this,t):a.set(this,t);for(const e of l)e(this,t,c)},get:function(){let t=s?s.call(this):a.get(this);for(const a of i[n].getters)if(t=a(this,e,t),t===Wi)return;return t},enumerable:!0,configurable:!1}),i[n]}function Yi(t,e,i){return(n,a)=>{const o=Ki(n,a);o.setters.push(t),e&&o.getters.unshift(e),i&&Object.assign(o,i)}}function Hi(t){return"undefined"!==typeof t&&Ui in t}function Zi(t){const e=new Set;for(;Hi(t);){var i;e.add(null===(i=t)||void 0===i?void 0:i[Ui]),t=Object.getPrototypeOf(t)}return Array.from(e).flatMap((t=>Object.keys(t)))}function Xi(t){return Zi(t).reduce(((e,i)=>{var n;return e[i]=null!==(n=t[i])&&void 0!==n?n:null,e}),{})}function qi(t){return null!=t}function Qi(t){return Array.isArray(t)}function Ji(t){return"boolean"===typeof t}function $i(t){return t instanceof Date}function tn(t){return $i(t)&&!isNaN(Number(t))}function en(t){return t instanceof RegExp}function nn(t){return"function"===typeof t}function an(t){return"object"===typeof t&&null!==t&&!Qi(t)}function on(t){return Qi(t)||rn(t)}function rn(t){return"object"===typeof t&&null!==t&&t.constructor===Object}function sn(t){return"string"===typeof t}function ln(t){return"number"===typeof t}function cn(t){return ln(t)&&Number.isFinite(t)}function un(t){return"undefined"!==typeof window&&t instanceof HTMLElement}function dn(t,e){return sn(e)&&Object.keys(t).includes(e)}function hn(t,e){return Object.values(t).includes(e)}function pn(t){return"symbol"===typeof t}function gn(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return fn(...e.reverse())}function fn(){const t={};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(const o of i){if(!an(o))continue;const e=Hi(o)?Zi(o):Object.keys(o);for(const i of e){var a;if(rn(t[i])&&rn(o[i]))t[i]=fn(t[i],o[i]);else null!==(a=t[i])&&void 0!==a||(t[i]=o[i])}}return t}function mn(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i&&Qi(t)?t.map((t=>fn(t,...i))):t}function yn(t,e){return Object.entries(t).reduce(((i,n)=>{let[a,o]=n;return i[a]=e(o,a,t),i}),{})}function vn(t,e){const i={...t};for(const n of e)delete i[n];return i}function bn(t,e){return(Qi(e)?e:e.split(".")).reduce(((t,e)=>t[e]),t)}var xn=new Set(["__proto__","constructor","prototype"]);function kn(t,e,i){const n=Qi(e)?e.slice():e.split("."),a=n.pop();if(n.some((t=>xn.has(t))))return;const o=n.reduce(((t,e)=>t[e]),t);return o[a]=i,o[a]}function Sn(t,e,i){if(void 0===i)return e;for(const n of t){const t=i[n];void 0!==t&&(e[n]=t)}return e}var wn=class{set(t){const{className:e=this.constructor.name}=this.constructor;if("object"!==typeof t)return ye.warn("unable to set ".concat(e," - expecting a properties object")),this;const i=new Set(Object.keys(t));for(const n of Zi(this))if(i.has(n)){const e=t[n],a=this;Dn(a[n])?a[n]=a[n]instanceof Mn?a[n].reset(e):a[n].set(e):a[n]=e,i.delete(n)}for(const n of i)ye.warn("unable to set [".concat(n,"] in ").concat(e," - property is unknown"));return this}isValid(t){return Zi(this).every((e=>{const{optional:i}=function(t,e){const i=e.toString();for(;Hi(t);){const e=t[Ui];if(Object.hasOwn(e,i))return e[i];t=Object.getPrototypeOf(t)}}(this,e),n=!0===i||"undefined"!==typeof this[e];return n||ye.warnOnce("".concat(null!==t&&void 0!==t?t:"","[").concat(e,"] is required.")),n}))}toJson(){return Zi(this).reduce(((t,e)=>{const i=this[e];return t[e]=Dn(i)?i.toJson():i,t}),{})}},Mn=class t extends Array{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];super(i.length);const a=(t=>{var e;return Boolean(null===t||void 0===t||null===(e=t.prototype)||void 0===e||null===(e=e.constructor)||void 0===e?void 0:e.name)})(t)?e=>(new t).set(e):t;Object.defineProperty(this,"itemFactory",{value:a,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(Qi(t)){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=this.itemFactory(t[e])}return this}reset(e){return new t(this.itemFactory,...e)}toJson(){return this.map((t=>{var e,i;return null!==(e=null===t||void 0===t||null===(i=t.toJson)||void 0===i?void 0:i.call(t))&&void 0!==e?e:t}))}};function Dn(t){return t instanceof wn||t instanceof Mn}var Ln="class-instance";function Cn(t,e,i){if(Qi(e)){if(!Qi(t)||t.length!==e.length||e.some(((e,i)=>null!=Cn(t[i],e))))return e}else{if(rn(e)){if(!rn(t))return e;const n={},a=new Set([...Object.keys(t),...Object.keys(e)]);for(const o of a)if(!(t[o]===e[o]||null!==i&&void 0!==i&&i.includes(o)))if(typeof t[o]===typeof e[o]){const i=Cn(t[o],e[o]);null!==i&&(n[o]=i)}else n[o]=e[o];return Object.keys(n).length?n:null}if(t!==e)return e}return null}function In(t,e){return Qi(t)?t.map((t=>In(t,e))):rn(t)?yn(t,((t,i)=>{var n;return null!==e&&void 0!==e&&null!==(n=e.shallow)&&void 0!==n&&n.includes(i)?Nn(t):In(t,e)})):Nn(t)}function Nn(t){return Qi(t)?[...t]:rn(t)?{...t}:$i(t)?new Date(t):en(t)?new RegExp(t.source,t.flags):t}function En(t,e,i){for(var n=arguments.length,a=new Array(n>3?n-3:0),o=3;o<n;o++)a[o-3]=arguments[o];if(Qi(t))e(t,...a),t.forEach(((t,n)=>{En(t,e,i,...An(a,n))}));else if(rn(t)){e(t,...a);for(const n of Object.keys(t)){var r;if(null!==i&&void 0!==i&&null!==(r=i.skip)&&void 0!==r&&r.includes(n))continue;const o=t[n];(Qi(o)||rn(o))&&En(o,e,i,...An(a,n))}}}function Tn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{path:n,constructedArrays:a,matcherPath:o=(null===n||void 0===n?void 0:n.replace(/(\[[0-9+]+])/i,"[]")),skip:r=[]}=i;if(null==t)throw new Error("AG Charts - target is uninitialised: ".concat(null!==n&&void 0!==n?n:"<root>"));if(null==e)return t;if(Dn(t))return t.set(e);const s=t,l=Rn(t);for(const d in e){if(xn.has(d))continue;const h="".concat(o?o+".":"").concat(d);if(r.includes(h))continue;const p=e[d],g="".concat(n?n+".":"").concat(d),f=s.constructor,m=s[d];let y;try{const e=Rn(m),n=Rn(p);if(l===Ln&&!(d in t)){ye.warn("unable to set [".concat(g,"] in ").concat(null===f||void 0===f?void 0:f.name," - property is unknown"));continue}if(null!=e&&null!=n&&n!==e&&(e!==Ln||"object"!==n)){ye.warn("unable to set [".concat(g,"] in ").concat(null===f||void 0===f?void 0:f.name," - can't apply type of [").concat(n,"], allowed types are: [").concat(e,"]"));continue}if(Dn(m))s[d].set(p);else if("array"===n){var c;if(null!==(c=y)&&void 0!==c||(y=null===a||void 0===a?void 0:a.get(m)),null==y)s[d]=p;else{const t=p;s[d]=t.map((t=>Tn(new y,t,{...i,path:g,matcherPath:h+"[]"})))}}else n===Ln?s[d]=p:"object"===n?null!=m?Tn(m,p,{...i,path:g,matcherPath:h}):null==y?(s[d]={},Tn(s[d],p,{...i,path:g,matcherPath:h})):s[d]=Tn(new y,p,{...i,path:g,matcherPath:h}):s[d]=p}catch(u){ye.warn("unable to set [".concat(g,"] in [").concat(null===f||void 0===f?void 0:f.name,"]; nested error is: ").concat(u.message))}}return t}function An(t,e){return t.map((t=>null===t||void 0===t?void 0:t[e]))}function Rn(t){return null==t?null:un(t)||$i(t)?"primitive":Qi(t)?"array":an(t)?rn(t)?"object":Ln:nn(t)?"function":"primitive"}var On={};le(On,{easeIn:()=>Bn,easeInOut:()=>_n,easeInOutQuad:()=>jn,easeInQuad:()=>Fn,easeOut:()=>zn,easeOutQuad:()=>Gn,inverseEaseOut:()=>Vn,linear:()=>Pn});var Pn=t=>t,Bn=t=>1-Math.cos(t*Math.PI/2),zn=t=>Math.sin(t*Math.PI/2),_n=t=>-(Math.cos(t*Math.PI)-1)/2,Fn=t=>t*t,Gn=t=>1-(1-t)**2,jn=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,Vn=t=>2*Math.asin(t)/Math.PI,Wn=.2,Un=["initial","remove","update","add","trailing","end","none"],Kn={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Wn,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1.2,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},Yn=(t=>(t.Loop="loop",t.Reverse="reverse",t))(Yn||{});function Hn(t){return t.every((t=>t instanceof Pi))?{nodes:t,selections:[]}:{nodes:[],selections:t}}var Zn=class{constructor(t){var e,i,n,a;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=null===(e=t.autoplay)||void 0===e||e,this.ease=null!==(i=t.ease)&&void 0!==i?i:Pn,this.phase=t.phase;const o=null!==(n=t.duration)&&void 0!==n?n:Kn[this.phase].animationDuration;var r,s,l;(this.duration=o*t.defaultDuration,this.delay=(null!==(a=t.delay)&&void 0!==a?a:0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,!0===t.skip)&&(null===(r=this.onUpdate)||void 0===r||r.call(this,t.to,!1,this),null===(s=this.onStop)||void 0===s||s.call(this,this),null===(l=this.onComplete)||void 0===l||l.call(this,this),this.isComplete=!0);!1!==t.collapsable&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,e){if(t.from===t.to)return 0;return("object"===typeof t.from?Cn(t.from,t.to):null)?e:0}play(){var t,e;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPlaying||this.isComplete||(this.isPlaying=!0,null===(t=this.onPlay)||void 0===t||t.call(this,this),this.autoplay&&(this.autoplay=!1,i&&(null===(e=this.onUpdate)||void 0===e||e.call(this,this.from,!0,this))))}pause(){this.isPlaying=!1}stop(){var t;(this.isPlaying=!1,this.isComplete)||(this.isComplete=!0,null===(t=this.onStop)||void 0===t||t.call(this,this))}update(t){var e;if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);const i=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);null===(e=this.onUpdate)||void 0===e||e.call(this,n,!1,this);const a=this.delay+this.duration;var o;return this.elapsed>=a?(this.stop(),this.isComplete=!0,null===(o=this.onComplete)||void 0===o||o.call(this,this),t-(a-i)):0}get delta(){return this.ease(pi(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,e){if("object"!==typeof e||ui(e))return this.interpolateValue(t,e);const i=[];for(const n in e){const a=this.interpolateValue(t[n],e[n]);null!=a&&i.push([n,a])}return t=>{const e={};for(const[n,a]of i)e[n]=a(t);return e}}interpolateValue(t,e){if(void 0!==t&&void 0!==e){if(ui(t))return i=>t[ci](e,i);try{switch(typeof t){case"number":return ji(t,e);case"string":return Vi(t,e);case"boolean":if(t===e)return()=>t}}catch(ub){}throw new Error("Unable to interpolate values: ".concat(t,", ").concat(e))}}},Xn={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function qn(t,e,i,n,a,o,r){const{fromFn:s,toFn:l,intermediateFn:c}=a,{nodes:u,selections:d}=Hn(n),h=(n,a)=>{let u,d=0,h=0;for(const g of a){var p;const f=n[d]===g,m={last:h>=a.length-1,lastLive:d>=n.length-1,prev:a[h-1],prevFromProps:u,prevLive:n[d-1],next:a[h+1],nextLive:n[d+(f?1:0)]},y="".concat(t,"_").concat(e,"_").concat(g.id);i.stopByAnimationId(y);let v="unknown";f?o&&r&&(v=Jn(g,g.datum,o,r)):v="removed";const{phase:b,start:x,finish:k,delay:S,duration:w,...M}=s(g,g.datum,v,m),{phase:D,start:L,finish:C,delay:I,duration:N,...E}=l(g,g.datum,v,m),T=null==k&&null==C;i.animate({id:y,groupId:t,phase:null!==(p=null!==b&&void 0!==b?b:D)&&void 0!==p?p:"update",duration:null!==w&&void 0!==w?w:N,delay:null!==S&&void 0!==S?S:I,from:M,to:E,ease:zn,collapsable:T,onPlay:()=>{g.setProperties({...x,...L})},onUpdate(t){g.setProperties(t),c&&g.setProperties(c(g,g.datum,v,m))},onStop:()=>{g.setProperties({...x,...L,...M,...E,...k,...C})}}),f&&d++,h++,u=M}};let p=0;for(const g of d){const n=g.nodes();h(n.filter((t=>!g.isGarbage(t))),n),i.animate({id:"".concat(t,"_").concat(e,"_selection_").concat(p),groupId:t,phase:"end",from:0,to:1,ease:zn,onStop(){g.cleanup()}}),p++}h(u,u)}function Qn(t,e,i,n,a,o,r){const{nodes:s,selections:l}=Hn(n),{start:c,finish:u,phase:d}=r,h=null==u;i.animate({id:"".concat(t,"_").concat(e),groupId:t,phase:null!==d&&void 0!==d?d:"update",from:a,to:o,ease:zn,collapsable:h,onPlay:()=>{if(c){for(const t of s)t.setProperties(c);for(const t of l)for(const e of t.nodes())e.setProperties(c)}},onUpdate(t){for(const e of s)e.setProperties(t);for(const e of l)for(const i of e.nodes())i.setProperties(t)},onStop:()=>{for(const t of s)t.setProperties({...o,...u});for(const t of l)for(const e of t.nodes())e.setProperties({...o,...u})}})}function Jn(t,e,i,n){const a=i(t,e);return n.added.has(a)?"added":n.removed.has(a)?"removed":"updated"}var $n={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function ta(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date(t.getFullYear(),0,1);const i=t.getTimezoneOffset()-e.getTimezoneOffset(),n=t.getTime()-e.getTime()+6e4*i;return Math.floor(n/864e5)}function ea(t,e){const i=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,n=new Date(t.getFullYear(),0,i+1);return n<=t?Math.floor(ta(t,n)/7)+1:0}function ia(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getFullYear();const i=new Date(e,0,1).getDay(),n=new Date(e,0,(4-i+7)%7-3+1);return n<=t?Math.floor(ta(t,n)/7)+1:ia(t,e-1)}var na={a:t=>$n.shortDays[t.getDay()],A:t=>$n.days[t.getDay()],b:t=>$n.shortMonths[t.getMonth()],B:t=>$n.months[t.getMonth()],c:"%x, %X",d:(t,e)=>oa(t.getDate(),2,null!==e&&void 0!==e?e:"0"),e:"%_d",f:(t,e)=>oa(1e3*t.getMilliseconds(),6,null!==e&&void 0!==e?e:"0"),H:(t,e)=>oa(t.getHours(),2,null!==e&&void 0!==e?e:"0"),I:(t,e)=>{const i=t.getHours()%12;return 0===i?"12":oa(i,2,null!==e&&void 0!==e?e:"0")},j:(t,e)=>oa(ta(t)+1,3,null!==e&&void 0!==e?e:"0"),m:(t,e)=>oa(t.getMonth()+1,2,null!==e&&void 0!==e?e:"0"),M:(t,e)=>oa(t.getMinutes(),2,null!==e&&void 0!==e?e:"0"),L:(t,e)=>oa(t.getMilliseconds(),3,null!==e&&void 0!==e?e:"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>oa(t.getSeconds(),2,null!==e&&void 0!==e?e:"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>oa(ea(t,0),2,null!==e&&void 0!==e?e:"0"),V:(t,e)=>oa(ia(t),2,null!==e&&void 0!==e?e:"0"),w:(t,e)=>oa(t.getDay(),2,null!==e&&void 0!==e?e:"0"),W:(t,e)=>oa(ea(t,1),2,null!==e&&void 0!==e?e:"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>oa(t.getFullYear()%100,2,null!==e&&void 0!==e?e:"0"),Y:(t,e)=>oa(t.getFullYear(),4,null!==e&&void 0!==e?e:"0"),Z:t=>function(t){const e=t.getTimezoneOffset(),i=Math.abs(e);return"".concat(e>0?"-":"+").concat(oa(Math.floor(i/60),2,"0")).concat(oa(Math.floor(i%60),2,"0"))}(t),"%":()=>"%"},aa={_:" ",0:"0","-":""};function oa(t,e,i){const n=String(Math.floor(t));return n.length>=e?n:"".concat(i.repeat(e-n.length)).concat(n)}function ra(t){const e=[];for(;t.length>0;){let i=t.indexOf("%");if(0!==i){const n=i>0?t.substring(0,i):t;e.push(n)}if(i<0)break;const n=t[i+1],a=aa[n];null!=a&&i++;const o=t[i+1],r=na[o];if("function"===typeof r)e.push([r,a]);else if("string"===typeof r){const t=ra(r);e.push([t,a])}else e.push("".concat(null!==a&&void 0!==a?a:"").concat(o));t=t.substring(i+2)}return t=>{const i="number"===typeof t?new Date(t):t;return e.map((t=>"string"===typeof t?t:t[0](i,t[1]))).join("")}}function sa(t){return t instanceof Date?t.getTime():t}function la(t,e,i){const n=ra(ca(t,e,i));return t=>n(t)}function ca(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=1/0;for(let s=1;s<t.length;s++)n=Math.min(n,Math.abs(t[s]-t[s-1]));const a=new Date(e[0]).getFullYear(),o=new Date(e.at(-1)).getFullYear()-a>0,r=isFinite(n)?function(t,e){if(t<Se)return 0;if(t<we)return 1;if(t<Me)return 2;if(t<De)return 3;if(t<Le)return 4;if(t<28*De||t<31*De&&function(t){let e=new Date(t[0]).getMonth();for(let i=1;i<t.length;i++){const n=new Date(t[i]).getMonth();if(e===n)return!0;e=n}return!1}(e))return 5;if(t<Ie)return 6;return 7}(n,t):function(t){if(Te.floor(t)<t)return 0;if(Oe.floor(t)<t)return 1;if(ze.floor(t)<t)return 2;if(Fe.floor(t)<t)return 3;if(qe.floor(t)<t)return Ze.floor(t)<t?4:5;if(Je.floor(t)<t)return 6;return 7}(t[0]);return function(t,e,i){const n=sa(i[0]),a=sa(i.at(-1)),o=Math.abs(a-n),r=e||7===t,s=[["hour",6*Me,14*De,3,"%I %p"],["hour",we,6*Me,3,"%I:%M"],["second",1e3,6*Me,1,":%S"],["ms",0,6*Me,0,".%L"],["am/pm",we,6*Me,3,"%p"]," ",["day",De,Le,4,"%a"],["month",0===o?0:Le,52*Le,5,"%b %d"],["month",5*Le,10*Ie,6,"%B"]," ",["year",r?0:Ie,1/0,7,"%Y"]].filter((e=>{if("string"===typeof e)return!0;const[i,n,a,r]=e;return r>=t&&n<=o&&o<a})).reduce(((t,e)=>("string"===typeof e?t.result.push(e):t.used.has(e[0])||(t.result.push(e),t.used.add(e[0])),t)),{result:[],used:new Set}).result,l=s.findIndex((t=>"string"!==typeof t)),c=s.length-[...s].reverse().findIndex((t=>"string"!==typeof t));return s.slice(l,c).map((t=>"string"===typeof t?t:t[4])).join("").replaceAll(/\s+/g," ").trim()}(Math.max(r-i,0),o,t)}var ua=(t,e)=>{const i=Symbol(String(e));t[i]=void 0,Object.defineProperty(t,e,{get(){return this[i]},set(t){this[i]!==t&&(this[i]=t,this.invalid=!0)},enumerable:!0,configurable:!1})},da=class t{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(e){return e instanceof t}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&ye.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.index=new Map,this.invalid=!0,this._domain=[];for(const e of t){const t=sa(e);void 0===this.getIndex(t)&&this.index.set(t,this._domain.push(e)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(t){var e;this.refresh();const i=this.getIndex(t);return null==i?NaN:null!==(e=this.ordinalRange[i])&&void 0!==e?e:NaN}invert(t){this.refresh();const e=this.ordinalRange.findIndex((e=>e===t));return this.domain[e]}invertNearest(t){var e;this.refresh();let i=-1,n=1/0;const a=this.ordinalRange.findIndex(((e,a)=>{if(e===t)return!0;const o=Math.abs(t-e);return o<n&&(n=o,i=a),!1}));return null!==(e=this.domain[a])&&void 0!==e?e:this.domain[i]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=pi(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=pi(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=pi(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){const t=this._domain.length;if(0===t)return;const[e,i]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:a,round:o}=this,r=i-e;let s,l,c;1===t?(n=0,s=r*(1-2*a),l=o?Math.round(s):s,c=r*a):(s=r/Math.max(1,t-n+2*a),l=o?Math.floor(s):s,c=e+(r-l*(t-n))/2);let u=l*(1-n);o&&(c=Math.round(c),u=Math.round(u)),this._step=l,this._inset=c,this._bandwidth=u,this._rawBandwidth=s*(1-n),this.ordinalRange=this._domain.map(((t,e)=>c+l*e))}getIndex(t){return this.index.get(t instanceof Date?t.getTime():t)}};ce([ua],da.prototype,"range",2),ce([ua],da.prototype,"round",2),ce([ua],da.prototype,"interval",2);var ha=da;function pa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{optional:i=!1,property:n}=e;return Yi(((a,o,r)=>{var s;const l={...e,target:a,property:o};if(i&&"undefined"===typeof r||t(r,l))return Dn(a[o])&&!Dn(r)?(a[o].set(r),a[o]):r;const c=null!==n&&void 0!==n?n:String(o).replace(/^_*/,""),u=null!==(s=a.constructor.className)&&void 0!==s?s:a.constructor.name.replace(/Properties$/,"");let d=co(r);if(null!=d&&d.length>50){const t=d.length-50;d=d.slice(0,50)+"... (+".concat(t," characters)")}return ye.warn("Property [".concat(c,"] of [").concat(u,"] cannot be set to [").concat(d,"]").concat(t.message?"; expecting ".concat(so(t,l)):"",", ignoring.")),Wi}),void 0,{optional:i})}var ga,fa=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=[];return ro(((t,i)=>(n.length=0,e.every((e=>{const a=e(t,i);return a||n.push(so(e,i)),a})))),(()=>n.filter(Boolean).join(" AND ")))},ma=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return ro(((t,i)=>e.some((e=>e(t,i)))),(t=>e.map(function(t){return e=>so(e,t)}(t)).filter(Boolean).join(" OR ")))},ya=lo(ro(((t,e)=>Dn(t)||an(t)&&Dn(e.target[e.property])),"a properties object")),va=lo(ro((t=>an(t)),"an object")),ba=ro(Ji,"a boolean"),xa=ro(nn,"a function"),ka=ro(sn,"a string"),Sa=(ga=ro(cn,"a number"),Object.assign(ga,{restrict(){let{min:t,max:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=["a number"],n=ln(t),a=ln(e);return n&&a?i.push("between ".concat(t," and ").concat(e," inclusive")):n?i.push("greater than or equal to ".concat(t)):a&&i.push("less than or equal to ".concat(e)),ro((i=>cn(i)&&(!n||i>=t)&&(!a||i<=e)),i.join(" "))}})),wa=ro((t=>ln(t)&&isNaN(t)),"NaN"),Ma=Sa.restrict({min:0}),Da=Sa.restrict({min:0,max:1}),La=Sa.restrict({min:-360,max:360}),Ca=ma(Sa,wa),Ia=function(t){return Object.assign(t,{restrict(){let{length:t,minLength:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="an array";return ln(e)&&e>0?i="a non-empty array":ln(t)&&(i="an array of length ".concat(t)),ro((i=>Qi(i)&&(!ln(t)||i.length===t)&&(!ln(e)||i.length>=e)),i)}})}(ro(Qi,"an array")),Na=(t,e)=>ro(((e,i)=>Qi(e)&&e.every((e=>t(e,i)))),(t=>{var i;const n=null!==(i=so(Ia,t))&&void 0!==i?i:"";return e?"".concat(n," of ").concat(e):n})),Ea=t=>cn(t)||tn(t),Ta=t=>ro(((e,i)=>!Ea(e)||!Ea(i.target[t])||e<i.target[t]),"to be less than ".concat(t)),Aa=t=>ro(((e,i)=>!Ea(e)||!Ea(i.target[t])||e>i.target[t]),"to be greater than ".concat(t)),Ra=ro(tn,"Date object"),Oa=ma(Ra,Ma),Pa="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Ba=ro((t=>sn(t)&&Gi.validColorString(t)),"color String. ".concat(Pa)),za=ro(Na(Ba),"color strings. ".concat(Pa)),_a=Na(ba,"boolean values"),Fa=Na(Sa,"numbers"),Ga=Na(ka,"strings"),ja=ro(Na(Ra),"Date objects"),Va=ro(Na(ya),"objects"),Wa=no(["butt","round","square"],"a line cap"),Ua=no(["round","bevel","miter"],"a line join"),Ka=ro(Na(Ma),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Ya=no(["top","right","bottom","left"],"a position"),Ha=no(["normal","italic","oblique"],"a font style"),Za=ma(no(["normal","bold","bolder","lighter"],"a font weight"),Sa.restrict({min:1,max:1e3})),Xa=no(["never","always","hyphenate","on-space"],"a text wrap strategy"),qa=no(["left","center","right"],"a text align"),Qa=no(["top","middle","bottom"],"a vertical align"),Ja=no(["ellipsis","hide"],"an overflow strategy"),$a=no(["horizontal","vertical"],"a direction"),to=no(["inside","outside"],"a placement"),eo=ma(no(["exact","nearest"],"interaction range"),Sa),io=no(["top","bottom","left","right"]);function no(t){return ro((e=>t.includes(e)),"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a"," keyword such as ").concat(function(t){const e=t.map((t=>"'".concat(t,"'")));if(1===e.length)return e[0];const i=e.pop();return"".concat(e.join(", ")," or ").concat(i)}(t)))}var ao=ma(fa(Sa.restrict({min:1}),Ta("maxSpacing")),wa),oo=ma(fa(Sa.restrict({min:1}),Aa("minSpacing")),wa);function ro(t,e){return t.message=e,t}function so(t,e){return nn(t.message)?t.message(e):t.message}function lo(t){return Object.assign(t,{restrict:e=>ro((t=>t instanceof e),(i=>{var n;return null!==(n=so(t,i))&&void 0!==n?n:"an instance of ".concat(e.name)}))})}function co(t){if("number"===typeof t){if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity"}return JSON.stringify(t)}var uo=(t=>(t.X="x",t.Y="y",t))(uo||{}),ho={constructedArrays:new WeakMap};function po(t,e){var i;null===(i=ho.constructedArrays)||void 0===i||i.set(t,e)}var go=class t{constructor(e,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=e,this.range=i}static is(e){return e instanceof t}transform(t){return t}transformInvert(t){return t}calcBandwidth(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=this.getDomain(),i=this.getPixelRange(),n=Math.abs(e[1]-e[0])/t+1,a=Math.floor(i),o=Math.min(n,a);return i/Math.max(1,o)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,e){var i;const n=null!==(i=null===e||void 0===e?void 0:e.clampMode)&&void 0!==i?i:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const a=this.getDomain().map((t=>this.transform(t))),[o,r]=a,{range:s}=this,[l,c]=s;if(t=this.transform(t),"clamped"===n){const[e,i]=fi(a.map(Number));if(Number(t)<e)return l;if(Number(t)>i)return c}return o===r?(l+c)/2:t===o?l:t===r?c:l+(Number(t)-Number(o))/(Number(r)-Number(o))*(c-l)}invert(t){this.refresh();const e=this.getDomain().map((t=>this.transform(t))),[i,n]=e,{range:a}=this,[o,r]=a,s=o>r;let l;return t<(s?r:o)?s?n:i:t>(s?o:r)?s?i:n:(l=o===r?this.toDomain((Number(i)+Number(n))/2):this.toDomain(Number(i)+(t-o)/(r-o)*(Number(n)-Number(i))),this.transformInvert(l))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&ye.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[t,e]=this.range;return Math.abs(e-t)}};go.defaultTickCount=5,go.defaultMaxTickCount=6,ce([ua],go.prototype,"domain",2),ce([ua],go.prototype,"range",2),ce([ua],go.prototype,"nice",2),ce([ua],go.prototype,"interval",2),ce([ua],go.prototype,"tickCount",2),ce([ua],go.prototype,"minTickCount",2),ce([ua],go.prototype,"maxTickCount",2);var fo=go;function mo(t,e){const i=[];for(let n=0;n<t;n++)i.push(e(n));return i}function yo(t){if(0===t.length)return;let e=1/0,i=-1/0;for(let a of t)a instanceof Date&&(a=a.getTime()),"number"===typeof a&&(a<e&&(e=a),a>i&&(i=a));const n=[e,i];return n.every(isFinite)?n:void 0}function vo(t,e,i){return bo(t,e,i).extent}function bo(t,e,i){let n=!1;var a;t.length>2&&(t=null!==(a=yo(t))&&void 0!==a?a:[NaN,NaN]);return isNaN(e)||(n||(n=e>t[0]),t=[e,t[1]]),isNaN(i)||(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{extent:t,clipped:n}}function xo(t,e){if(null==t||null==e||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(Array.isArray(t[i])&&Array.isArray(e[i])){if(!xo(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}function ko(t){return"undefined"===typeof t?[]:Array.isArray(t)?t:[t]}function So(t){return Array.from(new Set(t))}function wo(t,e){return t.reduce(((t,i)=>{var n;const a=e(i);return null!==(n=t[a])&&void 0!==n||(t[a]=[]),t[a].push(i),t}),{})}function Mo(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===t.length)return[];const n=[];for(let a=0;a<e;a++)n.push(t.at((a+i)%t.length));return n}function Do(t,e){return e.reduce(((e,i)=>{let[n,a]=e;return t(i)?[[...n,i],a]:[n,[...a,i]]}),[[],[]])}function*Lo(t,e){for(const i of t)yield e(i)}function Co(t,e){return!e.some((e=>!function(t,e){return function(t,e){return t.includes(e)}(t,e)}(t,e)))}function Io(t){let e,i;const n=To.exec(t);n&&([,e,t,i]=n);const a=Eo.exec(t);if(!a)throw new Error("The number formatter is invalid: ".concat(t));const[,o,r,s,l,c,u,d,h,p,g]=a;return{fill:o,align:r,sign:s,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:Boolean(p),type:g,prefix:e,suffix:i}}function No(t){const e="string"===typeof t?Io(t):t,{fill:i,align:n,sign:a="-",symbol:o,zero:r,width:s,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=e;let{trim:p}=e;const g=null==h||isNaN(h);let f,m;if(c)if(c in Ro&&c in Ao)f=g?Ao[c]:Ro[c];else if(c in Ro)f=Ro[c];else{if(!(c in Ao))throw new Error("The number formatter type is invalid: ".concat(c));f=Ao[c]}else f=Ro.g,p=!0;return m=null==h||g?c?6:12:h,t=>{let e=f(t,m);return p&&(e=e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),l&&(e=function(t,e){let i=t.indexOf(".");i<0&&(i=t.length);const n=t.substring(0,i).split(""),a=t.substring(i);for(let o=n.length-3;o>0;o-=3)n.splice(o,0,e);return"".concat(n.join("")).concat(a)}(e,l)),e=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("("===i)return t>=0?e:"(".concat(e,")");const n="+"===i?"+":"";return"".concat(t>=0?n:zo).concat(e)}(t,e,a),o&&"#"!==o&&(e="".concat(o).concat(e)),"#"===o&&"x"===c&&(e="0x".concat(e)),"s"===c&&(e="".concat(e).concat(function(t){return Bo[Fo(t)]}(t))),"%"!==c&&"p"!==c||(e="".concat(e,"%")),null==s||isNaN(s)||(e=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",a=t;if(">"!==n&&n){if("<"===n)a=a.padEnd(e,i);else if("^"===n){const t=Math.max(0,e-a.length),n=Math.ceil(t/2),o=Math.floor(t/2);a=a.padStart(n+a.length,i),a=a.padEnd(o+a.length,i)}}else a=a.padStart(e,i);return a}(e,s,null!==i&&void 0!==i?i:r,n)),e="".concat(u).concat(e).concat(d),e}}var Eo=/^(?:(.)?([<>=^]))?([+\-( ])?([$\u20ac\xa3\xa5\u20a3\u20b9#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,To=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Ao={b:t=>_o(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>_o(t).toString(8),x:t=>_o(t).toString(16),X:t=>Ao.x(t).toUpperCase(),n:t=>Ao.d(t),"%":t=>"".concat(_o(100*t).toFixed(0))},Ro={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>Ro.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>Ro.f(t,e).toUpperCase(),g:(t,e)=>{if(0===t)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i));return n>=-4&&n<e?i.toFixed(e-1-n):i.toExponential(e-1)},G:(t,e)=>Ro.g(t,e).toUpperCase(),n:(t,e)=>Ro.g(t,e),p:(t,e)=>Ro.r(100*t,e),r:(t,e)=>{if(0===t)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i))-(e-1);if(n<=0)return i.toFixed(-n);const a=10**n;return(Math.round(i/a)*a).toFixed()},s:(t,e)=>{const i=Fo(t);return Ro.r(t/10**i,e)},"%":(t,e)=>Ro.f(100*t,e)},Oo=-24,Po=24,Bo={[Oo]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[Po]:"Y"},zo="\u2212";function _o(t){return Math.floor(Math.abs(t))}function Fo(t){return pi(Oo,t?3*Math.floor(Math.log10(Math.abs(t))/3):0,Po)}var Go=(t,e,i)=>({duration:e*i,timeInterval:t,step:i}),jo=[Go(Te,Se,1),Go(Te,Se,5),Go(Te,Se,15),Go(Te,Se,30),Go(Oe,we,1),Go(Oe,we,5),Go(Oe,we,15),Go(Oe,we,30),Go(ze,Me,1),Go(ze,Me,3),Go(ze,Me,6),Go(ze,Me,12),Go(Fe,De,1),Go(Fe,De,2),Go(Ze,Le,1),Go(Ze,Le,2),Go(Ze,Le,3),Go(qe,Ce,1),Go(qe,Ce,2),Go(qe,Ce,3),Go(qe,Ce,4),Go(qe,Ce,6),Go(Je,Ie,1)],Vo=[1,2,5,10];function Wo(t,e,i,n,a){if(i<2)return Zo(t,e,e-t);const o=Ko(t,e,i,n,a);return isNaN(o)?[]:Zo(t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o,o)}function Uo(t,e,i,n,a,o){const r=null!==o&&void 0!==o?o:Math.abs(e-t)/Math.max(i,1);let s=0;for(const h of jo){if(r<=h.duration)break;s++}if(0===s){const o=Math.max(Ko(t,e,i,n,a),1);return ke.every(o)}if(s===jo.length){const r=null==o?Ko(t/Ie,e/Ie,i,n,a):1;return Je.every(r)}const l=jo[s-1],c=jo[s],{timeInterval:u,step:d}=r-l.duration<c.duration-r?l:c;return u.every(d)}function Ko(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(t===e)return 1;if(i<1)return NaN;const o=Math.abs(e-t),r=10**Math.floor(Math.log10(o/i));let s=NaN,l=1/0,c=!1;for(const u of Vo){const t=Math.ceil(o/(u*r)),e=t>=n&&t<=a;if(c&&!e)continue;const d=Math.abs(t-i);(l>d||c!==e)&&(c||(c=e),l=d,s=u)}return s*r}function Yo(t){for(let e=t.length-1;e>=0;e-=1)if("0"!==t[e])return e+1;return 0}function Ho(t,e){const i=Io(null!==e&&void 0!==e?e:",f");(null==i.precision||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...t.map((t=>{if(!Number.isFinite(t))return 0;const[e,n]=t.toExponential((i.type?6:12)-1).split(/\.|e/g);return("1"!==e&&"-1"!==e?1:0)+Yo(n)+1}))):"f%".includes(i.type)&&(i.precision=Math.max(...t.map((t=>{if(!Number.isFinite(t)||0===t)return 0;const e=Math.floor(Math.log10(Math.abs(t))),n=i.type?6:12,[a,o]=t.toExponential(n-1).split(/\.|e/g),r=Yo(o);return Math.max(0,r-e)})))));const n=No(i);return t=>n(Number(t))}function Zo(t,e,i){const n=Math.ceil(Math.abs(e-t)/i),a=10**Si(i),o=Math.min(t,e);return mo(n+1,(t=>Math.round((o+i*t)*a)/a))}function Xo(t,e){return t>=e&&(ye.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}var qo=class t extends fo{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,e){return super.convert(new Date(t),e)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:e,nice:i,tickCount:n,minTickCount:a,maxTickCount:o}=this,[r,s]=fi(this.getDomain().map(sa));var l;return null!=e?null!==(l=t.getTicksForInterval({start:r,stop:s,interval:e,availableRange:this.getPixelRange()}))&&void 0!==l?l:t.getDefaultTicks({start:r,stop:s,tickCount:n,minTickCount:a,maxTickCount:o}):i&&2===n?this.niceDomain:i&&1===n?this.niceDomain.slice(0,1):t.getDefaultTicks({start:r,stop:s,tickCount:n,minTickCount:a,maxTickCount:o})}static getDefaultTicks(t){let{start:e,stop:i,tickCount:n,minTickCount:a,maxTickCount:o}=t;const r=Uo(e,i,n,a,o);return r?r.range(new Date(e),new Date(i)):[]}static getTicksForInterval(t){let{start:e,stop:i,interval:n,availableRange:a}=t;if(!n)return[];if(n instanceof ve){const t=n.range(new Date(e),new Date(i));if(Xo(t.length,a))return;return t}const o=Math.abs(n);if(Xo((i-e)/o,a))return;const r=[...jo].reverse().find((t=>o%t.duration===0));if(r){return r.timeInterval.every(o/(r.duration/r.step)).range(new Date(e),new Date(i))}let s=new Date(e);const l=new Date(i),c=[];for(;s<=l;)c.push(s),s=new Date(s),s.setMilliseconds(s.getMilliseconds()+o);return c}tickFormat(t){let{ticks:e,domain:i,specifier:n,formatOffset:a}=t;return null==n?la(e,i,a):ra(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,e]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(t,e);const[i,n]=this.niceDomain;if(sa(t)===sa(i)&&sa(e)===sa(n))break;t=i,e=n}}updateNiceDomainIteration(t,e){const i=Math.min(sa(t),sa(e)),n=Math.max(sa(t),sa(e)),a=t>e,{interval:o}=this;let r;if(o instanceof ve)r=o;else{r=Uo(i,n,"number"===typeof o?(n-i)/Math.max(o,1):this.tickCount,this.minTickCount,this.maxTickCount)}if(r){const t=r.range(new Date(i),new Date(n),!0),e=a?[...t].reverse():t,o=e[0],s=e.at(-1);this.niceDomain=[o,s]}}};function Qo(t,e){return t-e}var Jo=class t extends ha{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=fo.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(e){return e instanceof t}setVisibleRange(t){this.visibleRange=t}set domain(t){this.invalid=!0,0!==t.length?(this._domain=t,this.timestamps=So(t.map(sa)),this.sortedTimestamps=this.timestamps.slice().sort(Qo)):this._domain=[]}get domain(){return this._domain}ticks(){this.refresh();const[t,e]=[this.timestamps[0],this.timestamps.at(-1)],i=Math.min(t,e),n=Math.max(t,e),a=t>e;let o;if(null==this.interval)o=this.getDefaultTicks(this.maxTickCount,a);else{var r;const[t,e]=this.range,a=Math.abs(e-t);o=null!==(r=qo.getTicksForInterval({start:i,stop:n,interval:this.interval,availableRange:a}))&&void 0!==r?r:[]}const s=new Set;return o.filter((t=>{const e=this.convert(t);return!isNaN(e)&&!s.has(e)&&(s.add(e),!0)}))}getDefaultTicks(t,e){const i=[],n=this.timestamps.length,a=Math.ceil(n*(this.visibleRange[1]-this.visibleRange[0])/t),o=Math.floor(a/2);for(const[r,s]of this.timestamps.entries())a>0&&(r+o)%a||(e?i.push(new Date(this.timestamps[n-r-1])):i.push(new Date(s)));return i}convert(t){var e;this.refresh();const i=Number(t);if(i<this.sortedTimestamps[0])return NaN;let n=this.findInterval(i);return this.timestamps[0]!==this.sortedTimestamps[0]&&(n=this.timestamps.length-n-1),null!==(e=this.ordinalRange[n])&&void 0!==e?e:NaN}findInterval(t){const{sortedTimestamps:e}=this;let i=0,n=e.length-1;for(;i<=n;){const a=Math.floor((i+n)/2);if(e[a]===t)return a;e[a]<t?i=a+1:n=a-1}return i}tickFormat(t){let{ticks:e,domain:i,specifier:n}=t;return null==n?la(e,i):ra(n)}invert(t){this.refresh();const e=this.ordinalRange.findIndex((e=>t<=e));return this.domain[e]}invertNearest(t){return new Date(super.invertNearest(t))}};ce([ua],Jo.prototype,"tickCount",2),ce([ua],Jo.prototype,"minTickCount",2),ce([ua],Jo.prototype,"maxTickCount",2),ce([ua],Jo.prototype,"interval",2);var $o=Jo;function tr(t,e){return"number"===typeof t&&"number"===typeof e?t-e:"string"===typeof t&&"string"===typeof e?t.localeCompare(e):null==t&&null==e?0:null==t?-1:null==e?1:String(t).localeCompare(String(e))}function er(t){return"function"===typeof t?t():t}function ir(t,e,i){for(const n in t){const a=i(er(t[n]),er(e[n]));if(0!==a)return a}return 0}var nr=class t extends Pi{constructor(t){var e;super({isVirtual:null===t||void 0===t?void 0:t.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:i,zIndexSubOrder:n}=null!==t&&void 0!==t?t:{};this.isContainerNode=!0,void 0!==i&&(this.zIndex=i),void 0!==n&&(this.zIndexSubOrder=n),this.name=null===(e=this.opts)||void 0===e?void 0:e.name}static is(e){return e instanceof t}onZIndexChange(){var t;(super.onZIndexChange(),this.layer)&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return null!=this.layer}_setLayerManager(t){if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");super._setLayerManager(t)}initialiseLayer(){var t;this.layer||this._layerManager&&!0===(null===(t=this.opts)||void 0===t?void 0:t.layer)&&(this.layer=this._layerManager.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()}))}getComputedOpacity(){let e=1;for(const i of this.traverseUp())i instanceof t&&(e*=i.opacity);return e}getVisibility(){for(const t of this.traverseUp())if(!t.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.isVirtual)return void super.markDirty(t,e);let i=e;(e<2||null!=this.layer)&&(i=1),super.markDirty(t,e,i)}containsPoint(t,e){return!0}computeBBox(){return this.computeTransformMatrix(),t.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}computeTransformedRegionBBox(){return this.clipRect?(this.computeTransformMatrix(),this.matrix.transformBBox(this.clipRect)):this.computeTransformedBBox()}preRender(){var t,e;const i=super.preRender();return i.groups+=1,i.nonGroups-=1,!0!==(null===(t=this.opts)||void 0===t?void 0:t.layer)||null!=this.layer||(i.nonGroups>0&&this.initialiseLayer(),null!==(e=this.opts)&&void 0!==e&&e.nonEmptyChildDerivedZIndex&&i.nonGroups>0&&this.deriveZIndexFromChildren()),i}deriveZIndexFromChildren(){var t;const e=this.children.filter((t=>t._childNodeCounts.nonGroups>0));this.sortChildren(e);const i=e.at(-1);this.zIndex=null!==(t=null===i||void 0===i?void 0:i.zIndex)&&void 0!==t?t:-1/0,this.zIndexSubOrder=null===i||void 0===i?void 0:i.zIndexSubOrder}render(t){const{opts:{name:e}={},_debug:i}=this,{dirty:n,dirtyZIndex:a,layer:o,children:r,clipRect:s,dirtyTransform:l}=this;let{ctx:c,forceRender:u,clipBBox:d}=t;const{resized:h,stats:p}=t,g=c.getTransform(),f=n>=2||a||h;let m=f,y=!1;for(const M of r)if(m||(m=null==M.layerManager&&M.dirty>=1),y||(y=null!=M.layerManager&&M.dirty>=1),m)break;if(e&&(null===i||void 0===i||i({name:e,group:this,isDirty:f,isChildDirty:m,dirtyTransform:l,renderCtx:t,forceRender:u})),l)u="dirtyTransform";else if(o){const t=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(t)||(u="dirtyTransform",this.lastBBox=t)}if(!f&&!m&&!y&&!u)return e&&p&&(null===i||void 0===i||i({name:e,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this})),o&&p&&(p.layersSkipped++,p.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1});const v=this.visible;if(o){if(c=o.context,c.save(),c.setTransform(o.pixelRatio,0,0,o.pixelRatio,0,0),"dirtyTransform"!==u&&(u=m||a),u&&o.clear(),d){const{width:n,height:a,x:o,y:r}=d;null===i||void 0===i||i((()=>({name:e,clipBBox:d,ctxTransform:c.getTransform(),renderCtx:t,group:this}))),c.beginPath(),c.rect(o,r,n,a),c.clip()}c.setTransform(g)}else c.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(c),s){const{x:n,y:a,width:o,height:r}=s;c.save(),null===i||void 0===i||i((()=>({name:e,clipRect:s,ctxTransform:c.getTransform(),renderCtx:t,group:this}))),c.beginPath(),c.rect(n,a,o,r),c.clip(),d=this.matrix.transformBBox(s)}const b=this.hasVirtualChildren();a?(this.sortChildren(r),"dirtyTransform"!==u&&(u=!0)):b&&this.sortChildren(r);const x=u!==t.forceRender||d!==t.clipBBox||c!==t.ctx?{...t,ctx:c,forceRender:u,clipBBox:d}:t;let k=0;for(const M of r)M.visible&&v?u||0!==M.dirty?(c.save(),M.render(x),c.restore()):p&&(k+=M.nodeCount.count):(M.markClean(),p&&(k+=M.nodeCount.count));if(p&&(p.nodesSkipped+=k),super.render(t),s&&c.restore(),b)for(const M of this.virtualChildren)M.markClean({recursive:"virtual"});var S,w;o&&(p&&p.layersRendered++,c.restore(),u&&o.snapshot(),null===(S=(w=o.context).verifyDepthZero)||void 0===S||S.call(w));e&&p&&(null===i||void 0===i||i({name:e,result:"rendered",skipped:k,renderCtx:t,counts:this.nodeCount,group:this}))}sortChildren(t){this.dirtyZIndex=!1,t.sort(((t,e)=>{var i,n;return ir([t.zIndex,...null!==(i=t.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],t.serialNumber],[e.zIndex,...null!==(n=e.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],e.serialNumber],tr)}))}static computeBBox(t){let e=1/0,i=-1/0,n=1/0,a=-1/0;for(const o of t){if(!o.visible)continue;const t=o.computeTransformedBBox();if(!t)continue;const{x:r,y:s,width:l,height:c}=t;r<e&&(e=r),s<n&&(n=s),r+l>i&&(i=r+l),s+c>a&&(a=s+c)}return new Li(e,n,i-e,a-n)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};nr.className="Group",ce([Ii({redraw:3,convertor:t=>pi(0,t,1)})],nr.prototype,"opacity",2);var ar=nr,or=2*Math.PI;function rr(t){return t%=or,t+=or,t%=or}function sr(t){return t%=or,(t+=or)!==or&&(t%=or),t}function lr(t){return(t%=or)<-Math.PI?t+=or:t>=Math.PI&&(t-=or),t}function cr(t,e,i){const n=rr(t),a=rr(e),o=rr(i);return a<o?a<=n&&n<=o:!(a>o)||(a<=n||n<=o)}function ur(t){return t/180*Math.PI}function dr(t){return t/Math.PI*180}function hr(t,e,i){i&&([t,e]=[e,t]);const n=rr(t);return(rr(e)+or-n)%or}function pr(t,e){return t=rr(t),(e=rr(e))-t+(t>e?2*Math.PI:0)}function gr(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}var fr=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.stops=t}},mr=class extends fr{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t),this.angle=e}createGradient(t,e){const{stops:i,angle:n}=this,a=rr(ur(n+90)),o=Math.cos(a),r=Math.sin(a),s=e.width,l=e.height,c=e.x+.5*s,u=e.y+.5*l;if(s>0&&l>0){const e=Math.sqrt(l*l+s*s)/2,n=Math.atan2(l,s);let d;d=a<Math.PI/2?a:a<Math.PI?Math.PI-a:a<1.5*Math.PI?a-Math.PI:2*Math.PI-a;const h=e*Math.abs(Math.cos(d-n)),p=t.createLinearGradient(c+o*h,u+r*h,c-o*h,u-r*h);for(const t of i)p.addColorStop(t.offset,t.color);return p}return"black"}},yr=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,vr=class t extends Pi{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=t.defaultStyles.fill,this.stroke=t.defaultStyles.stroke,this.strokeWidth=t.defaultStyles.strokeWidth,this.lineDash=t.defaultStyles.lineDash,this.lineDashOffset=t.defaultStyles.lineDashOffset,this.lineCap=t.defaultStyles.lineCap,this.lineJoin=t.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=t.defaultStyles.opacity,this.fillShadow=t.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}onFillChange(){const{fill:t}=this;let e;if(null!==t&&void 0!==t&&t.startsWith("linear-gradient")&&(e=yr.exec(t))){const t=parseFloat(e[1]),i=[],n=e[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let o;for(;o=a.exec(n);)i.push(o[0]);this.gradient=new mr(i.map(((t,e)=>({color:t,offset:e/(i.length-1)}))),t)}else this.gradient=void 0}align(t,e){var i,n;const a=null!==(i=null===(n=this.layerManager)||void 0===n||null===(n=n.canvas)||void 0===n?void 0:n.pixelRatio)&&void 0!==i?i:1,o=Math.round(t*a)/a;return null==e?o:0===e?0:e<1?Math.ceil(e*a)/a:Math.round((e+t)*a)/a-o}fillStroke(t,e){this.renderFill(t,e),this.renderStroke(t,e)}renderFill(t,e){if(this.fill){const{globalAlpha:i}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,e),t.globalAlpha=i}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,e){e?t.fill(e):t.fill()}applyFill(t){var e,i;t.fillStyle=null!==(e=null===(i=this.gradient)||void 0===i?void 0:i.createGradient(t,this.computeBBox()))&&void 0!==e?e:this.fill}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){var e,i;const n=null!==(e=null===(i=this.layerManager)||void 0===i?void 0:i.canvas.pixelRatio)&&void 0!==e?e:1,a=this.fillShadow;null!==a&&void 0!==a&&a.enabled&&(t.shadowColor=a.color,t.shadowOffsetX=a.xOffset*n,t.shadowOffsetY=a.yOffset*n,t.shadowBlur=a.blur*n)}renderStroke(t,e){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=t;t.strokeStyle=this.stroke,t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),null!=this.miterLimit&&(t.miterLimit=this.miterLimit),this.executeStroke(t,e),t.globalAlpha=i}}executeStroke(t,e){e?t.stroke(e):t.stroke()}containsPoint(t,e){return this.isPointInPath(t,e)}};vr.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},ce([Ii({redraw:2})],vr.prototype,"fillOpacity",2),ce([Ii({redraw:2})],vr.prototype,"strokeOpacity",2),ce([Ii({redraw:2,changeCb:t=>t.onFillChange()})],vr.prototype,"fill",2),ce([Ii({redraw:2})],vr.prototype,"stroke",2),ce([Ii({redraw:2})],vr.prototype,"strokeWidth",2),ce([Ii({redraw:2})],vr.prototype,"lineDash",2),ce([Ii({redraw:2})],vr.prototype,"lineDashOffset",2),ce([Ii({redraw:2})],vr.prototype,"lineCap",2),ce([Ii({redraw:2})],vr.prototype,"lineJoin",2),ce([Ii({redraw:2})],vr.prototype,"miterLimit",2),ce([Ii({redraw:2,convertor:t=>pi(0,t,1)})],vr.prototype,"opacity",2),ce([Ii({redraw:2,checkDirtyOnAssignment:!0})],vr.prototype,"fillShadow",2);var br=vr,xr=class extends br{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Li(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var e;const{ctx:i,forceRender:n,stats:a}=t;if(0===this.dirty&&!n)return void(a&&(a.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(i);let{x1:o,y1:r,x2:s,y2:l}=this;o=this.align(o),r=this.align(r),s=this.align(s),l=this.align(l);const{fill:c,opacity:u,isRange:d}=this;if(!(!d||!c)){const{fillOpacity:t}=this;i.fillStyle=c,i.globalAlpha=u*t,i.beginPath(),i.moveTo(o,r),i.lineTo(s,r),i.lineTo(s,l),i.lineTo(o,l),i.closePath(),i.fill()}const{stroke:h,strokeWidth:p,startLine:g,endLine:f}=this;if(!(!g&&!f||!h||!p)){const{strokeOpacity:t,lineDash:e,lineDashOffset:n,lineCap:a,lineJoin:c}=this;i.strokeStyle=h,i.globalAlpha=u*t,i.lineWidth=p,e&&i.setLineDash(e),n&&(i.lineDashOffset=n),a&&(i.lineCap=a),c&&(i.lineJoin=c),i.beginPath(),g&&(i.moveTo(o,r),i.lineTo(s,r)),f&&(i.moveTo(s,l),i.lineTo(o,l)),i.stroke()}null===(e=this.fillShadow)||void 0===e||e.markClean(),super.render(t)}};xr.className="Range",xr.defaultStyles={...br.defaultStyles,strokeWidth:1},ce([Ii({redraw:2})],xr.prototype,"x1",2),ce([Ii({redraw:2})],xr.prototype,"y1",2),ce([Ii({redraw:2})],xr.prototype,"x2",2),ce([Ii({redraw:2})],xr.prototype,"y2",2),ce([Ii({redraw:2})],xr.prototype,"startLine",2),ce([Ii({redraw:2})],xr.prototype,"endLine",2),ce([Ii({redraw:2})],xr.prototype,"isRange",2);var kr=new WeakMap,Sr=new WeakMap;function wr(t,e){var i,n;const a=JSON.stringify(t,null,0);var o;(kr.has(e)||kr.set(e,new Map),null!==(i=kr.get(e))&&void 0!==i&&i.has(a))||(null===(o=kr.get(e))||void 0===o||o.set(a,e(t)));return null===(n=kr.get(e))||void 0===n?void 0:n.get(a)}function Mr(t){return function(e){var i,n;const a=JSON.stringify(e,null,0);if(Sr.has(t)||Sr.set(t,new Map),null===(i=Sr.get(t))||void 0===i||!i.has(a)){for(var o,r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];null===(o=Sr.get(t))||void 0===o||o.set(a,t(e,...s))}return null===(n=Sr.get(t))||void 0===n?void 0:n.get(a)}}var Dr=class{constructor(t){this.ctx=t,this.charMap=new Map}static createFontMeasurer(t){const e=function(){return new OffscreenCanvas(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0).getContext("2d")}(),i=new this(e);return this.instanceMap.set(t,i),e.font=t,i}static getFontMeasurer(t){var e;const i=null!==(e=this.instanceMap.get(t.font))&&void 0!==e?e:this.createFontMeasurer(t.font);return t.textAlign&&(i.ctx.textAlign=t.textAlign),t.textBaseline&&(i.ctx.textBaseline=t.textBaseline),i}static measureText(t,e){const{ctx:i}=this.getFontMeasurer(e);return this.getMetrics(i,t)}static measureLines(t,e){const{ctx:i}=this.getFontMeasurer(e),n="string"===typeof t?t.split(this.lineSplitter):t;return this.getMultilineMetrics(i,n)}static wrapText(t,e){return this.wrapLines(t,e).join("\n")}static wrapLines(t,e){const i=t.split(this.lineSplitter),n=this.getFontMeasurer(e);if("never"===e.textWrap)return i.map((t=>this.truncateLine(t.trimEnd(),n,e.maxWidth)));const a=[],o="hyphenate"===e.textWrap,r="on-space"===e.textWrap;for(let s of i){s=s.trimEnd();for(let t=0,i=0,l=0;t<s.length;t++){const c=s.charAt(t);if(i+=n.textWidth(c)," "===c&&(l=t),i>e.maxWidth){if(0===t)break;if(l){const o=this.getWordAt(s,l+1),c=n.textWidth(o);if(c<=e.maxWidth){a.push(s.slice(0,l).trimEnd()),s=s.slice(l).trimStart(),t=-1,i=0,l=0;continue}r&&c>e.maxWidth&&a.push(s.slice(0,l).trimEnd(),this.truncateLine(s.slice(l).trimStart(),n,e.maxWidth,!0))}else r&&a.push(this.truncateLine(s,n,e.maxWidth,!0));if(r){s="";break}const c=o?"-":"";let u=s.slice(0,t).trim();for(;u.length&&n.textWidth(u+c)>e.maxWidth;)u=u.slice(0,-1).trimEnd();if(a.push(u+c),!u.length){s="";break}s=s.slice(u.length).trimStart(),t=-1,i=0,l=0}}s&&a.push(s)}return this.avoidOrphans(a,n,e),this.clipLines(a,n,e)}static getWordAt(t,e){const i=t.indexOf(" ",e);return-1===i?t.slice(e):t.slice(e,i)}static clipLines(t,e,i){if(!i.maxHeight)return t;const{height:n,lineMetrics:a}=this.measureLines(t,i);if(n<=i.maxHeight)return t;for(let o=0,r=0;o<a.length;o++){const{lineHeight:n}=a[o];if(r+=n,r>i.maxHeight){const n=t.slice(0,Math.max(o,1)),a=n.pop();return n.concat(this.truncateLine(a,e,i.maxWidth,!0))}}return t}static avoidOrphans(t,e,i){if(t.length<2)return;const{length:n}=t,a=t[n-1],o=t[n-2];if(o.length<a.length)return;const r=o.lastIndexOf(" ");if(-1===r||r===o.indexOf(" ")||a.includes(" "))return;const s=o.slice(r+1);e.textWidth(a+s)<=i.maxWidth&&(t[n-2]=o.slice(0,r),t[n-1]=s+" "+a)}static truncateLine(t,e,i,n){const a=e.textWidth(this.EllipsisChar);let o=0,r=0;for(;r<t.length;r++){const n=e.textWidth(t.charAt(r));if(o+n>i)break;o+=n}if(t.length===r&&(!n||o+a<=i))return n?t+this.EllipsisChar:t;for(t=t.slice(0,r).trimEnd();t.length&&e.textWidth(t)+a>i;)t=t.slice(0,-1).trimEnd();return t+this.EllipsisChar}static getMetrics(t,e){var i,n;const a=t.measureText(e);return null!==(i=a.fontBoundingBoxAscent)&&void 0!==i||(a.fontBoundingBoxAscent=a.emHeightAscent),null!==(n=a.fontBoundingBoxDescent)&&void 0!==n||(a.fontBoundingBoxDescent=a.emHeightDescent),{width:a.width,height:a.actualBoundingBoxAscent+a.actualBoundingBoxDescent,lineHeight:a.fontBoundingBoxAscent+a.fontBoundingBoxDescent,offsetTop:a.actualBoundingBoxAscent,offsetLeft:a.actualBoundingBoxLeft}}static getMultilineMetrics(t,e){let i=0,n=0,a=0,o=0,r=0;const s=this.getVerticalModifier(t.textBaseline),l=e.map(((e,s,l)=>{var c,u;let{length:d}=l;const h=t.measureText(e);return null!==(c=h.fontBoundingBoxAscent)&&void 0!==c||(h.fontBoundingBoxAscent=h.emHeightAscent),null!==(u=h.fontBoundingBoxDescent)&&void 0!==u||(h.fontBoundingBoxDescent=h.emHeightDescent),i<h.width&&(i=h.width),o<h.actualBoundingBoxLeft&&(o=h.actualBoundingBoxLeft),0===s?(n+=h.actualBoundingBoxAscent,a+=h.actualBoundingBoxAscent):r+=h.fontBoundingBoxAscent,s===d-1?n+=h.actualBoundingBoxDescent:r+=h.fontBoundingBoxDescent,{text:e,width:h.width,height:h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,lineHeight:h.fontBoundingBoxAscent+h.fontBoundingBoxDescent,offsetTop:h.actualBoundingBoxAscent,offsetLeft:h.actualBoundingBoxLeft}}));return n+=r,a+=r*s,{width:i,height:n,offsetTop:a,offsetLeft:o,lineMetrics:l}}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return.5;default:return 1}}textWidth(t,e){var i;if(e){let e=0;for(let i=0;i<t.length;i++)e+=this.textWidth(t.charAt(i));return e}return t.length>1?this.ctx.measureText(t).width:null!==(i=this.charMap.get(t))&&void 0!==i?i:this.charWidth(t)}charWidth(t){const{width:e}=this.ctx.measureText(t);return this.charMap.set(t,e),e}};Dr.EllipsisChar="\u2026",Dr.instanceMap=new Map,Dr.lineSplitter=/\r?\n/g;function Lr(t){const{redraw:e=3,changeCb:i}=null!==t&&void 0!==t?t:{};return Ii({redraw:e,type:"font",changeCb:i})}var Cr=class t extends br{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=t.defaultStyles.textAlign,this.textBaseline=t.defaultStyles.textBaseline}onTextChange(){var t,e;this.lines=null!==(t=null===(e=this.text)||void 0===e?void 0:e.split("\n").map((t=>t.trim())))&&void 0!==t?t:[]}get font(){return(null==this._font||this._dirtyFont)&&(this._dirtyFont=!1,this._font=Nr(this)),this._font}computeBBox(){const{x:t,y:e,lines:i,textBaseline:n,textAlign:a}=this,{offsetTop:o,offsetLeft:r,width:s,height:l}=Dr.measureLines(i,{font:Nr(this),textBaseline:n,textAlign:a});return new Li(t-r,e-o,s,l)}getLineHeight(t){var e;return null!==(e=this.lineHeight)&&void 0!==e?e:Dr.measureText(t,this).lineHeight}isPointInPath(t,e){const i=this.transformPoint(t,e),n=this.computeBBox();return!!n&&n.containsPoint(i.x,i.y)}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=this.nodeCount.count));if(!this.lines.length||!this.layerManager)return void(n&&(n.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(e);const{fill:a,stroke:o,strokeWidth:r}=this,{pixelRatio:s}=this.layerManager.canvas;if(e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,a){e.fillStyle=a,e.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:t}=this;null!==t&&void 0!==t&&t.enabled&&(e.shadowColor=t.color,e.shadowOffsetX=t.xOffset*s,e.shadowOffsetY=t.yOffset*s,e.shadowBlur=t.blur*s),this.renderLines(((t,i,n)=>e.fillText(t,i,n)))}if(o&&r){e.strokeStyle=o,e.lineWidth=r,e.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:t,lineDashOffset:i,lineCap:n,lineJoin:a}=this;t&&e.setLineDash(t),i&&(e.lineDashOffset=i),n&&(e.lineCap=n),a&&(e.lineJoin=a),this.renderLines(((t,i,n)=>e.strokeText(t,i,n)))}super.render(t)}renderLines(e){const{lines:i,x:n,y:a}=this,o=i.map((t=>this.getLineHeight(t))),r=o.reduce(((t,e)=>t+e),0);let s=(o[0]-r)*t.getVerticalModifier(this.textBaseline);for(let t=0;t<i.length;t++)e(i[t],n,a+s),s+=o[t]}static wrapLines(t,e,i,n,a,o){const r=Dr.wrapLines(t,{maxWidth:e,maxHeight:i,font:Nr(n),textAlign:n.textAlign,textBaseline:n.textBaseline,textWrap:a});if("hide"!==o||!r.some((t=>t.endsWith(Dr.EllipsisChar))))return r}static wrap(e,i,n,a,o){var r;let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"ellipsis";const l=t.wrapLines(e,i,n,a,o,s);return null!==(r=null===l||void 0===l?void 0:l.join("\n").trim())&&void 0!==r?r:""}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}static getVerticalModifier(t){switch(t){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}}static measureText(t,e,i,n){return this._measureText({text:t,font:e,textBaseline:i,textAlign:n})}static getTextSize(t,e){return this._getTextSize({text:t,font:e})}static getTextSizeMultiline(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultStyles.textBaseline,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.defaultStyles.textAlign;const o=Dr.measureLines(e,{font:i,textBaseline:n,textAlign:a});return{top:o.offsetTop,left:o.offsetLeft,width:o.width,height:o.height}}};Cr.className="Text",Cr.defaultLineHeightRatio=1.15,Cr.defaultStyles=Object.assign({},br.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),Cr.ellipsis="\u2026",Cr._measureText=Mr((t=>{let{text:e,font:i,textBaseline:n,textAlign:a}=t;return Dr.measureText(e,{font:i,textBaseline:n,textAlign:a})})),Cr._getTextSize=Mr((t=>{let{text:e,font:i}=t;return Dr.measureText(e,{font:i})})),ce([Ii({redraw:3})],Cr.prototype,"x",2),ce([Ii({redraw:3})],Cr.prototype,"y",2),ce([Ii({redraw:3,changeCb:t=>t.onTextChange()})],Cr.prototype,"text",2),ce([Lr()],Cr.prototype,"fontStyle",2),ce([Lr()],Cr.prototype,"fontWeight",2),ce([Lr()],Cr.prototype,"fontSize",2),ce([Lr()],Cr.prototype,"fontFamily",2),ce([Ii({redraw:3})],Cr.prototype,"textAlign",2),ce([Ii({redraw:3})],Cr.prototype,"textBaseline",2),ce([Ii({redraw:3})],Cr.prototype,"lineHeight",2);var Ir=Cr;function Nr(t){const{fontFamily:e,fontSize:i,fontStyle:n,fontWeight:a}=t;return[null!==n&&void 0!==n?n:"",null!==a&&void 0!==a?a:"",i+"px",e].join(" ").trim()}var Er=class extends wn{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Nr(this)}};function Tr(t){const{parallelFlipRotation:e=0,regularFlipRotation:i=0}=t,n=t.rotation?rr(ur(t.rotation)):0,a=!n&&e>=0&&e<=Math.PI?-1:1,o=!n&&i>=0&&i<=Math.PI?-1:1;let r=0;return t.parallel?r=a*Math.PI/2:-1===o&&(r=Math.PI),{configuredRotation:n,defaultRotation:r,parallelFlipFlag:a,regularFlipFlag:o}}function Ar(t,e,i,n,a){const o=e>0&&e<=Math.PI,r=i>0&&i<=Math.PI;if(t){if(!e&&!i)return"center";if(n*(o||r?-1:1)===-1)return"end"}else if(n*a===-1)return"end";return"start"}function Rr(t,e,i,n,a){const{width:o,height:r}=e,s=new Li(i,n,0,0);a.transformBBox(s,e);const{x:l,y:c}=e;return e.width=o,e.height=r,{point:{x:l,y:c},label:{text:t,width:o,height:r}}}ce([pa(ba)],Er.prototype,"enabled",2),ce([pa(Ba,{optional:!0})],Er.prototype,"color",2),ce([pa(Ha,{optional:!0})],Er.prototype,"fontStyle",2),ce([pa(Za,{optional:!0})],Er.prototype,"fontWeight",2),ce([pa(Ma)],Er.prototype,"fontSize",2),ce([pa(ka)],Er.prototype,"fontFamily",2),ce([pa(xa,{optional:!0})],Er.prototype,"formatter",2);var Or=(t=>(t[t.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=2]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",t[t.SERIES_HIGHLIGHT_ZINDEX=5]="SERIES_HIGHLIGHT_ZINDEX",t[t.AXIS_FOREGROUND_ZINDEX=6]="AXIS_FOREGROUND_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=7]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=8]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=9]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.SERIES_ANNOTATION_ZINDEX=10]="SERIES_ANNOTATION_ZINDEX",t[t.LEGEND_ZINDEX=11]="LEGEND_ZINDEX",t[t.NAVIGATOR_ZINDEX=12]="NAVIGATOR_ZINDEX",t))(Or||{});function Pr(t){return null!=t&&Object.hasOwn(t,"toString")&&sn(t.toString())}function Br(t){return null!=t&&Object.hasOwn(t,"valueOf")&&cn(t.valueOf())}function zr(t){return cn(t)||tn(t)||Br(t)}function _r(t,e){return null!=t&&(!e||zr(t))}function Fr(t){return Pr(t)&&Object.hasOwn(t,"id")?t.id:t}var Gr=t=>"value"===t?ro(((t,e)=>"line"===e.target.type),(t=>"range"===t.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'")):ro(((t,e)=>"range"===e.target.type),(t=>"line"===t.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'")),jr=(t,e,i,n)=>{const a="line"===t&&void 0!==e,o="range"===t&&void 0!==i;if(!a&&!o)return!0;const[r,s]=null!==i&&void 0!==i?i:[e,void 0],l=fo.is(n)||$o.is(n),c=_r(r,l)&&!isNaN(n.convert(r)),u=_r(s,l)&&!isNaN(n.convert(s));if(a&&c||o&&c&&u)return!0;const d=["Expecting crossLine"];return o?(c||d.push("range start ".concat(co(r))),u||d.push("".concat(c?"":"and ","range end ").concat(co(s)))):d.push("value ".concat(co(r))),d.push("to match the axis scale domain."),ye.warnOnce(d.join(" ")),!1},Vr={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},Wr={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function Ur(t){let{yDirection:e,padding:i=0,position:n="top",bbox:a}=t;const o=e?Vr:Wr,{xTranslationDirection:r,yTranslationDirection:s}=o[n];return{xTranslation:r*(i+(e?a.width:a.height)/2),yTranslation:s*(i+(e?a.height:a.width)/2)}}function Kr(t){let{yDirection:e,bbox:i,padding:n=0,position:a="top"}=t;const o={};return a.startsWith("inside")||("top"!==a||e?"bottom"!==a||e?"left"===a&&e?o.left=n+i.width:"right"===a&&e&&(o.right=n+i.width):o.bottom=n+i.height:o.top=n+i.height),o}var Yr=t=>{let{yDirection:e,xEnd:i,yStart:n,yEnd:a}=t;return e?{x:i/2,y:n}:{x:i,y:isNaN(a)?n:(n+a)/2}},Hr=t=>{let{yDirection:e,xStart:i,xEnd:n,yStart:a,yEnd:o}=t;return e?{x:i,y:isNaN(o)?a:(a+o)/2}:{x:n/2,y:a}},Zr=t=>{let{yDirection:e,xEnd:i,yStart:n,yEnd:a}=t;return e?{x:i,y:isNaN(a)?n:(n+a)/2}:{x:i/2,y:isNaN(a)?n:a}},Xr=t=>{let{yDirection:e,xStart:i,xEnd:n,yStart:a,yEnd:o}=t;return e?{x:n/2,y:isNaN(o)?a:o}:{x:i,y:isNaN(o)?a:(a+o)/2}},qr=t=>{let{yDirection:e,xStart:i,xEnd:n,yStart:a}=t;return e?{x:i/2,y:a}:{x:n,y:a}},Qr=t=>{let{yDirection:e,xStart:i,yStart:n,yEnd:a}=t;return e?{x:i,y:isNaN(a)?n:a}:{x:i,y:n}},Jr=t=>{let{yDirection:e,xEnd:i,yStart:n,yEnd:a}=t;return e?{x:i,y:n}:{x:i,y:isNaN(a)?n:a}},$r=t=>{let{yDirection:e,xStart:i,xEnd:n,yStart:a,yEnd:o}=t;return e?{x:n,y:isNaN(o)?a:o}:{x:i,y:isNaN(o)?a:o}},ts={top:{c:Yr},bottom:{c:Xr},left:{c:Hr},right:{c:Zr},topLeft:{c:qr},topRight:{c:Jr},bottomLeft:{c:Qr},bottomRight:{c:$r},inside:{c:t=>{let{xEnd:e,yStart:i,yEnd:n}=t;return{x:e/2,y:isNaN(n)?i:(i+n)/2}}},insideLeft:{c:Hr},insideRight:{c:Zr},insideTop:{c:Yr},insideBottom:{c:Xr},insideTopLeft:{c:qr},insideBottomLeft:{c:Qr},insideTopRight:{c:Jr},insideBottomRight:{c:$r}},es=no(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),is=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};ce([pa(ba,{optional:!0})],is.prototype,"enabled",2),ce([pa(ka,{optional:!0})],is.prototype,"text",2),ce([pa(Ha,{optional:!0})],is.prototype,"fontStyle",2),ce([pa(Za,{optional:!0})],is.prototype,"fontWeight",2),ce([pa(Ma)],is.prototype,"fontSize",2),ce([pa(ka)],is.prototype,"fontFamily",2),ce([pa(Sa)],is.prototype,"padding",2),ce([pa(Ba,{optional:!0})],is.prototype,"color",2),ce([pa(es,{optional:!0})],is.prototype,"position",2),ce([pa(La,{optional:!0})],is.prototype,"rotation",2),ce([pa(ba,{optional:!0})],is.prototype,"parallel",2);var ns=class t{constructor(){this.id=si(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new is,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new ar({name:"".concat(this.id),layer:!0,zIndex:t.LINE_LAYER_ZINDEX}),this.labelGroup=new ar({name:"".concat(this.id),layer:!0,zIndex:t.LABEL_LAYER_ZINDEX}),this.crossLineRange=new xr,this.crossLineLabel=new Ir,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:e,labelGroup:i,crossLineRange:n,crossLineLabel:a}=this;e.append(n),i.append(a),n.pointerEvents=1}update(t){const{enabled:e,data:i,type:n,value:a,range:o,scale:r}=this;if(!n||!r||!e||!t||!jr(n,a,o,r)||0===i.length)return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,e){if(!t)return;if(!this.createNodeData(e))return;const{sideFlag:i,gridLength:n,data:a}=this,o=[],r=i*n,s=a[0],l=a[1],c=new Li(Math.min(0,r),Math.min(s,l),Math.abs(0-r),Math.abs(s-l));o.push(c);const u=this.computeLabelBBox();return u&&o.push(u),Li.merge(o)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){var e,i;const{scale:n,gridLength:a,sideFlag:o,direction:r,label:{position:s="top"},clippedRange:l,strokeWidth:c=0}=this;if(this.data=[],!n)return!1;const u=null!==(e=n.bandwidth)&&void 0!==e?e:0,d=null!==(i=n.step)&&void 0!==i?i:0,h=(t?-1:1)*(n instanceof ha?(d-u)/2:0),[p,g]=[0,o*a];let[f,m]=this.getRange();const y=void 0===m&&$o.is(n)?u/2+h:0;let[v,b]=[Number(n.convert(f,{clampMode:"clamped"}))-h+y,n.convert(m,{clampMode:"clamped"})+u+h];v=gi(v,l),b=gi(b,l),[f,m]=[Number(n.convert(f))+y,n.convert(m)+u];const x=(f===v||m===b||v!==b)&&Math.abs(b-v)>0;if(x&&v>b&&([v,b]=[b,v],[f,m]=[m,f]),f-h>=v&&(f-=h),m+h<=b&&(m+=h),this.isRange=x,this.startLine=c>0&&f>=v&&f<=v+h,this.endLine=c>0&&m>=b-u-h&&m<=b,!x&&!this.startLine&&!this.endLine)return!1;if(this.data=[v,b],this.label.enabled){var k;const t="y"===r,{c:e=Yr}=null!==(k=ts[s])&&void 0!==k?k:{},{x:i,y:n}=e({yDirection:t,xStart:p,xEnd:g,yStart:v,yEnd:b});this.labelPoint={x:i,y:n}}return!0}updateRangeNode(){var t;const{crossLineRange:e,sideFlag:i,gridLength:n,data:a,startLine:o,endLine:r,isRange:s,fill:l,fillOpacity:c,stroke:u,strokeWidth:d,lineDash:h}=this;e.x1=0,e.x2=i*n,e.y1=a[0],e.y2=a[1],e.startLine=o,e.endLine=r,e.isRange=s,e.fill=l,e.fillOpacity=null!==c&&void 0!==c?c:1,e.stroke=u,e.strokeWidth=null!==d&&void 0!==d?d:1,e.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,e.lineDash=h}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e,y:i}={},label:{parallel:n,rotation:a,position:o="top",padding:r=0},direction:s,parallelFlipRotation:l,regularFlipRotation:c}=this;if(void 0===e||void 0===i)return;const{defaultRotation:u,configuredRotation:d}=Tr({rotation:a,parallel:n,regularFlipRotation:c,parallelFlipRotation:l});t.rotation=u+d,t.textBaseline="middle",t.textAlign="center";const h=t.computeTransformedBBox();if(!h)return;const p="y"===s,{xTranslation:g,yTranslation:f}=Ur({yDirection:p,padding:r,position:o,bbox:h});t.translationX=e+g,t.translationY=i+f}getZIndex(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX}getRange(){var t;const{value:e,range:i,scale:n}=this,a=fo.is(n)||$o.is(n),o=null!==(t=null===i||void 0===i?void 0:i[0])&&void 0!==t?t:e;let r=null===i||void 0===i?void 0:i[1];return a||void 0!==r||(r=o),a&&o===r&&(r=void 0),[o,r]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new Ir;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:i,y:n}={},label:{parallel:a,rotation:o,position:r="top",padding:s=0},direction:l,parallelFlipRotation:c,regularFlipRotation:u}=this;if(void 0===i||void 0===n)return;const{configuredRotation:d}=Tr({rotation:o,parallel:a,regularFlipRotation:u,parallelFlipRotation:c});e.rotation=d,e.textBaseline="middle",e.textAlign="center";const h=e.computeTransformedBBox();if(!h)return;const p="y"===l,{xTranslation:g,yTranslation:f}=Ur({yDirection:p,padding:s,position:r,bbox:h});return e.translationX=i+g,e.translationY=n+f,e.computeTransformedBBox()}calculatePadding(t){var e,i,n,a,o,r,s,l;const{isRange:c,startLine:u,endLine:d,direction:h,label:{padding:p=0,position:g="top"}}=this;if(!c&&!u&&!d)return;const f=this.computeLabelBBox();if(null==(null===f||void 0===f?void 0:f.x)||null==(null===f||void 0===f?void 0:f.y))return;const m=Kr({yDirection:"y"===h,padding:p,position:g,bbox:f});t.left=Math.max(null!==(e=t.left)&&void 0!==e?e:0,null!==(i=m.left)&&void 0!==i?i:0),t.right=Math.max(null!==(n=t.right)&&void 0!==n?n:0,null!==(a=m.right)&&void 0!==a?a:0),t.top=Math.max(null!==(o=t.top)&&void 0!==o?o:0,null!==(r=m.top)&&void 0!==r?r:0),t.bottom=Math.max(null!==(s=t.bottom)&&void 0!==s?s:0,null!==(l=m.bottom)&&void 0!==l?l:0)}};ns.LINE_LAYER_ZINDEX=9,ns.RANGE_LAYER_ZINDEX=3,ns.LABEL_LAYER_ZINDEX=8,ns.className="CrossLine",ce([pa(ba,{optional:!0})],ns.prototype,"enabled",2),ce([pa(no(["range","line"],"a crossLine type"),{optional:!0})],ns.prototype,"type",2),ce([pa(fa(Gr("range"),Ia.restrict({length:2})),{optional:!0})],ns.prototype,"range",2),ce([pa(Gr("value"),{optional:!0})],ns.prototype,"value",2),ce([pa(Ba,{optional:!0})],ns.prototype,"fill",2),ce([pa(Da,{optional:!0})],ns.prototype,"fillOpacity",2),ce([pa(Ba,{optional:!0})],ns.prototype,"stroke",2),ce([pa(Sa,{optional:!0})],ns.prototype,"strokeWidth",2),ce([pa(Da,{optional:!0})],ns.prototype,"strokeOpacity",2),ce([pa(Ka,{optional:!0})],ns.prototype,"lineDash",2);var as=ns,os=class{constructor(){this.moduleMap=new Map}*modules(){const t=["toolbar","navigator"];for(const e of this.moduleMap.values())t.includes(e.module.optionsKey)||(yield e.moduleInstance);for(const e of t){const t=this.moduleMap.get(e);t&&(yield t.moduleInstance)}}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error("AG Charts - module already initialised: ".concat(t.optionsKey));this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){var e;const i=sn(t)?t:t.optionsKey;null===(e=this.moduleMap.get(i))||void 0===e||e.moduleInstance.destroy(),this.moduleMap.delete(i)}getModule(t){var e;return null===(e=this.moduleMap.get(sn(t)?t:t.optionsKey))||void 0===e?void 0:e.moduleInstance}isEnabled(t){return this.moduleMap.has(sn(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),((e,i)=>t(e.moduleInstance,i)))}destroy(){for(const e of this.moduleMap.keys()){var t;null===(t=this.moduleMap.get(e))||void 0===t||t.moduleInstance.destroy()}this.moduleMap.clear()}},rs={};function ss(t,e){const{nodes:i,selections:n}=Hn(t);for(const a of n){for(const t of a.nodes()){const i=e(t,t.datum);t.setProperties(i)}a.cleanup()}for(const a of i){const t=e(a,a.datum);a.setProperties(t)}}le(rs,{resetMotion:()=>ss});var ls=class t extends fo{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=ge,this.basePow=ge,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,ye.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=t.getBaseLogMethod(this.base),this.basePow=t.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,e]=this.domain,i=t>e?Math.ceil:Math.floor,n=t>e?Math.floor:Math.ceil,a=this.pow(i(this.log(t))),o=this.pow(n(this.log(e)));this.niceDomain=[a,o]}ticks(){var t;const e=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const i=this.base,[n,a]=this.getDomain(),o=Math.min(n,a),r=Math.max(n,a);let s=this.log(o),l=this.log(r);if(this.interval){const t=t=>t>=o&&t<=r,e=Zo(s,l,Math.min(Math.abs(this.interval),Math.abs(l-s))).map(this.pow).filter(t);if(!Xo(e.length,this.getPixelRange()))return e}if(!(i%1===0)||l-s>=e)return Wo(s,l,Math.min(l-s,e)).map(this.pow);const c=[],u=o>0;s=Math.floor(s)-1,l=Math.round(l)+1;const d=mi(this.range)/e;let h=1/0;for(let p=s;p<=l;p++){const t=this.convert(this.pow(p+1));for(let e=1;e<i;e++){const n=u?e:i-e+1,a=this.pow(p)*n,s=this.convert(a),l=Math.abs(h-s),g=Math.abs(s-t);a>=o&&a<=r&&(1===e||l>=d&&g>=d||0===c.length)&&(c.push(a),h=s)}}return c}tickFormat(t){var e;let{count:i,ticks:n,specifier:a}=t;return i!==1/0&&null==n&&this.ticks(),null!==(e=a)&&void 0!==e||(a=10===this.base?".0e":","),sn(a)?No(a):a}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const e=Math.log(t);return t=>Math.log(t)/e}}static getBasePowerMethod(t){switch(t){case 10:return t=>t>=0?10**t:1/10**-t;case Math.E:return Math.exp;default:return e=>t**e}}};ce([ua],ls.prototype,"base",2);var cs=ls,us={};function ds(t){var e;return t?null===(e=us.document)||void 0===e?void 0:e[t]:us.document}function hs(t){var e;return t?null===(e=us.window)||void 0===e?void 0:e[t]:us.window}function ps(t,e,i){const n=ds().createElement(t);return"object"===typeof e&&(i=e,e=void 0),e&&n.classList.add(e),i&&Object.assign(n.style,i),n}function gs(t,e){const{body:i}=ds(),n=ps("a",{display:"none"});n.href=t,n.download=e,i.appendChild(n),n.click(),setTimeout((()=>i.removeChild(n)))}function fs(t){us.document=t}function ms(t){us.window=t}function ys(t,e){t&&(t.style.width="".concat(e.width,"px"),t.style.height="".concat(e.height,"px"),t.style.left="".concat(e.x,"px"),t.style.top="".concat(e.y,"px"))}"undefined"!==typeof window?us.window=window:"undefined"!==typeof global&&(us.window=global.window),"undefined"!==typeof document?us.document=document:"undefined"!==typeof global&&(us.document=global.document);var vs=Date.now(),bs={create(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Object.assign((function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];bs.check(...e)&&("function"===typeof i[0]&&(i=ko(i[0]())),(()=>{const t=Date.now()-vs;if(t>2e3){const e=(Math.floor(t/100)/10).toFixed(1);ye.log("**** ".concat(e,"s since last log message ****"))}vs=Date.now()})(),ye.log(...i))}),{check:()=>bs.check(...e)})},check(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];0===e.length&&e.push(!0);return ko(hs("agChartsDebug")).some((t=>e.includes(t)))}},xs=class t{constructor(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=bs.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Pi,e)?()=>new e:e}static select(e,i){return new t(e,i,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}static selectAll(t,e){const i=[],n=t=>{e(t)&&i.push(t),t.children.forEach(n)};return n(t),i}static selectByClass(e,i){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return t.selectAll(e,(t=>t instanceof i||a.some((e=>t instanceof e))))}static selectByTag(e,i){return t.selectAll(e,(t=>t.tag===i))}createNode(t,e,i){const n=this.nodeFactory(t);return n.datum=t,null===e||void 0===e||e(n),null==i?this._nodes.push(n):this._nodes.splice(i,0,n),this.parentNode.appendChild(n),n}update(t,e,i){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage: ".concat(t)),i){const n=new Map(t.map(((t,e)=>[i(t),[t,e]])));for(const[t,e]of this._nodesMap.entries())if(n.has(e)){const[i]=n.get(e);t.datum=i,this.garbageBin.delete(t),n.delete(e)}else this.garbageBin.add(t);for(const[t,[i,a]]of n.entries())this._nodesMap.set(this.createNode(i,e,a),t)}else{const i=Math.max(t.length,this.data.length);for(let n=0;n<i;n++)n>=t.length?this.garbageBin.add(this._nodes[n]):n>=this._nodes.length?this.createNode(t[n],e):(this._nodes[n].datum=t[n],this.garbageBin.delete(this._nodes[n]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter((t=>!this.garbageBin.has(t)||(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1)))),this}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){for(const e of this._nodes.entries())t(e[1],e[1].datum,e[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const e=this._nodes[t],i=this._nodes[t].datum;yield{node:e,datum:i,index:t}}}select(e){return t.selectAll(this.parentNode,e)}selectByClass(e){return t.selectByClass(this.parentNode,e)}selectByTag(e){return t.selectByTag(this.parentNode,e)}nodes(){return this._nodes}};function ks(t,e,i,n){const a=t-i,o=e-n;return a*a+o*o}function Ss(t,e,i,n,a,o,r){if(i===a&&n===o)return Math.min(r,ks(t,e,i,n));const s=a-i,l=o-n,c=Math.max(0,Math.min(1,((t-i)*s+(e-n)*l)/(s*s+l*l))),u=i+c*s,d=n+c*l;return Math.min(r,ks(t,e,u,d))}function ws(t,e,i,n,a,o,r,s,l){s&&([r,o]=[o,r]);if(!cr(Math.atan2(e-n,t-i),o,r)){const r=i+Math.cos(o)*a,s=n+Math.sin(o)*a,c=i+Math.cos(o)*a,u=n+Math.sin(o)*a;return Math.min(l,ks(t,e,r,s),ks(t,e,c,u))}const c=a-Math.sqrt(ks(t,e,i,n));return Math.min(l,c*c)}var Ms=class extends br{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}computeBBox(){return new Li(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,e){if(this.x1===this.x2||this.y1===this.y2){const{x:i,y:n}=this.transformPoint(t,e);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(i,n)}return!1}distanceSquared(t,e){const{x1:i,y1:n,x2:a,y2:o}=this;return Ss(t,e,i,n,a,o,1/0)}render(t){var e;const{ctx:i,forceRender:n,stats:a,devicePixelRatio:o}=t;if(0===this.dirty&&!n)return void(a&&(a.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(i);let{x1:r,y1:s,x2:l,y2:c}=this;if(r===l){const{strokeWidth:t}=this,e=Math.round(r*o)/o+Math.trunc(t*o)%2/(2*o);r=e,l=e}else if(s===c){const{strokeWidth:t}=this,e=Math.round(s*o)/o+Math.trunc(t*o)%2/(2*o);s=e,c=e}i.beginPath(),i.moveTo(r,s),i.lineTo(l,c),this.fillStroke(i),null===(e=this.fillShadow)||void 0===e||e.markClean(),super.render(t)}};function Ds(t,e,i,n,a,o){if(0===t.size)return!1;let r=t.x,s=t.y;null!=e&&(r-=(e.x-.5)*t.size,s-=(e.y-.5)*t.size);let l=r;r<i?l=i:r>i+a&&(l=i+a);let c=s;s<n?c=n:s>n+o&&(c=n+o);const u=r-l,d=s-c;return Math.sqrt(u*u+d*d)<=.5*t.size}function Ls(t,e,i,n,a){const o=t.x+t.width>e&&t.x<e+n,r=t.y+t.height>i&&t.y<i+a;return o&&r}Ms.className="Line",Ms.defaultStyles=Object.assign({},br.defaultStyles,{fill:void 0,strokeWidth:1}),ce([Ii({redraw:3})],Ms.prototype,"x1",2),ce([Ii({redraw:3})],Ms.prototype,"y1",2),ce([Ii({redraw:3})],Ms.prototype,"x2",2),ce([Ii({redraw:3})],Ms.prototype,"y2",2);var Cs={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function Is(t,e){return t.length===e.length&&t.every(((t,i)=>{const n=e[i];return Array.isArray(t)&&Array.isArray(n)?Is(t,n):t===n}))}function Ns(t,e){return t.length===e.length&&t.every(((t,i)=>Number(t)===Number(e[i])))}function Es(t,e){const i=Qi(t)?t:t.split(".");if(1===i.length){const[t]=i;return Yi(((e,i,n)=>e[t]=n),(e=>e[t]),e)}return Yi(((t,e,n)=>kn(t,i,n)),(t=>bn(t,i)),e)}function Ts(t){return Yi(((e,i,n)=>e[t]=n))}function As(t,e){return Yi(((i,n,a)=>i[t][null!==e&&void 0!==e?e:n]=a))}function Rs(t){const{newValue:e,oldValue:i,changeValue:n}=t;return Yi(((t,a,o,r)=>(o!==r&&(void 0!==r&&(null===i||void 0===i||i.call(t,r)),void 0!==o&&(null===e||void 0===e||e.call(t,o)),null===n||void 0===n||n.call(t,o,r)),o)))}function Os(t){return e=t,(t,i)=>{Ki(t,i).observers.push(e)};var e}var Ps="color: green",Bs=class t{constructor(t,e,i){this.defaultState=t,this.states=e,this.enterEach=i,this.debug=bs.create(!0,"animation"),this.state=t,this.debug("%c".concat(this.constructor.name," | init -> ").concat(t),Ps)}is(t){return"__child"===this.state&&this.childState?this.childState.is(t):this.state===t}transition(e,i){var n;if(!this.transitionChild(e,i)||"__child"===this.state||"__parent"===this.state)return;const a=this.states[this.state],o=null===a||void 0===a?void 0:a[e];if(!o)return void this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> ").concat(e," -> ").concat(this.state),"color: grey");const r=this.getDestinationState(o),s=r===this.state?void 0:a.onExit;var l,c;(this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> ").concat(e," -> ").concat(r),Ps),null===(n=this.enterEach)||void 0===n||n.call(this,this.state,r),"__child"!==r&&"__parent"!==r)&&(null===(l=(c=this.states[r]).onEnter)||void 0===l||l.call(c));if(this.state=r,"function"===typeof o)o(i);else if("object"===typeof o&&!(o instanceof t)){var u;null===(u=o.action)||void 0===u||u.call(o,i)}null===s||void 0===s||s()}resetHierarchy(){this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> [resetHierarchy] -> ").concat(this.defaultState),"color: green"),this.state=this.defaultState}transitionChild(t,e){var i,n;return"__child"!==this.state||!this.childState||(this.childState.transition(t,e),!this.childState.is("__parent")||(this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> ").concat(t," -> ").concat(this.defaultState),Ps),this.state=this.defaultState,null===(i=(n=this.states[this.state]).onEnter)||void 0===i||i.call(n),this.childState.resetHierarchy(),!1))}getDestinationState(e){let i=this.state;return"string"===typeof e?i=e:e instanceof t?(this.childState=e,i="__child"):"object"===typeof e&&(e.target instanceof t?(this.childState=e.target,i="__child"):i=e.target),i}};function zs(t,e,i){void 0===i||""===i?null===t||void 0===t||t.removeAttribute(e):null===t||void 0===t||t.setAttribute(e,i.toString())}function _s(t,e,i,n,a){let{top:o,right:r,bottom:s,left:l,width:c,height:u}=a;return null!=l?null!=c?r=i-l+c:null!=r&&(c=i-l-r):null!=r&&null!=c&&(l=i-r-c),null!=o?null!=u?s=n-o-u:null!=s&&(u=n-s-o):null!=s&&null!=u&&(o=n-s-u),null==c?null==u?(c=t,u=e):c=Math.ceil(t*u/e):null==u&&(u=Math.ceil(e*c/t)),null==l&&(l=null==r?Math.floor((i-c)/2):i-r-c),null==o&&(o=null==s?Math.floor((n-u)/2):n-u-s),{x:l,y:o,width:c,height:u}}var Fs="ag-chart-tooltip",Gs="ag-chart-dark-tooltip",js={html:"",ariaLabel:""};function Vs(t){const e=(t,e,i)=>0===e||"."!==i[e-1]?". ":" ";return t.replace(/<br\s*\/?>/g,e).replace(/<\/p\s+>/g,e).replace(/<\/li\s*>/g,e).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function Ws(t,e){var i,n,a;if("string"===typeof t)return{html:t,ariaLabel:t};const{content:o=(null!==(i=null===e||void 0===e?void 0:e.content)&&void 0!==i?i:""),title:r=(null===e||void 0===e?void 0:e.title),color:s=(null!==(n=null===e||void 0===e?void 0:e.color)&&void 0!==n?n:"white"),backgroundColor:l=(null!==(a=null===e||void 0===e?void 0:e.backgroundColor)&&void 0!==a?a:"#888")}=t,c=r?'<div class="'.concat(Fs,'-title"\n        style="color: ').concat(s,"; background-color: ").concat(l,'">').concat(r,"</div>"):"",u=r?"".concat(r,": "):"",d=o?'<div class="'.concat(Fs,'-content">').concat(o,"</div>"):"";return{html:"".concat(c).concat(d),ariaLabel:Vs("".concat(u).concat(o))}}var Us=class extends wn{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};ce([pa(no(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],Us.prototype,"type",2),ce([pa(Sa)],Us.prototype,"xOffset",2),ce([pa(Sa)],Us.prototype,"yOffset",2);var Ks=class extends wn{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Us,this.darkTheme=!1,this.nestedDOM=!0,this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(t){this.element=t.addChild("canvas-overlay",Fs),this.element.classList.add(Fs),zs(this.element,"aria-hidden",!0)}destroy(t){t.removeChild("canvas-overlay",Fs)}isVisible(){var t;return!(null!==(t=this.element)&&void 0!==t&&t.classList.contains(Fs+"-hidden"))}show(t,e,i){var n,a,o,r,s,l,c,u,d;let h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{element:p}=this;if(null!=i&&null!=p)p.innerHTML=i.html;else if(null===p||void 0===p||!p.innerHTML)return void this.toggle(!1);const g=null!==(n=null===(a=e.position)||void 0===a?void 0:a.type)&&void 0!==n?n:this.position.type,f=null!==(o=null===(r=e.position)||void 0===r?void 0:r.xOffset)&&void 0!==o?o:0,m=null!==(s=null===(l=e.position)||void 0===l?void 0:l.yOffset)&&void 0!==s?s:0,y=this.getTooltipBounds({positionType:g,meta:e,yOffset:m,xOffset:f,canvasRect:t}),v=_s(p.clientWidth,p.clientHeight,t.width,t.height,y),b=this.nestedDOM?t:this.getWindowSize(),x=this.nestedDOM?0:-t.left,k=this.nestedDOM?0:-t.top,S=b.width-p.clientWidth-1+x,w=b.height-p.clientHeight+k,M=pi(x,v.x,S),D=pi(k,v.y,w),L=M!==v.x||D!==v.y,C=("node"===g||"pointer"===g)&&!L&&!f&&!m,I=null!==(c=null!==(u=e.showArrow)&&void 0!==u?u:this.showArrow)&&void 0!==c?c:C;this.updateShowArrow(I),p.style.transform="translate(".concat(Math.round(M),"px, ").concat(Math.round(D),"px)"),this.enableInteraction=null!==(d=e.enableInteraction)&&void 0!==d&&d,this.delay>0&&!h?(this.toggle(!1),this.showTimeout=setTimeout((()=>{this.toggle(!0)}),this.delay)):this.toggle(!0)}getWindowSize(){const{innerWidth:t,innerHeight:e}=hs();return{width:t,height:e}}toggle(t){if(!this.element)return;const{classList:e}=this.element,i=(t,i)=>e.toggle("".concat(Fs,"-").concat(t),i),n=this.isVisible();let a=1/0;if(t||clearTimeout(this.showTimeout),n!==t){const t=Date.now();a=t-this.lastVisibilityChange,this.lastVisibilityChange=t}a>5&&i("no-animation",!n&&t&&a>100),i("no-interaction",!this.enableInteraction),i("hidden",!t),i("arrow",this._showArrow),e.toggle(Gs,this.darkTheme);for(const o of this.wrapTypes)e.toggle("".concat(Fs,"-wrap-").concat(o),o===this.wrapping)}updateShowArrow(t){this._showArrow=t}getTooltipBounds(t){if(!this.element)return{};const{positionType:e,meta:i,yOffset:n,xOffset:a,canvasRect:o}=t,{clientWidth:r,clientHeight:s}=this.element,l={width:r,height:s};switch(e){case"node":case"pointer":return l.top=i.offsetY+n-s-8,l.left=i.offsetX+a-r/2,l;case"top":return l.top=n,l.left=o.width/2-r/2+a,l;case"right":return l.top=o.height/2-s/2+n,l.left=o.width-r/2+a,l;case"left":return l.top=o.height/2-s/2+n,l.left=a,l;case"bottom":return l.top=o.height-s+n,l.left=o.width/2-r/2+a,l;case"top-left":return l.top=n,l.left=a,l;case"top-right":return l.top=n,l.left=o.width-r+a,l;case"bottom-right":return l.top=o.height-s+n,l.left=o.width-r+a,l;case"bottom-left":return l.top=o.height-s+n,l.left=a,l}}};ce([pa(ba)],Ks.prototype,"enabled",2),ce([pa(ba,{optional:!0})],Ks.prototype,"showArrow",2),ce([Os(((t,e,i)=>{var n,a;e&&(null===(n=t.element)||void 0===n||n.classList.add(e));i&&(null===(a=t.element)||void 0===a||a.classList.remove(i))})),pa(ka,{optional:!0})],Ks.prototype,"class",2),ce([pa(Ma)],Ks.prototype,"delay",2),ce([pa(eo,{optional:!0})],Ks.prototype,"range",2),ce([pa(Xa)],Ks.prototype,"wrapping",2),ce([pa(ya)],Ks.prototype,"position",2),ce([pa(ba)],Ks.prototype,"darkTheme",2),ce([pa(ba)],Ks.prototype,"nestedDOM",2);var Ys=class extends wn{constructor(){super(...arguments),this.id=si(this),this.node=new Ir({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1,this.layoutStyle="block"}registerInteraction(t){const e=t.regionManager.getRegion("root");return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return()=>{for(const t of e)t()}}(...[e.addListener("hover",(e=>this.handleMouseMove(t,e))),e.addListener("leave",(e=>this.handleMouseLeave(t,e)))])}computeTextWrap(t,e){var i,n;const{text:a,wrapping:o}=this,r=Math.min(null!==(i=this.maxWidth)&&void 0!==i?i:1/0,t),s=null!==(n=this.maxHeight)&&void 0!==n?n:e;if(!isFinite(r)&&!isFinite(s))return void(this.node.text=a);const l=Ir.wrap(null!==a&&void 0!==a?a:"",r,s,this,o);this.node.text=l,this.truncated=l.includes(Dr.EllipsisChar)}handleMouseMove(t,e){if(void 0!==e&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:i,offsetY:n}=e;t.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:e,showArrow:!1},Ws({content:this.text}))}}handleMouseLeave(t,e){t.tooltipManager.removeTooltip(this.id)}};Ys.SMALL_PADDING=10,Ys.LARGE_PADDING=20,ce([pa(ba)],Ys.prototype,"enabled",2),ce([pa(ka,{optional:!0}),As("node")],Ys.prototype,"text",2),ce([pa(qa,{optional:!0}),As("node")],Ys.prototype,"textAlign",2),ce([pa(Ha,{optional:!0}),As("node")],Ys.prototype,"fontStyle",2),ce([pa(Za,{optional:!0}),As("node")],Ys.prototype,"fontWeight",2),ce([pa(Ma),As("node")],Ys.prototype,"fontSize",2),ce([pa(ka),As("node")],Ys.prototype,"fontFamily",2),ce([pa(Ba,{optional:!0}),As("node","fill")],Ys.prototype,"color",2),ce([pa(Ma,{optional:!0})],Ys.prototype,"spacing",2),ce([pa(Ma,{optional:!0})],Ys.prototype,"lineHeight",2),ce([pa(Ma,{optional:!0})],Ys.prototype,"maxWidth",2),ce([pa(Ma,{optional:!0})],Ys.prototype,"maxHeight",2),ce([pa(Xa)],Ys.prototype,"wrapping",2),ce([pa(ka)],Ys.prototype,"layoutStyle",2);var Hs=class{constructor(){this.registeredListeners=new Map}addListener(t,e){const i={symbol:Symbol(t),handler:e};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(i):this.registeredListeners.set(t,[i]),()=>this.removeListener(i.symbol)}removeListener(t){for(const[e,i]of this.registeredListeners.entries()){const n=i.findIndex((e=>e.symbol===t));if(n>=0){i.splice(n,1),0===i.length&&this.registeredListeners.delete(e);break}}}dispatch(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const a of this.getListenersByType(t))try{a.handler(...i)}catch(ub){ye.errorOnce(ub)}}dispatchWrapHandlers(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];for(const o of this.getListenersByType(t))try{e(o.handler,...n)}catch(ub){ye.errorOnce(ub)}}getListenersByType(t){var e;return null!==(e=this.registeredListeners.get(t))&&void 0!==e?e:[]}destroy(){this.registeredListeners.clear()}},Zs=class{constructor(){this.listeners=new Hs,this.destroyFns=[]}addListener(t,e){return this.listeners.addListener(t,e)}destroy(){this.listeners.destroy(),this.destroyFns.forEach((t=>t()))}};function Xs(t){const e={...t,preventDefault(){var t;null===(t=e.sourceEvent)||void 0===t||t.preventDefault()}};return e}function qs(t,e){t.dispatchWrapHandlers(e.type,((t,e)=>t(e)),Xs(e))}var Qs=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],Js=["blur","focus"],$s=["keydown","keyup"],tl=["mousemove","mouseup"],el=["pagehide","mousemove","mouseup"],il=["click","dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"],nl=(t=>(t[t.Default=16]="Default",t[t.ZoomDrag=8]="ZoomDrag",t[t.Annotations=4]="Annotations",t[t.ContextMenu=2]="ContextMenu",t[t.Animation=1]="Animation",t[t.All=31]="All",t))(nl||{}),al=class t extends Zs{constructor(t,e){super(),this.keyboardOptions=t,this.domManager=e,this.debug=bs.create(!0,"interaction"),this.eventHandler=t=>this.processEvent(t),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=17,this.rootElement=this.domManager.getDocumentRoot();for(const i of il)i.startsWith("touch")||"wheel"===i?this.domManager.addEventListener(i,this.eventHandler,{passive:!1}):this.domManager.addEventListener(i,this.eventHandler);for(const i of el)hs().addEventListener(i,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",(()=>this.containerChanged()))}containerChanged(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.domManager.getDocumentRoot();if(t||e!==this.rootElement){for(const t of tl){var i;null===(i=this.rootElement)||void 0===i||i.removeEventListener(t,this.eventHandler)}this.rootElement=e,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const t of tl){var n;null===(n=this.rootElement)||void 0===n||n.addEventListener(t,this.eventHandler)}}}destroy(){super.destroy();for(const e of el)hs().removeEventListener(e,this.eventHandler);for(const e of tl){var t;null===(t=this.rootElement)||void 0===t||t.removeEventListener(e,this.eventHandler)}for(const e of il)this.domManager.removeEventListener(e,this.eventHandler);this.domManager.removeStyles("interactionManager")}addListener(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return super.addListener(t,(t=>{this.getState()&i&&e(t)}))}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){const e=this.decideInteractionEventTypes(t),i=t.target;"click"!==t.type||"true"!==(null===i||void 0===i?void 0:i.ariaDisabled)?e.length>0&&this.dispatchEvent(t,e).catch((t=>ye.errorOnce(t))):t.preventDefault()}async dispatchEvent(t,e){if(Co(Qs,e))return void this.dispatchPointerEvent(t,e);const{relatedElement:i,targetElement:n}=this.extractElements(t);if(Co(Js,e))for(const a of e){const e=t;qs(this.listeners,{type:a,sourceEvent:e,relatedElement:i,targetElement:n})}else if(Co($s,e))for(const a of e){const e=t;qs(this.listeners,{type:a,sourceEvent:e,relatedElement:i,targetElement:n})}}extractElements(t){let e,i;return"relatedTarget"in t&&t.relatedTarget instanceof HTMLElement&&(e=t.relatedTarget),"target"in t&&t.target instanceof HTMLElement&&(i=t.target),{relatedElement:e,targetElement:i}}dispatchPointerEvent(t,e){const i=this.calculateCoordinates(t);if(null!=i)for(const n of e)qs(this.listeners,this.buildPointerEvent({type:n,event:t,...i}))}getEventHTMLTarget(t){return t.target instanceof HTMLElement?t.target:t.currentTarget instanceof HTMLElement?t.currentTarget:void 0}recordDown(t){t instanceof MouseEvent&&(Sn(["offsetX","offsetY"],this.clickHistory[0],t),Sn(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),Sn(["offsetX","offsetY"],this.dblclickHistory[0],t)),this.dragStartElement=this.getEventHTMLTarget(t)}recordUp(t){t instanceof MouseEvent&&Sn(["offsetX","offsetY"],this.dblclickHistory[1],t),this.dragStartElement=void 0}decideInteractionEventTypes(t){const e="drag-start";switch(t.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?[t.type]:[];case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return this.isEventOverElement(t)&&"button"in t&&0===t.button?(this.mouseDown=!0,this.recordDown(t),[e]):[];case"touchstart":return this.isEventOverElement(t)?(this.touchDown=!0,this.recordDown(t),[e]):[];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.recordUp(t),["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.recordUp(t),["drag-end"]):[];case"mouseleave":case"touchcancel":return["leave"];case"mouseenter":const i=t instanceof MouseEvent&&1===(1&t.buttons);return this.mouseDown!==i?(this.mouseDown=i,[i?e:"drag-end"]):["enter"];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){return this.domManager.isEventOverElement(t)}calculateCoordinates(e){if(e instanceof MouseEvent)return this.getMouseEventCoords(e);if("undefined"!==typeof TouchEvent&&e instanceof TouchEvent){var i;const n=null!==(i=e.touches[0])&&void 0!==i?i:e.changedTouches[0],{clientX:a,clientY:o,pageX:r,pageY:s}=n;return{...t.NULL_COORDS,clientX:a,clientY:o,pageX:r,pageY:s}}if(e instanceof PageTransitionEvent){if(e.persisted)return;return t.NULL_COORDS}}getMouseEventCoords(t){const{clientX:e,clientY:i,pageX:n,pageY:a}=t;let{offsetX:o,offsetY:r}=t;const s=this.getEventHTMLTarget(t),{x:l=0,y:c=0}=s?this.domManager.calculateCanvasPosition(s):{};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){const t=this.domManager.calculateCanvasPosition(this.dragStartElement);o-=t.x-l,r-=t.y-c}else o+=l,r+=c;return{clientX:e,clientY:i,pageX:n,pageY:a,offsetX:o,offsetY:r}}isWheelEvent(t){return"wheel"===t.type}buildPointerEvent(t){const{type:e,event:i,clientX:n,clientY:a}=t;let{offsetX:o,offsetY:r,pageX:s,pageY:l}=t;if(!cn(o)||!cn(r)){const t=this.domManager.getBoundingClientRect();o=n-t.left,r=a-t.top}if(!cn(s)||!cn(l)){var c,u,d;const t=null===(c=this.rootElement)||void 0===c?void 0:c.getBoundingClientRect();s=n-(null!==(u=null===t||void 0===t?void 0:t.left)&&void 0!==u?u:0),l=a-(null!==(d=null===t||void 0===t?void 0:t.top)&&void 0!==d?d:0)}let[h,p]=[NaN,NaN];if(this.isWheelEvent(i)){const t=0===i.deltaMode?.01:1;h=i.deltaX*t,p=i.deltaY*t}let g=[];"click"===i.type?g=this.clickHistory:"dblclick"===i.type&&(g=this.dblclickHistory);const{relatedElement:f,targetElement:m}=this.extractElements(i),y={type:e,offsetX:o,offsetY:r,pageX:s,pageY:l,deltaX:h,deltaY:p,pointerHistory:g,sourceEvent:i,relatedElement:f,targetElement:m};return this.debug("InteractionManager - builtEvent: ",y),y}};al.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var ol=al,rl=(t=>(t.TITLE="title",t.SUBTITLE="subtitle",t.FOOTNOTE="footnote",t.LEGEND="legend",t.NAVIGATOR="navigator",t.PAGINATION="pagination",t.ROOT="root",t.SERIES="series",t.HORIZONTAL_AXES="horizontal-axes",t.VERTICAL_AXES="vertical-axes",t.TOOLBAR="toolbar",t))(rl||{}),sl=["stroke","lineDash"],ll=Na((t=>an(t)&&Object.keys(t).every((t=>sl.includes(t)))),"objects with gridline style properties such as 'stroke' or 'lineDash'"),cl=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function ul(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[void 0];return Yi(((i,n,a)=>e.includes(a)?nn(t)?t(a):t:a))}ce([pa(ba)],cl.prototype,"enabled",2),ce([pa(Ma)],cl.prototype,"width",2),ce([pa(ll)],cl.prototype,"style",2);var dl=ro((t=>cn(t)&&t>0||t instanceof ve),"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),hl=class extends wn{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};ce([pa(dl,{optional:!0})],hl.prototype,"step",2),ce([pa(Ia,{optional:!0})],hl.prototype,"values",2),ce([pa(ao),ul(NaN)],hl.prototype,"minSpacing",2),ce([pa(oo),ul(NaN)],hl.prototype,"maxSpacing",2);var pl=class extends wn{constructor(){super(...arguments),this.enabled=!0,this.autoWrap=!1,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};ce([pa(ba)],pl.prototype,"enabled",2),ce([pa(ba,{optional:!0})],pl.prototype,"autoWrap",2),ce([pa(Ma,{optional:!0})],pl.prototype,"maxWidth",2),ce([pa(Ma,{optional:!0})],pl.prototype,"maxHeight",2),ce([pa(Ha,{optional:!0})],pl.prototype,"fontStyle",2),ce([pa(Za,{optional:!0})],pl.prototype,"fontWeight",2),ce([pa(Sa.restrict({min:1}))],pl.prototype,"fontSize",2),ce([pa(ka)],pl.prototype,"fontFamily",2),ce([pa(Ma)],pl.prototype,"padding",2),ce([pa(Ca),ul(NaN)],pl.prototype,"minSpacing",2),ce([pa(Ba,{optional:!0})],pl.prototype,"color",2),ce([pa(La,{optional:!0})],pl.prototype,"rotation",2),ce([pa(ba)],pl.prototype,"avoidCollisions",2),ce([pa(ba)],pl.prototype,"mirrored",2),ce([pa(ba)],pl.prototype,"parallel",2),ce([pa(xa,{optional:!0})],pl.prototype,"formatter",2),ce([pa(ka,{optional:!0})],pl.prototype,"format",2);var gl=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};ce([pa(ba)],gl.prototype,"enabled",2),ce([pa(Ma)],gl.prototype,"width",2),ce([pa(Ba,{optional:!0})],gl.prototype,"stroke",2);var fl=class extends wn{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};ce([pa(ba)],fl.prototype,"enabled",2),ce([pa(Ma)],fl.prototype,"width",2),ce([pa(Ma)],fl.prototype,"size",2),ce([pa(Ba,{optional:!0})],fl.prototype,"stroke",2);var ml=class extends wn{constructor(){super(...arguments),this.enabled=!1,this.spacing=Ys.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};function yl(t){const[e,i]=fi(t.range),n=Math.floor(e),a=Math.ceil(i);return{min:n,max:a,visible:n!==a}}ce([pa(ba)],ml.prototype,"enabled",2),ce([pa(ka,{optional:!0})],ml.prototype,"text",2),ce([pa(Ma,{optional:!0})],ml.prototype,"spacing",2),ce([pa(Ha,{optional:!0})],ml.prototype,"fontStyle",2),ce([pa(Za,{optional:!0})],ml.prototype,"fontWeight",2),ce([pa(Ma)],ml.prototype,"fontSize",2),ce([pa(ka)],ml.prototype,"fontFamily",2),ce([pa(Ba,{optional:!0})],ml.prototype,"color",2),ce([pa(Xa)],ml.prototype,"wrapping",2),ce([pa(xa,{optional:!0})],ml.prototype,"formatter",2);var vl=2*Math.PI,bl=vl/2;function xl(t){const e=(e,i)=>{const[n=t.min,a=t.max]=fi(null!==i&&void 0!==i?i:[]);return e<n||e>a},i={fromFn(t,i,n){let a=t.y1+t.translationY,o=t.opacity;return("added"===n||e(t.datum.translationY,t.datum.range))&&(a=i.translationY,o=0),{y:0,translationY:a,opacity:o,phase:Xn[n]}},toFn(t,e,i){const n=e.translationY;let a=1;return"removed"===i&&(a=0),{y:0,translationY:n,opacity:a,finish:{y:n,translationY:0}}},intermediateFn:(t,i,n)=>({visible:!e(t.y)})},n={fromFn(t,i,n){var a;const o=null!==(a=t.previousDatum)&&void 0!==a?a:i,r=o.x,s=o.y,l=o.rotationCenterX;let c=Math.round(t.translationY),u=o.rotation,d=t.opacity;return"removed"===n||e(o.y,o.range)?u=i.rotation:("added"===n||e(t.datum.y,t.datum.range))&&(c=Math.round(o.translationY),d=0,u=i.rotation),{x:r,y:s,rotationCenterX:l,translationY:c,rotation:u,opacity:d,phase:Xn[n]}},toFn(t,e,i){const n=e.x,a=e.y,o=e.rotationCenterX,r=Math.round(e.translationY);let s=0,l=1;if("added"===i)l=1,s=e.rotation;else if("removed"===i)l=0,s=e.rotation;else{var c,u;d=null!==(c=null===(u=t.previousDatum)||void 0===u?void 0:u.rotation)&&void 0!==c?c:e.rotation,h=e.rotation,s=Math.abs(h-d)<bl?h:d>h?h+vl:h-vl}var d,h;return{x:n,y:a,rotationCenterX:o,translationY:r,rotation:s,opacity:l,finish:{rotation:e.rotation}}}};return{tick:i,line:{fromFn(t,e){var i;return{...null!==(i=t.previousDatum)&&void 0!==i?i:e,phase:Xn.updated}},toFn:(t,e)=>({...e})},label:n,group:{fromFn(t,e){const{rotation:i,translationX:n,translationY:a}=t;return{rotation:i,translationX:n,translationY:a,phase:Xn.updated}},toFn(t,e){const{rotation:i,translationX:n,translationY:a}=e;return{rotation:i,translationX:n,translationY:a}}}}}function kl(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function Sl(t){const{visible:e,min:i,max:n}=t;return(t,a)=>{const o=a.translationY;return{y:o,translationY:0,opacity:1,visible:e&&o>=i&&o<=n}}}function wl(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function Ml(){return(t,e)=>({...e})}var Dl=class t{constructor(e,i,n){var a;let o;this.moduleCtx=e,this.scale=i,this.id=si(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new hl,this.disableZoom=!1,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new ar({name:"".concat(this.id,"-axis"),zIndex:2}),this.lineNode=this.axisGroup.appendChild(new Ms),this.tickLineGroup=this.axisGroup.appendChild(new ar({name:"".concat(this.id,"-Axis-tick-lines"),zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new ar({name:"".concat(this.id,"-Axis-tick-labels"),zIndex:2})),this.crossLineGroup=new ar({name:"".concat(this.id,"-CrossLines")}),this.labelGroup=new ar({name:"".concat(this.id,"-Labels"),zIndex:10}),this.gridGroup=new ar({name:"".concat(this.id,"-Axis-grid")}),this.gridLineGroup=this.gridGroup.appendChild(new ar({name:"".concat(this.id,"-gridLines"),zIndex:1})),this.tickLineGroupSelection=xs.select(this.tickLineGroup,Ms,!1),this.tickLabelGroupSelection=xs.select(this.tickLabelGroup,Ir,!1),this.gridLineGroupSelection=xs.select(this.gridLineGroup,Ms,!1),this.line=new gl,this.tick=new fl,this.gridLine=new cl,this.label=this.createLabel(),this.defaultTickMinSpacing=t.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.minRect=void 0,this.range=[0,1],this.visibleRange=[0,1],this.title=new ml,this._titleCaption=new Ys,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new os,this.range=this.scale.range.slice(),null===(a=this.crossLines)||void 0===a||a.forEach((t=>this.initCrossLine(t))),this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx)),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(e.regionManager.getRegion("series").addListener("hover",(t=>this.checkAxisHover(t))),e.regionManager.getRegion("horizontal-axes").addListener("hover",(t=>this.checkAxisHover(t))),e.regionManager.getRegion("vertical-axes").addListener("hover",(t=>this.checkAxisHover(t)))),this.animationManager=e.animationManager,this.animationState=new Bs("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:t=>this.animateReadyUpdate(t),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines),this.destroyFns.push(e.layoutService.addListener("layout-complete",(t=>{null!=o&&null!=Cn(t.chart,o)&&this.animationState.transition("resize"),o={...t.chart}}))),!1!==(null===n||void 0===n?void 0:n.respondsToZoom)&&this.destroyFns.push(e.updateService.addListener("update-complete",(t=>{this.minRect=t.minRect})))}get type(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""}set crossLines(t){var e,i;null===(e=this._crossLines)||void 0===e||e.forEach((t=>this.detachCrossLine(t))),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,null===(i=this._crossLines)||void 0===i||i.forEach((t=>{this.attachCrossLine(t),this.initCrossLine(t)}))}get crossLines(){return this._crossLines}resetAnimation(t){"initial"===t&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach((t=>t()))}updateRange(){var t,e;const{range:i,visibleRange:n,scale:a}=this,o=(i[1]-i[0])/(n[1]-n[0]),r=o*n[0],s=i[0]-r;null===(t=a.setVisibleRange)||void 0===t||t.call(a,n),a.range=[s,s+o],null===(e=this.crossLines)||void 0===e||e.forEach((t=>{t.clippedRange=[i[0],i[1]]}))}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,e){e.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup),t.appendChild(this.labelGroup)}attachLabel(t){this.labelGroup.append(t)}detachAxis(t,e){e.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup),t.removeChild(this.labelGroup)}getAxisGroup(){return this.axisGroup}inRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[i,n]=fi(this.range);return t>=i-e&&t<=n+e}onFormatChange(t,e,i,n){const{scale:a}=this,o=a instanceof cs,r=t=>o?String:i=>"number"===typeof i?i.toFixed(e+t):String(i);if(n&&a&&a.tickFormat)try{const e=a.tickFormat({ticks:t,specifier:n});this.labelFormatter=e,this.datumFormatter=e}catch(ub){this.labelFormatter=r(0),this.datumFormatter=r(1),ye.warnOnce("the axis label format string ".concat(n," is invalid. No formatting will be applied"))}else this.labelFormatter=r(0),this.datumFormatter=r(1)}setTickInterval(t){var e,i;this.scale.interval=null!==(e=null===(i=this.interval)||void 0===i?void 0:i.step)&&void 0!==e?e:t}onGridLengthChange(t,e){var i;(e&&!t||!e&&t)&&this.onGridVisibilityChange(),null===(i=this.crossLines)||void 0===i||i.forEach((t=>this.initCrossLine(t)))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new pl}checkAxisHover(t){if(!this.interactionEnabled)return;this.computeBBox().containsPoint(t.offsetX,t.offsetY)&&this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.tickGenerationResult)return;const{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const o=this.getAxisLineCoordinates(),{tickData:r,combinedRotation:s,textBaseline:l,textAlign:c,primaryTickCount:u}=this.tickGenerationResult,d=this.tickLabelGroupSelection.nodes().map((t=>t.datum.tickId));if(this.updateSelections(o,r.ticks,{combinedRotation:s,textAlign:c,textBaseline:l,range:this.scale.range}),!t||this.animationManager.isSkipped())this.resetSelectionNodes();else{const t=this.calculateUpdateDiff(d,r);this.animationState.transition("update",t)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:r.ticks.length>0}),this.updateCrossLines({rotation:e,parallelFlipRotation:i,regularFlipRotation:n}),this.updateLayoutState(r.fractionDigits),u}getAxisLineCoordinates(){const[t,e]=fi(this.range);return{x:0,y1:t,y2:e}}getTickLineCoordinates(t){const e=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,e);return{x1:i,x2:i+Math.abs(e),y:t.translationY}}getTickLabelProps(t,e){const{label:i}=this,{combinedRotation:n,textBaseline:a,textAlign:o,range:r}=e,s=t.tickLabel,l=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding),c=""!==s&&null!=s;return{tickId:t.tickId,translationY:t.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:n,rotationCenterX:l,text:s,textAlign:o,textBaseline:a,visible:c,x:l,y:0,range:r}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(t,e){var i;const{title:n}=this;if(!n.enabled)return t.enabled=!1,void(t.node.visible=!1);t.color=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.enabled=n.enabled,t.wrapping=n.wrapping;const a=t.node,o=(null!==(i=n.spacing)&&void 0!==i?i:0)+e.spacing,r=this.label.getSideFlag(),s=rr(this.rotation),l=-1===r&&s>Math.PI&&s<2*Math.PI?-1:1,c=l*r*Math.PI/2,u=1===l?"bottom":"top",{range:d}=this,h=Math.floor(l*r*(d[0]+d[1])/2),p=-1===r?Math.floor(l*-o):Math.floor(-o),{callbackCache:g}=this.moduleCtx,{formatter:f=t=>t.defaultValue}=n,m=g.call(f,this.getTitleFormatterParams());a.setProperties({rotation:c,text:m,textBaseline:u,visible:!0,x:h,y:p})}calculateLayout(t){var e,i;const{rotation:n,parallelFlipRotation:a,regularFlipRotation:o}=this.calculateRotations(),r=this.label.getSideFlag(),s=r*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:a,regularFlipRotation:o,labelX:s,sideFlag:r});const{tickData:l,combinedRotation:c,textBaseline:u,textAlign:d,...h}=this.tickGenerationResult;this.updateLayoutState(l.fractionDigits);const p=[],{x:g,y1:f,y2:m}=this.getAxisLineCoordinates(),y=new Li(g+Math.min(r*this.seriesAreaPadding,0),f,this.seriesAreaPadding,m-f);if(p.push(y),this.tick.enabled&&l.ticks.forEach((t=>{const{x1:e,x2:i,y:n}=this.getTickLineCoordinates(t),a=new Li(e,n,i-e,0);p.push(a)})),this.label.enabled){const t=new Ir;l.ticks.forEach((e=>{const i=this.getTickLabelProps(e,{combinedRotation:c,textAlign:d,textBaseline:u,range:this.scale.range});if(!i.visible)return;t.setProperties({...i,translationY:Math.round(e.translationY)});const n=t.computeTransformedBBox();n&&p.push(n)}))}if(null!==(e=this.title)&&void 0!==e&&e.enabled){const t=new Ys,e=Li.merge(p).width;this.setTitleProps(t,{spacing:e});const i=t.node.computeTransformedBBox();i&&p.push(i)}const v=(t=>{const e=new Ai,{rotation:i,translationX:n,translationY:a,rotationCenterX:o,rotationCenterY:r}=this.getAxisTransform();return Ai.updateTransformMatrix(e,1,1,i,n,a,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:o,rotationCenterY:r}),e.transformBBox(t)})(Li.merge(p)),b=this.isAnySeriesActive();return null===(i=this.crossLines)||void 0===i||i.forEach((t=>{var e,i;(t.sideFlag=-r,t.direction=n===-Math.PI/2?"x":"y",t instanceof as)&&(null!==(i=(e=t.label).parallel)&&void 0!==i||(e.parallel=this.label.parallel));t.parallelFlipRotation=a,t.regularFlipRotation=o,t.calculateLayout(b,this.reverse)})),{primaryTickCount:t=h.primaryTickCount,bbox:v}}updateLayoutState(t){this.layout.label={fractionDigits:t,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.interval.step);const{scale:t,nice:e}=this;fo.is(t)&&(t.nice=e,t.update())}calculateRotations(){const t=ur(this.rotation);return{rotation:t,parallelFlipRotation:rr(t),regularFlipRotation:rr(t-Math.PI/2)}}generateTicks(t){let{primaryTickCount:e,parallelFlipRotation:i,regularFlipRotation:n,labelX:a,sideFlag:o}=t;const{scale:r,interval:{minSpacing:s,maxSpacing:l},label:{parallel:c,rotation:u,fontFamily:d,fontSize:h,fontStyle:p,fontWeight:g}}=this,f=void 0!==e,{defaultRotation:m,configuredRotation:y,parallelFlipFlag:v,regularFlipFlag:b}=Tr({rotation:u,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),x=y+m,k=new Ai,{maxTickCount:S}=this.estimateTickCount({minSpacing:s,maxSpacing:l}),w=!(fo.is(r)||$o.is(r))||isNaN(S)?10:S;let M=Ar(c,y,0,o,b);const D=function(t,e,i,n){return t&&!e?i*n===-1?"hanging":"bottom":"middle"}(c,y,o,v),L=Nr({fontFamily:d,fontSize:h,fontStyle:p,fontWeight:g}),C={fontFamily:d,fontSize:h,fontStyle:p,fontWeight:g,textBaseline:D,textAlign:M};let I={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},N=0,E=0,T=!0,A=!1;for(;T&&N<=w&&!A;){E=0,M=Ar(c,y,0,o,b);const t=this.getTickStrategies({secondaryAxis:f,index:N});for(const i of t){({tickData:I,index:N,autoRotation:E,terminate:A}=i({index:N,tickData:I,textProps:C,labelOverlap:T,terminate:A,primaryTickCount:e}));const t=0!==y||0!==E,n=x+E;M=Ar(c,y,E,o,b),T=!!this.label.avoidCollisions&&this.checkLabelOverlap(n,t,k,I.ticks,a,{font:L})}}const R=m+y+E;return!f&&I.rawTicks.length>0&&(e=I.rawTicks.length),{tickData:I,primaryTickCount:e,combinedRotation:R,textBaseline:D,textAlign:M}}getTickStrategies(t){let{index:e,secondaryAxis:i}=t;const{scale:n,label:a}=this,{minSpacing:o}=this.interval,r=fo.is(n)||$o.is(n),s=a.enabled&&a.avoidCollisions,l=!r&&0!==e&&s,c=!0===a.autoRotate&&void 0===a.rotation,u=[];let d;d=this.interval.values?3:i?1:l?2:0;if(u.push((t=>{let{index:e,tickData:i,primaryTickCount:n,terminate:a}=t;return this.createTickData(d,e,i,a,n)})),!r&&!isNaN(o)){const t=t=>{let{index:e,tickData:i,primaryTickCount:n,terminate:a}=t;return this.createTickData(2,e,i,a,n)};u.push(t)}if(!s)return u;if(a.autoWrap){const t=t=>{let{index:e,tickData:i,textProps:n}=t;return this.wrapLabels(i,e,n)};u.push(t)}else if(c){const t=t=>{let{index:e,tickData:i,labelOverlap:n,terminate:a}=t;return{index:e,tickData:i,autoRotation:this.getAutoRotation(n),terminate:a}};u.push(t)}return u}createTickData(t,e,i,n,a){const{scale:o}=this,{step:r,values:s,minSpacing:l,maxSpacing:c}=this.interval,{maxTickCount:u,minTickCount:d,defaultTickCount:h}=this.estimateTickCount({minSpacing:l,maxSpacing:c}),p=fo.is(o)||$o.is(o),g=!p||isNaN(u)?10:u;let f=p?Math.max(h-e,d):u;const m=void 0===r&&void 0===s&&f>d&&(p||2===t);let y=!0;for(;y&&e<=g;){const n=i.rawTicks;f=p?Math.max(h-e,d):u;const{rawTicks:o,fractionDigits:r,ticks:s,labelCount:l}=this.getTicks({tickGenerationType:t,previousTicks:n,tickCount:f,minTickCount:d,maxTickCount:u,primaryTickCount:a});i.rawTicks=o,i.fractionDigits=r,i.ticks=s,i.labelCount=l,y=!!m&&Ns(o,n),e++}return n||(n=void 0!==r||void 0!==s),{tickData:i,index:e,autoRotation:0,terminate:n}}checkLabelOverlap(t,e,i,n,a,o){Ai.updateTransformMatrix(i,1,1,t,0,0);const r=this.createLabelData(n,a,o,i),s=function(t,e){return isNaN(t)?e?0:10:t}(this.label.minSpacing,e);return function(t,e){const i=[];for(let n=0;n<t.length;n++){const a=t[n],{point:{x:o,y:r},label:{text:s}}=a;let{label:{width:l,height:c}}=a;if(l+=null!==e&&void 0!==e?e:0,c+=null!==e&&void 0!==e?e:0,i.some((t=>Ls(t,o,r,l,c))))return!0;i.push({index:n,text:s,x:o,y:r,width:l,height:c,datum:a})}return!1}(r,s)}createLabelData(t,e,i,n){const a=[];for(const{tickLabel:o,translationY:r}of t){if(!o)continue;const{width:t,height:s}=Dr.measureLines(o,i),l=Rr(o,new Li(e,r,t,s),e,r,n);a.push(l)}return a}getAutoRotation(t){var e;return t?rr(ur(null!==(e=this.label.autoRotateAngle)&&void 0!==e?e:0)):0}getTicks(t){var e;let{tickGenerationType:i,previousTicks:n,tickCount:a,minTickCount:o,maxTickCount:r,primaryTickCount:s}=t;const{range:l,scale:c,visibleRange:u}=this;let d;switch(i){case 3:if(d=this.interval.values,fo.is(c)){const[t,e]=fi(c.getDomain().map(Number));d=d.filter((i=>i>=t&&i<=e)).sort(((t,e)=>t-e))}break;case 1:d=fo.is(c)?this.updateSecondaryAxisTicks(s):this.createTicks(a,o,r);break;case 2:d=this.filterTicks(n,a);break;default:d=this.createTicks(a,o,r)}const h=d.reduce(((t,e)=>Math.max(t,Si(e))),0),p=(null!==(e=c.bandwidth)&&void 0!==e?e:0)/2,g=[];let f=0;const m=new Map,y=Math.max(0,Math.floor(u[0]*d.length)),v=Math.min(d.length,Math.ceil(u[1]*d.length)),b=d.slice(y,v);this.onFormatChange(b,h,d,this.label.format);for(let x=0;x<b.length;x++){const t=b[x],e=c.convert(t)+p;if(l.length>0&&!this.inRange(e,.001))continue;const i=this.formatTick(t,h,y+x);let n=i;if(m.has(n)){const t=m.get(n);m.set(n,t+1),n="".concat(n,"_").concat(t)}else m.set(n,1);g.push({tick:t,tickId:n,tickLabel:i,translationY:Math.floor(e)}),""!==i&&null!=i&&f++}return{rawTicks:d,fractionDigits:h,ticks:g,labelCount:f}}filterTicks(t,e){const{minSpacing:i,maxSpacing:n}=this.interval,a=!isNaN(i)||!isNaN(n)?Math.ceil(t.length/e):2;return t.filter(((t,e)=>e%a===0))}createTicks(t,e,i){var n,a;const{scale:o}=this;return t&&(fo.is(o)||$o.is(o))&&("number"===typeof t?(o.tickCount=t,o.minTickCount=null!==e&&void 0!==e?e:0,o.maxTickCount=null!==i&&void 0!==i?i:1/0):o instanceof qo&&this.setTickInterval(t)),null!==(n=null===(a=o.ticks)||void 0===a?void 0:a.call(o))&&void 0!==n?n:[]}estimateTickCount(t){let{minSpacing:e,maxSpacing:i}=t;const{minRect:n,label:{avoidCollisions:a}}=this;if(!a)return{minTickCount:fo.defaultMaxTickCount,maxTickCount:fo.defaultMaxTickCount,defaultTickCount:fo.defaultMaxTickCount};const o=this.calculateRangeWithBleed(),r=Math.max(this.defaultTickMinSpacing,o/fo.defaultMaxTickCount);let s=!isNaN(i);isNaN(e)&&(e=r),isNaN(i)&&(i=o),e>i&&(e===r?e=i:i=e);let l=1;n&&(l="x"===this.direction?n.width:n.height),s&&(s=l<r);const c=pi(1,Math.floor(o/e),s?Math.min(Math.floor(o/l),100):100),u=Math.min(c,Math.ceil(o/i));return{minTickCount:u,maxTickCount:c,defaultTickCount:pi(u,fo.defaultTickCount,c)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines(t){var e;let{rotation:i,parallelFlipRotation:n,regularFlipRotation:a}=t;const o=this.label.getSideFlag(),r=this.isAnySeriesActive();null===(e=this.crossLines)||void 0===e||e.forEach((t=>{var e;(t.sideFlag=-o,t.direction=i===-Math.PI/2?"x":"y",t instanceof as)&&(t.label.parallel=null!==(e=t.label.parallel)&&void 0!==e?e:this.label.parallel);t.parallelFlipRotation=n,t.regularFlipRotation=a,t.update(r)}))}updateTickLines(){const{tick:t,label:e}=this,i=e.getSideFlag();this.tickLineGroupSelection.each((e=>{e.strokeWidth=t.width,e.stroke=t.stroke,e.x1=i*this.getTickSize(),e.x2=0}))}calculateAvailableRange(){return mi(this.range)}calculateRangeWithBleed(){const t=1/mi(this.visibleRange);return bi(this.calculateAvailableRange()*t,2)}calculateDomain(){const t=this.boundSeries.filter((t=>this.includeInvisibleDomains||t.isEnabled())).flatMap((t=>t.getDomain(this.direction)));this.setDomain(t)}getAxisTransform(){return{rotation:ur(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:e,gridGroup:i,translation:n,gridLineGroupSelection:a,gridPadding:o,gridLength:r}=this,{rotation:s}=this.calculateRotations(),l=this.label.getSideFlag(),c=Math.floor(n.x),u=Math.floor(n.y);t.setProperties({rotation:s,translationX:c,translationY:u}),i.setProperties({rotation:s,translationX:c,translationY:u}),e.datum=this.getAxisTransform(),a.each((t=>{t.x1=o,t.x2=-l*r+o}))}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,e,i){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?e:[],(t=>t.append(new Ms)),(t=>t.tickId)),this.tickLineGroupSelection.update(e,(t=>t.appendChild(new Ms)),(t=>t.tickId)),this.tickLabelGroupSelection.update(e.map((t=>this.getTickLabelProps(t,i))),(t=>t.appendChild(new Ir)),(t=>t.tickId))}updateAxisLine(){const{line:t}=this,e=t.enabled?t.width:0;this.lineNode.setProperties({stroke:t.stroke,strokeWidth:e})}updateGridLines(t){const{gridLine:{style:e,width:i},gridPadding:n,gridLength:a}=this;0!==a&&0!==e.length&&this.gridLineGroupSelection.each(((o,r,s)=>{const{stroke:l,lineDash:c}=e[s%e.length];o.setProperties({x1:n,x2:-t*a+n,fill:void 0,stroke:l,strokeWidth:i,lineDash:c})}))}updateLabels(){const{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each(((t,e)=>{t.setProperties(e,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])}))}wrapLabels(t,e,i){const{parallel:n,maxWidth:a,maxHeight:o}=this.label;let r=this.maxThickness,s=Math.round(this.calculateAvailableRange()/t.labelCount);return n&&([r,s]=[s,r]),t.ticks.forEach((t=>{t.tickLabel=Ir.wrap(t.tickLabel,null!==a&&void 0!==a?a:r,null!==o&&void 0!==o?o:s,i,"hyphenate")})),{tickData:t,index:e,autoRotation:0,terminate:!0}}updateTitle(t){const{rotation:e,title:i,_titleCaption:n,lineNode:a,tickLineGroup:o,tickLabelGroup:r}=this;let s=0;if(i.enabled&&t.anyTickVisible){const t=ar.computeBBox([o,r,a]);s+=(0===e?t.width:t.height)+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(n,{spacing:s})}formatTick(t,e,i){return String(this.getFormatter(i,!0)(t,e))}formatDatum(t){return String(this.getFormatter()(t))}getFormatter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;const{label:i,labelFormatter:n,datumFormatter:a,moduleCtx:{callbackCache:o}}=this;return i.formatter?(e,n)=>{var a;return null!==(a=o.call(i.formatter,{value:e,index:t,fractionDigits:n}))&&void 0!==a?a:e}:!e&&a?t=>{var e;return null!==(e=o.call(a,t))&&void 0!==e?e:String(t)}:n?t=>{var e;return null!==(e=o.call(n,t))&&void 0!==e?e:String(t)}:t=>String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some((t=>this.includeInvisibleDomains||t.isEnabled()))}clipTickLines(t,e,i,n){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new Li(t,e,i,n))}clipGrid(t,e,i,n){this.gridGroup.setClipRectInGroupCoordinateSpace(new Li(t,e,i,n))}calculatePadding(t,e){const i=.01*Math.abs(this.reverse?e:t);return[i,i]}getTitleFormatterParams(){var t;const e=this.boundSeries.reduce(((t,e)=>{const i=e.getKeys(this.direction),n=e.getNames(this.direction);for(let a=0;a<i.length;a++)t.push({key:i[a],name:n[a]});return t}),[]);return{direction:this.direction,boundSeries:e,defaultValue:null===(t=this.title)||void 0===t?void 0:t.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){var t;return null!==(t=this.axisContext)&&void 0!==t||(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,direction:this.direction,continuous:fo.is(t)||$o.is(t),keys:()=>this.boundSeries.flatMap((t=>t.getKeys(this.direction))),seriesKeyProperties:()=>this.boundSeries.reduce(((t,e)=>(e.getKeyProperties(this.direction).forEach((e=>{t.indexOf(e)<0&&t.push(e)})),t)),[]),scaleValueFormatter:e=>{var i;return e?null===(i=t.tickFormat)||void 0===i?void 0:i.call(t,{specifier:e}):this.getFormatter()},scaleBandwidth:()=>{var e;return null!==(e=t.bandwidth)&&void 0!==e?e:0},scaleDomain:()=>{var e;return null===(e=t.getDomain)||void 0===e?void 0:e.call(t)},scaleConvert:e=>t.convert(e),scaleInvert:$o.is(t)?e=>{var i;return null===(i=t.invertNearest)||void 0===i?void 0:i.call(t,e)}:e=>{var i;return null===(i=t.invert)||void 0===i?void 0:i.call(t,e)},scaleInvertNearest:e=>{var i;return null===(i=t.invertNearest)||void 0===i?void 0:i.call(t,e)},attachLabel:t=>this.attachLabel(t),inRange:(t,e)=>this.inRange(t,e)}}animateReadyUpdate(t){const{animationManager:e}=this.moduleCtx,i=xl(yl(this));qn(this.id,"axis-group",e,[this.axisGroup],i.group),qn(this.id,"line",e,[this.lineNode],i.line),qn(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,((t,e)=>e.tickId),t),qn(this.id,"tick-labels",e,[this.tickLabelGroupSelection],i.label,((t,e)=>e.tickId),t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:i,lineNode:n}=this,a=yl(this);ss([this.axisGroup],((t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY}))),ss([t,e],Sl(a)),ss([i],((t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX}))),ss([n],((t,e)=>({...e})))}calculateUpdateDiff(t,e){const i=new Set,n=new Set,a={},o=Math.max(t.length,e.ticks.length);for(let r=0;r<o;r++){const o=e.ticks[r],s=t[r],l=null===o||void 0===o?void 0:o.tickId;a[null!==l&&void 0!==l?l:s]=o,s!==l&&(n.has(l)?n.delete(l):l&&i.add(l),i.has(s)?i.delete(s):s&&n.add(s))}return{changed:i.size>0||n.size>0,added:i,removed:n}}isReversed(){return this.reverse}};Dl.defaultTickMinSpacing=50,ce([pa(ba)],Dl.prototype,"nice",2),ce([pa(ba)],Dl.prototype,"reverse",2),ce([pa(Ga)],Dl.prototype,"keys",2),ce([pa(ya)],Dl.prototype,"interval",2),ce([pa(ba)],Dl.prototype,"disableZoom",2),ce([pa(ya,{optional:!0})],Dl.prototype,"title",2),ce([Os(((t,e,i)=>t.onGridLengthChange(e,i)))],Dl.prototype,"gridLength",2);var Ll=Dl,Cl=class extends pl{constructor(){super(...arguments),this.autoRotateAngle=335}};ce([pa(ba,{optional:!0})],Cl.prototype,"autoRotate",2),ce([pa(La)],Cl.prototype,"autoRotateAngle",2);var Il=class t extends Ll{constructor(){super(...arguments),this.thickness=0}static is(e){return e instanceof t}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,e){return this.updateDirection(),super.update(t,e)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return{...super.createAxisContext(),position:this.position}}assignCrossLineArrayConstructor(t){po(t,as)}createLabel(){return new Cl}};ce([pa(Ma)],Il.prototype,"thickness",2),ce([pa(Ya)],Il.prototype,"position",2);var Nl=Il,El=class extends Nl{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ha),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(t){this.scale.paddingOuter=t}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(t){const e=[],i=new Set;for(const n of t){const t=n instanceof Date?n.getTime():n;i.has(t)||(i.add(t),e.push(n))}return{domain:e,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){let e=1/0,i=-1/0;for(const n of this.boundSeries){var t;const a=null===(t=n.getBandScalePadding)||void 0===t?void 0:t.call(n);null!=a&&(e=Math.min(e,a.inner),i=Math.max(i,a.outer))}this.scale.paddingInner=Number.isFinite(e)?e:0,this.scale.paddingOuter=Number.isFinite(i)?i:0}return super.calculateDomain()}};El.className="CategoryAxis",El.type="category",ce([pa(Da)],El.prototype,"groupPaddingInner",2);var Tl=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter(((t,e)=>e!==this.number)):[]}};function Al(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=new Tl;let n=0;return e&&t.forEach((t=>n=Math.max(n,t.labels.length))),t.forEach((t=>{if(e)for(;t.labels.length<n;)t.labels.unshift("");!function(t,e){const i=e.labels.slice().reverse(),n=i.length-1;i.forEach(((e,i)=>{const a=t.children,o=a.find((t=>t.label===e)),r=i!==n;if(o&&r)t=o;else{const i=new Tl(e,t);i.number=a.length,a.push(i),r&&(t=i)}}))}(i,t)})),i}function Rl(t,e,i){const n=i/(e.number-t.number);e.change-=n,e.shift+=i,t.change+=n,e.prelim+=i,e.mod+=i}function Ol(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function Pl(t,e){const i=t.children;if(i.length){let n=i[0];i.forEach((t=>{Pl(t,e),n=function(t,e,i){const n=t.getLeftSibling();if(n){let a=t,o=t,r=n,s=o.getLeftmostSibling(),l=o.mod,c=a.mod,u=r.mod,d=s.mod;for(;r.nextRight()&&o.nextLeft();){r=r.nextRight(),o=o.nextLeft(),s=s.nextLeft(),a=a.nextRight(),a.ancestor=t;const n=r.prelim+u-(o.prelim+l)+i;n>0&&(Rl(Ol(r,t,e),t,n),l+=n,c+=n),u+=r.mod,l+=o.mod,d+=s.mod,c+=a.mod}r.nextRight()&&!a.nextRight()?(a.thread=r.nextRight(),a.mod+=u-c):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-d),e=t)}return e}(t,n,e)})),function(t){const e=t.children;if(e){let t=0,i=0;for(let n=e.length-1;n>=0;n--){const a=e[n];a.prelim+=t,a.mod+=t,i+=a.change,t+=a.shift+i}}}(t);const a=(i[0].prelim+i.at(-1).prelim)/2,o=t.getLeftSibling();o?(t.prelim=o.prelim+e,t.mod=t.prelim-a):t.prelim=a}else{const i=t.getLeftSibling();t.prelim=i?i.prelim+e:0}}var Bl=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){const{x:i,y:n}=e(t);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function zl(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.update(t),t.children.forEach((n=>zl(n,e+t.mod,i)))}function _l(t){const e=t.children;let i=0;e.forEach((t=>{_l(t),t.children.length?i+=t.leafCount:i++})),t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function Fl(t){const e=new Gl;return Pl(t,1),zl(t,-t.prelim,e),_l(t),e}var Gl=class{constructor(){this.dimensions=new Bl,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(t){this.dimensions.update(t,(t=>({x:t.x,y:t.y}))),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)}resize(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=this.leafCount-1,r=this.depth,s=this.dimensions;let l=1,c=1;if(t>0&&o){const e=(s.right-s.left)/o;l=t/o/e,a&&(l=-l)}if(e>0&&r){const t=(s.bottom-s.top)/r;c=e/r/t}const u=new Bl;this.nodes.forEach((t=>{t.screenX=t.x*l,t.screenY=t.y*c,u.update(t,(t=>({x:t.screenX,y:t.screenY})))}));const d=-u.left,h=-u.top;this.nodes.forEach((t=>{t.screenX+=d+i,t.screenY+=h+n}))}},jl=class extends pl{constructor(){super(...arguments),this.grid=!1}};ce([pa(ba)],jl.prototype,"grid",2);var Vl=class extends Nl{constructor(t){const e=new ha;e.paddingOuter=.1,e.paddingInner=2*e.paddingOuter,super(t,e),this.tickScale=new ha,this.line=new gl,this.label=new jl,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:i,tickLabelGroup:n,gridLineGroup:a,tickScale:o}=this;o.paddingInner=1,o.paddingOuter=0,this.gridLineSelection=xs.select(a,Ms),this.axisLineSelection=xs.select(i,Ms),this.separatorSelection=xs.select(i,Ms),this.labelSelection=xs.select(n,Ir)}updateRange(){const{range:t,visibleRange:e,scale:i}=this,n=(t[1]-t[0])/(e[1]-e[0]),a=n*e[0],o=t[0]-a;this.tickScale.range=i.range=[o,o+n],this.resizeTickTree()}resizeTickTree(){const t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,i=this.tickTreeLayout,n=this.lineHeight;var a;i&&i.resize(Math.abs(e[1]-e[0]),i.depth*n,(Math.min(e[0],e[1])||0)+(null!==(a=t.bandwidth)&&void 0!==a?a:0)/2,-i.depth*n,e[1]-e[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var t;const{direction:e}=this;let i=null;const n=this.boundSeries.filter((t=>t.visible)).flatMap((t=>{if("y"===e||i)return t.getDomain(e);if(null===i){const n=t.getDomain(e);return i=ln(n[0]),n}return[]}));this.setDomain(null!==(t=yo(n))&&void 0!==t?t:So(n));const{domain:a}=this.dataDomain;this.tickTreeLayout=Fl(Al(a)),this.tickScale.domain=a.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:t}=this;t.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:t}=this.computedLayout;this.labelSelection.update(t).each(((t,e)=>{t.setProperties(e)}))}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:t}=this.computedLayout,{range:e}=this;this.separatorSelection.update(t).each(((t,i)=>{t.x1=i.x1,t.x2=i.x2,t.y1=i.y,t.y2=i.y,t.visible=i.y>=e[0]-1e-7&&i.y<=e[1]+1e-7,t.stroke=this.tick.stroke,t.fill=void 0,t.strokeWidth=1}))}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:t}=this.computedLayout;this.axisLineSelection.update(t).each(((t,e)=>{t.setProperties({...e,stroke:this.line.stroke,strokeWidth:this.line.width}),t.x1=e.x,t.x2=e.x,t.y1=e.y1,t.y2=e.y2,t.strokeWidth=this.line.width,t.stroke=this.line.stroke}))}updateCategoryGridLines(){const{gridLength:t,gridLine:e,label:i,range:n,tickScale:a}=this,o=a.ticks(),r=i.getSideFlag(),s=this.gridLineSelection.update(t?o:[]);if(t){const{width:i,style:o}=e,l=o.length;s.each(((e,s,c)=>{const u=Math.round(a.convert(s));e.x1=0,e.x2=-r*t,e.y1=u,e.y2=u,e.visible=u>=n[0]&&u<=n[1];const{stroke:d,lineDash:h}=o[c%l];e.stroke=d,e.strokeWidth=i,e.lineDash=h,e.fill=void 0}))}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:t,label:e,label:{parallel:i},moduleCtx:{callbackCache:n},range:a,title:o,title:{formatter:r=t=>t.defaultValue}={}}=this,s=t.range[0],l=t.range[1],c=Math.abs(l-s)/t.domain.length||0,u=Math.ceil(e.fontSize/c),d=ur(this.rotation),h=Math.abs(Math.cos(d))<1e-8,p=e.getSideFlag(),g=this.lineHeight,f=this.tickTreeLayout,m=t.ticks(),y=f?f.nodes:[],v=!!f&&f.depth>1,{defaultRotation:b,configuredRotation:x,parallelFlipFlag:k}=Tr({rotation:e.rotation,parallel:i,regularFlipRotation:rr(d-Math.PI/2),parallelFlipRotation:rr(d)}),S=[],w=new Map;let M=0;const D=new Ir,L=(t,i)=>{if(D.setProperties({fill:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textAlign:"center",textBaseline:-1===k?"bottom":"hanging",translationX:t.screenY-.25*e.fontSize,translationY:t.screenX}),0===i){if(!((null===o||void 0===o?void 0:o.enabled)&&m.length>0))return!1;const i=n.call(r,this.getTitleFormatterParams());D.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:i,textBaseline:"hanging",translationX:t.screenY-.25*e.fontSize,translationY:t.screenX})}else{if(i%u!==0)return!1;if(!(t.screenX>=a[0]&&t.screenX<=a[1]))return!1;var s;if(e.formatter)D.text=null!==(s=n.call(e.formatter,{value:String(t.label),index:i}))&&void 0!==s?s:String(t.label);else D.text=String(t.label)}return!0};y.forEach(((t,e)=>{if(!L(t,e))return;const i=D.computeTransformedBBox();if(!i)return;w.set(e,i);!t.children.length&&i.width>M&&(M=i.width)}));const C=p*e.padding,I=this.label.grid,N=[];y.forEach(((t,e)=>{let i=L(t,e);const n=e;D.x=C,D.rotationCenterX=C;const a=!t.children.length;if(a)D.rotation=x,D.textAlign="end",D.textBaseline="middle";else{D.translationX-=M-g+this.label.padding;const e=t.leafCount*c,a=w.get(n);a&&a.width>e?(i=!1,w.delete(n)):D.rotation=h?b:-Math.PI/2}if(t.parent&&v){const e=a?t.screenX-c/2:t.screenX-t.leafCount*c/2;if(a)(t.number!==t.children.length-1||I)&&N.push({y:e,x1:0,x2:-M-2*this.label.padding});else{const i=-M-2*this.label.padding+t.screenY;N.push({y:e,x1:i+g,x2:i})}}let o;if(i){const t=D.computeTransformedBBox();t&&w.set(e,t),o={...(r=D,{fill:r.fill,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,rotation:r.rotation,rotationCenterX:r.rotationCenterX,rotationCenterY:r.rotationCenterY,text:r.text,textAlign:r.textAlign,textBaseline:r.textBaseline,translationX:r.translationX,translationY:r.translationY,visible:r.visible,x:r.x,y:r.y}),visible:i}}else w.delete(e),o={visible:i};var r;S.push(o)}));let E=0;N.forEach((t=>E=Math.min(E,t.x2))),N.push({y:Math.max(s,l),x1:0,x2:E});const T=[],A=[];N.forEach((t=>{if(t.y>=a[0]-1e-7&&t.y<=a[1]+1e-7){const{x1:e,x2:i,y:n}=t,a=new Li(Math.min(e,i),n,Math.abs(e-i),0);A.push(a),T.push({x1:e,x2:i,y:n})}}));const R=[],O=[],P=f?f.depth+1:1;for(let B=0;B<P;B++){const t=m.length>0&&(0===B||I&&v),e=B>0?-M-2*this.label.padding-(B-1)*g:0,i=new Li(e,Math.min(...a),0,Math.abs(a[1]-a[0]));O.push(i),R.push({x:e,y1:a[0],y2:a[1],visible:t})}return{bbox:(t=>{const e=new Ai,{rotation:i,translationX:n,translationY:a,rotationCenterX:o,rotationCenterY:r}=this.getAxisTransform();return Ai.updateTransformMatrix(e,1,1,i,n,a,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:o,rotationCenterY:r}),e.transformBBox(t)})(Li.merge([...w.values(),...A,...O])),tickLabelLayout:S,separatorLayout:T,axisLineLayout:R}}calculateLayout(){const{axisLineLayout:t,separatorLayout:e,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:t,separatorLayout:e,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};Vl.className="GroupedCategoryAxis",Vl.type="grouped-category",ce([pa(Ba,{optional:!0})],Vl.prototype,"labelColor",2);var Wl=class{constructor(){this.destroyFns=[]}destroy(){for(const t of this.destroyFns)t()}},Ul=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e){this.registerDependencies(n);const t=this.modules.find((t=>n.type===t.type&&n.optionsKey===t.optionsKey&&n.identifier===t.identifier));if(t){if("enterprise"===n.packageType&&"community"===t.packageType){const e=this.modules.indexOf(t);this.modules.splice(e,1,n)}}else this.modules.push(n)}}hasEnterpriseModules(){return this.modules.some((t=>"enterprise"===t.packageType))}*byType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const{dependents:n}=this,a=new Set;let o=0;const r=this.modules.filter((t=>e.includes(t.type)));do{for(const t of r)if(!a.has(t.optionsKey)&&!n.has(t.optionsKey)){yield t,a.add(t.optionsKey);for(const[e,i]of n.entries())i.delete(t.optionsKey),0===i.size&&n.delete(e)}o++}while(a.size<r.length&&o<3);if(n.size>0)throw new Error("Could not resolve module dependencies: [".concat([...n.keys()],"]"))}registerDependencies(t){if(null!=t.dependencies&&0!==t.dependencies.length){for(const i of t.dependencies){var e;const n=null!==(e=this.dependencies.get(i))&&void 0!==e?e:new Set;n.add(t.optionsKey),this.dependencies.set(i,n)}this.dependents.set(t.optionsKey,new Set(t.dependencies))}}},Kl=new Ul;function Yl(t){return new Promise((e=>{setTimeout((()=>e(void 0)),t)}))}var Hl=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise((e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch((t=>ye.errorOnce(t)))}))}async acquireImmediately(t){return!!this.available&&(await this.acquire(t),!0)}async waitForClearAcquireQueue(){return this.acquire((async()=>{}))}async dispatchNext(){var t;this.available=!1;let[e,i]=null!==(t=this.acquireQueue.shift())&&void 0!==t?t:[];for(;e;){var n;try{var a;await e(),null===(a=i)||void 0===a||a()}catch(r){var o;ye.error("mutex callback error",r),null===(o=i)||void 0===o||o()}[e,i]=null!==(n=this.acquireQueue.shift())&&void 0!==n?n:[]}this.available=!0}},Zl=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if("function"!==typeof e)throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(t);i?i.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){var i;null===(i=this.eventListeners.get(t))||void 0===i||i.delete(e),0===this.eventListeners.size&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){var e;null===(e=this.eventListeners.get(t.type))||void 0===e||e.forEach((e=>e(t)))}},Xl=class extends wn{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;super(),this.top=t,this.right=e,this.bottom=i,this.left=n}clear(){this.top=this.right=this.bottom=this.left=0}};function ql(t,e){let i,n,a=0,o=!1;const r=()=>o,s=()=>{var e;o=!1,null===(e=n)||void 0===e||e(),n=void 0,i=void 0,a>0&&t(l)},l=()=>{const t=a;a=0,o=!0;const i=e({count:t});i?i.then(s,s):s()};return{schedule(e){0!==a||r()||t(l,e),a++},async await(){if(r())for(null==i&&(i=new Promise((t=>{n=t})));r();)await i}}}ce([pa(Ma)],Xl.prototype,"top",2),ce([pa(Ma)],Xl.prototype,"right",2),ce([pa(Ma)],Xl.prototype,"bottom",2),ce([pa(Ma)],Xl.prototype,"left",2);var Ql="10.0.2",Jl=class{constructor(t){this.version=t.split("-")[0]}save(){const t={version:this.version};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(const a of Object.values(i))t[a.mementoOriginatorKey]=this.encode(a,a.createMemento());return t}restore(t){if("object"===typeof t)if(null!=t)if("version"in t&&"string"===typeof t.version){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const e of i){if(!(e.mementoOriginatorKey in t))continue;const i=this.decode(e,t[e.mementoOriginatorKey]);if(!e.guardMemento(i))return void ye.warnOnce("Could not restore [".concat(e.mementoOriginatorKey,"] data, value was invalid, ignoring."),i);e.restoreMemento(this.version,t.version,i)}}else ye.warnOnce("Could not restore data, missing [version] string in object, ignoring.");else ye.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");else ye.warnOnce("Could not restore data of type [".concat(typeof t,"], expecting an object, ignoring."))}encode(t,e){try{return JSON.parse(JSON.stringify(e,this.encodeTypes))}catch(i){throw new Error("Failed to encode [".concat(t.mementoOriginatorKey,"] value [").concat(i,"]."),{cause:i})}}decode(t,e){try{return JSON.parse(JSON.stringify(e),this.decodeTypes)}catch(i){throw new Error("Failed to decode [".concat(t.mementoOriginatorKey,"] value [").concat(i,"]."),{cause:i})}}encodeTypes(t,e){return $i(this[t])?{__type:"date",value:String(this[t])}:e}decodeTypes(t,e){return an(this[t])&&"__type"in this[t]&&"date"===this[t].__type?new Date(this[t].value):e}},$l=class{constructor(){this.caretaker=new Jl(Ql),this.state=new Map}setState(t,e){null!=Cn(this.state.get(t.mementoOriginatorKey),e)&&(this.state.set(t.mementoOriginatorKey,e),this.restoreState(t))}restoreState(t){const{caretaker:e,state:i}=this;if(!i.has(t.mementoOriginatorKey))return;const n=i.get(t.mementoOriginatorKey);e.restore({version:e.version,[t.mementoOriginatorKey]:n},t)}};var tc=class t{constructor(e){var i;this.enabled=!0,this.width=600,this.height=300;const{width:n,height:a,pixelRatio:o,canvasConstructor:r}=e;this.pixelRatio=function(){if("undefined"===typeof navigator)return!1;const t=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(null==t)return!1;const[e,i]=t[1].split("_").map(Number);return e<16||16===e&&i<6}()?1:null!==o&&void 0!==o?o:hs("devicePixelRatio"),this.element=null!==(i=null===r||void 0===r?void 0:r())&&void 0!==i?i:ps("canvas"),this.element.style.display="block",this.element.style.width=(null!==n&&void 0!==n?n:this.width)+"px",this.element.style.height=(null!==a&&void 0!==a?a:this.height)+"px",this.element.width=Math.round((null!==n&&void 0!==n?n:this.width)*this.pixelRatio),this.element.height=Math.round((null!==a&&void 0!==a?a:this.height)*this.pixelRatio),this.context=this.element.getContext("2d"),this.onEnabledChange(),this.resize(null!==n&&void 0!==n?n:0,null!==a&&void 0!==a?a:0),t.debugContext(this.context)}static is(e){return e instanceof t}drawImage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.drawImage(this.context.canvas,e,i)}toDataURL(t){return this.element.toDataURL(t)}resize(t,e){if(!(t>0&&e>0))return;const{element:i,context:n,pixelRatio:a}=this;i.width=Math.round(t*a),i.height=Math.round(e*a),n.setTransform(a,0,0,a,0,0),i.style.width=t+"px",i.style.height=e+"px",this.width=t,this.height=e}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(t){if(bs.check("canvas")){const e=t.save.bind(t),i=t.restore.bind(t);let n=0;Object.assign(t,{save(){e(),n++},restore(){if(0===n)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(0!==n)throw new Error("AG Charts - Save/restore depth is non-zero: ".concat(n))}})}}};ce([Os((t=>t.onEnabledChange()))],tc.prototype,"enabled",2);var ec=tc,ic=class t{constructor(t,e){this.canvas=t,this.markDirty=e,this.debug=bs.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(t,e){var i,n;return ir([t.zIndex,...null!==(i=t.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],t.id],[e.zIndex,...null!==(n=e.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],e.id],tr)}get size(){return this.layersMap.size}forEach(e){Array.from(this.layersMap.values()).sort(t.sortLayers).forEach(e)}resize(t,e){this.canvas.resize(t,e),this.layersMap.forEach((i=>{let{canvas:n}=i;return n.resize(t,e)}))}addLayer(t){const{width:e,height:i,pixelRatio:n}=this.canvas,{zIndex:a=this.nextZIndex++,name:o,zIndexSubOrder:r,getComputedOpacity:s,getVisibility:l}=t,c=new ec({width:e,height:i,pixelRatio:n}),u={id:this.nextLayerId++,name:o,canvas:c,zIndex:a,zIndexSubOrder:r,getComputedOpacity:s,getVisibility:l};return a>=this.nextZIndex&&(this.nextZIndex=a+1),this.layersMap.set(c,u),this.debug("Scene.addLayer() - layers",this.layersMap),u.canvas}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(t,e,i){const n=this.layersMap.get(t);n&&(n.zIndex=e,n.zIndexSubOrder=i,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function nc(t,e,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!bs.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:r=0,nodesRendered:s=0,nodesSkipped:l=0}=null!==n&&void 0!==n?n:{},c=performance.now(),{start:u,...d}=e,h=Object.entries(d).map((t=>{let[e,i]=t;return sc(e,i)})).filter((t=>null!=t)).join(" + "),p=Object.entries(a).map((t=>{let[e,i]=t;return"".concat(e,": ").concat(i)})).join(" ; "),g=bs.check("scene:stats:verbose"),f=["".concat(sc("\u23f1\ufe0f",u,c)," (").concat(h,")"),"".concat(p),"Layers: ".concat(g?rc(o,r):t.size),g?"Nodes: ".concat(rc(s,l)):null].filter(sn),m=new Map(f.map((t=>[t,Ir.getTextSize(t,i.font)]))),y=Math.max(...Array.from(m.values(),(t=>t.width))),v=function(t,e){let i=0;for(const n of t)i+=e(n);return i}(m.values(),(t=>t.height));i.save(),i.fillStyle="white",i.fillRect(0,0,y,v),i.fillStyle="black";let b=0;for(const[x,k]of m.entries())b+=k.height,i.fillText(x,2,b);i.restore()}function ac(t){var e,i;return bs.check(!0,"scene")?{node:t,name:null!==(e=t instanceof ar?t.name:null)&&void 0!==e?e:t.id,dirty:Ci[t.dirty],...null!==(i=t.parent)&&void 0!==i&&i.isVirtual?{virtualParentDirty:Ci[t.parent.dirty],virtualParent:t.parent}:{},...t.children.map((t=>ac(t))).reduce(((t,e)=>{var i;let{name:n}=e;const{node:{visible:a,opacity:o,zIndex:r,zIndexSubOrder:s},node:l,virtualParent:c}=e;(!a||o<=0)&&(n="(".concat(n,")")),l instanceof ar&&l.isLayer()&&(n="*".concat(n,"*"));const u=["".concat(null!==(i=n)&&void 0!==i?i:"<unknown>"),"z: ".concat(r),s&&"zo: ".concat(s.map((t=>"function"===typeof t?"".concat(t()," (fn)"):t)).join(" / ")),c&&"(virtual parent)"].filter((t=>!!t)).join(" ");let d=u,h=1;for(;null!=t[d]&&h<100;)d="".concat(u," (").concat(h++,")");return t[d]=e,t}),{})}:{}}function oc(t){var e;if(0===t.dirty)return{dirtyTree:{},paths:[]};const i=t.children.map((t=>oc(t))).filter((t=>t.paths.length>0)),n=ar.is(t)&&null!==(e=t.name)&&void 0!==e?e:t.id,a=i.length?i.flatMap((t=>t.paths)).map((t=>"".concat(n,".").concat(t))):[n];return{dirtyTree:{name:n,node:t,dirty:Ci[t.dirty],...i.map((t=>t.dirtyTree)).filter((t=>null!=t.dirty)).reduce(((t,e)=>{var i;return t[null!==(i=e.name)&&void 0!==i?i:"<unknown>"]=e,t}),{})},paths:a}}function rc(t,e){const i=t+e;return"".concat(t," / ").concat(i," (").concat(Math.round(100*t/i),"%)")}function sc(t,e,i){const n=null!=i?i-e:e;return"".concat(t,": ").concat(Math.round(100*n)/100,"ms")}var lc=class{constructor(t){let{width:e,height:i,pixelRatio:n,domManager:a}=t;this.debug=bs.create(!0,"scene"),this.id=si(this),this.root=null,this.isDirty=!1,this.domManager=a;const o={width:e,height:i,pixelRatio:n};a&&(o.canvasConstructor=()=>a.addChild("canvas","scene-canvas")),this.canvas=new ec(o),this.layersManager=new ic(this.canvas,(()=>{this.isDirty=!0}))}get width(){var t,e;return null!==(t=null===(e=this.pendingSize)||void 0===e?void 0:e[0])&&void 0!==t?t:this.canvas.width}get height(){var t,e;return null!==(t=null===(e=this.pendingSize)||void 0===e?void 0:e[1])&&void 0!==t?t:this.canvas.height}setContainer(t){if("undefined"!==typeof t.tagName){var e;const{element:i}=this.canvas;null===(e=i.parentElement)||void 0===e||e.removeChild(i),t.appendChild(i)}else this.domManager=t,this.domManager.addChild("canvas","scene-canvas",this.canvas.element);return this}setRoot(t){var e;return this.root===t||(this.isDirty=!0,null===(e=this.root)||void 0===e||e._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager))),this}attachNode(t,e){var i,n;if(!e)return null===(n=this.root)||void 0===n||n.appendChild(t),()=>this.removeChild(t);const a=null===(i=this.root)||void 0===i?void 0:i.children.find((t=>t instanceof ar&&t.name===e));if(!a)throw new Error("AG Charts - Unrecognized root group name: "+e);return a.appendChild(t),()=>a.removeChild(t)}appendChild(t){var e;return null===(e=this.root)||void 0===e||e.appendChild(t),this}removeChild(t){var e;return null===(e=this.root)||void 0===e||e.removeChild(t),this}download(t,e){var i;gs(this.canvas.toDataURL(e),null!==(i=null===t||void 0===t?void 0:t.trim())&&void 0!==i?i:"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e){return t=Math.round(t),e=Math.round(e),t>0&&e>0&&(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.isDirty=!0,!0)}async render(t){var e,i;const{debugSplitTimes:n={start:performance.now()},extraDebugStats:a}=null!==t&&void 0!==t?t:{},{canvas:o,canvas:{context:r}={},root:s,pendingSize:l}=this;if(!r)return;const c=performance.now();if(l&&(this.layersManager.resize(...l),this.pendingSize=void 0),s&&!s.visible)return void(this.isDirty=!1);if(s&&!this.isDirty)return this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Ci[s.dirty],tree:ac(s)}),void nc(this.layersManager,n,r,void 0,a);const u={ctx:r,devicePixelRatio:null!==(e=this.canvas.pixelRatio)&&void 0!==e?e:1,forceRender:!0,resized:Boolean(l),debugNodes:{}};bs.check("scene:stats:verbose")&&(u.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let d=!1;if((!s||s.dirty>=1)&&(d=!0,o.clear()),s&&bs.check("scene:dirtyTree")){const{dirtyTree:t,paths:e}=oc(s);bs.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:t,paths:e})}if(s&&d&&(this.debug("Scene.render() - before",{redrawType:Ci[s.dirty],canvasCleared:d,tree:ac(s)}),s.visible&&(s.preRender(),r.save(),s.render(u),r.restore())),n["\u270d\ufe0f"]=performance.now()-c,this.layersManager.size&&d){const t=performance.now();r.save(),r.resetTransform(),this.layersManager.forEach((t=>{t.canvas.enabled&&t.getVisibility()&&(r.globalAlpha=t.getComputedOpacity(),t.canvas.drawImage(r))})),r.restore(),n["\u26d9"]=performance.now()-t}null===(i=r.verifyDepthZero)||void 0===i||i.call(r),this.isDirty=!1,nc(this.layersManager,n,r,u.stats,a),function(t,e){t.save();for(const[i,n]of Object.entries(e)){const e=n.computeTransformedBBox();e?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(e.x,e.y,e.width,e.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(i,e.x,e.y,e.width),t.fillText(i,e.x,e.y,e.width)):ye.log("Scene.render() - no bbox for debugged node [".concat(i,"]."))}t.restore()}(r,u.debugNodes),s&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Ci[s.dirty],tree:ac(s),canvasCleared:d})}strip(){const{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};lc.className="Scene";var cc=class{constructor(){this.cache=new WeakMap}call(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let a,o=this.cache.get(t);const r=()=>{try{const e=t(...i);return o&&null!=a&&o.set(a,e),e}catch(ub){return void ye.warnOnce("User callback errored, ignoring",ub)}};try{a=JSON.stringify(i)}catch(ub){return r()}return null==o&&(o=new Map,this.cache.set(t,o)),o.has(a)?o.get(a):r()}invalidateCache(){this.cache=new WeakMap}},uc=class extends Zs{constructor(t){super(),this.annotationRoot=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return Qi(t)}restoreMemento(t,e,i){this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:i})}updateData(t){this.annotations=null!==t&&void 0!==t?t:[]}attachNode(t){return this.annotationRoot.append(t),()=>{var e;return null===(e=this.annotationRoot)||void 0===e||e.removeChild(t),this}}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){var e;return null===(e=this.styles)||void 0===e?void 0:e[t]}},dc=class{constructor(t){this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new ar({name:"Axes-Grids",layer:!0,zIndex:1}),this.axisGroup=new ar({name:"Axes",layer:!0,zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(t,e){for(const n of t)e.includes(n)||(n.detachAxis(this.axisGroup,this.axisGridGroup),n.destroy());for(const n of e)null!==t&&void 0!==t&&t.includes(n)||n.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const n of e){const t=n.createAxisContext();var i;if(this.axes.has(t.direction))null===(i=this.axes.get(t.direction))||void 0===i||i.push(t);else this.axes.set(t.direction,[t])}}getAxisContext(t){var e;return[...null!==(e=this.axes.get(t))&&void 0!==e?e:[]]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},hc=class extends Hs{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=bs.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){"function"===typeof t&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return me((t=>this.fetch(t)),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return me(((t,e)=>{this.debug("DataService - dispatching 'data-load' | ".concat(t)),this.dispatch("data-load",{type:"data-load",data:e})}),t,{leading:!0,trailing:!0})}async fetch(t){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const e=performance.now(),i=this.requestCounter++;let n;this.debug("DataService - requesting | ".concat(i)),this.freshRequests.push(i);try{n=await this.dataSourceCallback(t),this.debug("DataService - response | ".concat(performance.now()-e,"ms | ").concat(i))}catch(o){this.debug("DataService - request failed | ".concat(i)),ye.errorOnce("DataService - request failed | [".concat(o,"]"))}this.isLoadingInitialData=!1;const a=this.freshRequests.findIndex((t=>t===i));-1===a||this.dispatchOnlyLatest&&a!==this.freshRequests.length-1?this.debug("DataService - discarding stale request | ".concat(i)):(this.freshRequests=this.freshRequests.slice(a+1),0===this.freshRequests.length&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error"))}};ce([Rs({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],hc.prototype,"dispatchThrottle",2),ce([Rs({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],hc.prototype,"requestThrottle",2);var pc=class{constructor(t,e,i){this.element=t,this.topTabGuard=e,this.bottomTabGuard=i,this.destroyFns=[],this.guardTabIndex=0,this.element.tabIndex=-1,this.initEventListener(this.element,"blur",(()=>this.onBlur())),this.initEventListener(this.element,"focus",(()=>this.onFocus())),this.initEventListener(this.topTabGuard,"focus",(t=>this.onTabStart(t,this.topTabGuard))),this.initEventListener(this.bottomTabGuard,"focus",(t=>this.onTabStart(t,this.bottomTabGuard)))}set tabIndex(t){t>=0&&(this.guardTabIndex=t),t>0?(this.topTabGuard.tabIndex=t,this.bottomTabGuard.style.display="none"):(this.topTabGuard.tabIndex=t,this.bottomTabGuard.tabIndex=t)}destroy(){for(const t of this.destroyFns)t();this.destroyFns.length=0}initEventListener(t,e,i){t.addEventListener(e,i),this.destroyFns.push((()=>t.removeEventListener(e,i)))}onBlur(){-1===this.element.tabIndex&&(this.tabIndex=this.guardTabIndex,this.guardTarget=void 0,this.guessedDelta=void 0)}onFocus(){-1===this.element.tabIndex&&(this.tabIndex=-1)}onTabStart(t,e){if(e.tabIndex>0&&(this.guessedDelta=0,null!=t.relatedTarget&&"tabIndex"in t.relatedTarget)){const i=Number(t.relatedTarget.tabIndex);!isNaN(i)&&i>0&&(this.guessedDelta=i<e.tabIndex?1:-1)}this.guardTarget=e,this.element.focus()}getBrowserFocusDelta(){const{guessedDelta:t,guardTarget:e,topTabGuard:i,bottomTabGuard:n}=this;return void 0!==t?t:e===i?1:e===n?-1:0}},gc=class{constructor(){var t;(this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach((t=>{let[e,i]=t;return this.observe(e,i)})),this.queuedObserveRequests=[]},"undefined"!==typeof ResizeObserver)&&(this.resizeObserver=new ResizeObserver((t=>{for(const{target:e,contentRect:{width:i,height:n}}of t){const t=this.elements.get(e);this.checkSize(t,e,i,n)}})),this.documentReady="complete"===ds("readyState"),this.documentReady||null===(t=hs())||void 0===t||t.addEventListener("load",this.onLoad))}destroy(){var t,e;null===(t=hs())||void 0===t||t.removeEventListener("load",this.onLoad),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=null}checkSize(t,e,i,n){var a,o;t&&(i===(null===(a=t.size)||void 0===a?void 0:a.width)&&n===(null===(o=t.size)||void 0===o?void 0:o.height)||(t.size={width:i,height:n},t.cb(t.size,e)))}observe(t,e){if(!this.documentReady)return void this.queuedObserveRequests.push([t,e]);var i;this.elements.has(t)?this.removeFromQueue(t):null===(i=this.resizeObserver)||void 0===i||i.observe(t);const n={cb:e};this.elements.set(t,n),this.checkSize(n,t,t.offsetWidth,t.offsetHeight)}unobserve(t){var e;null===(e=this.resizeObserver)||void 0===e||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter((e=>{let[i]=e;return i!==t}))}},fc="canvas-center",mc=["styles",fc,"canvas","canvas-proxy","canvas-overlay"],yc=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas",eventTypes:["focus","blur"]}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],[fc,{childElementType:"div"}]]);var vc=class extends Zs{constructor(t){super(),this.containerSize=void 0,this.sizeMonitor=new gc;const e=ps("div");e.innerHTML='<div class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div class="ag-charts-canvas-center"><div class="ag-charts-canvas-container"><div class="ag-charts-tab-guard"></div><div class="ag-charts-canvas"></div><div class="ag-charts-canvas-proxy"></div><div class="ag-charts-tab-guard"></div><div class="ag-charts-canvas-overlay"></div></div></div></div>',this.element=e.children.item(0),this.rootElements=mc.reduce(((t,e)=>{const i="ag-charts-".concat(e),n=this.element.classList.contains(i)?this.element:this.element.querySelector(".".concat(i));if(!n)throw new Error("AG Charts - unable to find DOM element ".concat(i));return t[e]={element:n,children:new Map,listeners:[]},t}),{});let i=!1;this.observer=function(t,e){if("undefined"===typeof IntersectionObserver)return;const i=new IntersectionObserver((i=>{for(const n of i)n.target===t&&e(n.intersectionRatio)}),{root:t});return i.observe(t),i}(this.element,(t=>{0!==t||i||this.listeners.dispatch("hidden",{type:"hidden"}),i=0===t})),this.setSizeOptions(),this.addStyles("dom-manager",".ag-charts-wrapper,\n.ag-charts-wrapper:focus,\n.ag-charts-wrapper:after,\n.ag-charts-wrapper:before,\n.ag-charts-wrapper *,\n.ag-charts-wrapper *:focus,\n.ag-charts-wrapper *:after,\n.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,\n.ag-charts-canvas{position:relative}.ag-charts-canvas-container > *,\n.ag-charts-canvas > *{display:block}.ag-charts-canvas-proxy{opacity:0;position:absolute;top:0;left:0;pointer-events:none}.ag-charts-tab-guard{opacity:0;width:0px;height:0px}.ag-charts-canvas-overlay{pointer-events:none;position:absolute;top:0;left:0;right:0;bottom:0}.ag-charts-canvas-overlay > *{position:absolute;pointer-events:auto}.ag-charts-theme-default,\n.ag-charts-theme-default-dark{--ag-charts-active-color:var(--ag-active-color,#2196f3);--ag-charts-background-color:var(--ag-background-color,#fff);--ag-charts-foreground-color:var(--ag-foreground-color,#181d1f);--ag-charts-border-color:var(--ag-border-color,#dddddd);--ag-charts-font-size:var(--ag-font-size,14px);--ag-charts-size:var(--ag-grid-size,8px);--ag-charts-border:var(--ag-charts-border-color) var(--ag-borders,solid 1px);--ag-charts-border-critical:var(--ag-borders-critical,solid 1px);--ag-charts-layer-context-menu:5;--ag-charts-layer-tooltip:4;--ag-charts-layer-toolbar:3;--ag-charts-layer-crosshair:2;--ag-charts-layer-annotations:1;--ag-charts-align:center;--ag-charts-justify:center;--ag-charts-axis-label-background-color:#474747;--ag-charts-axis-label-color:#ffffff;--ag-charts-toolbar-foreground-color:var(--ag-header-foreground-color,var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color:var(\n        --ag-header-background-color,color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-foreground-color) 2%)\n    );--ag-charts-toolbar-size:34px;--ag-charts-toolbar-size-small:24px;--ag-charts-toolbar-border:var(--ag-charts-border-critical,solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color:color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-active-color) 12%);--ag-charts-toolbar-focus-color:var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color:color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-active-color) 24%);--ag-charts-toolbar-active-color:var(--ag-active-color,#5090dc);--ag-charts-toolbar-disabled-foreground-color:var(\n        --ag-disabled-foreground-color,color-mix(in srgb,transparent,var(--ag-charts-toolbar-foreground-color) 50%)\n    );--ag-charts-toolbar-disabled-background-color:color-mix(in srgb,var(--ag-charts-toolbar-background-color),var(--ag-charts-toolbar-foreground-color) 6%);--ag-charts-toolbar-gap:var(--ag-charts-size);--ag-charts-toolbar-font-size:14px;--ag-charts-toolbar-font-size-small:12px;--ag-charts-toolbar-button-padding:7px;--ag-charts-toolbar-button-padding-small:3px;--ag-charts-button-radius:var(--ag-border-radius,4px);--ag-charts-focus-border-color:var(--ag-input-focus-border-color,var(--ag-charts-active-color));--ag-charts-focus-border:solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow:var(\n        --ag-input-focus-box-shadow,0 0 0 3px color-mix(in srgb,transparent,var(--ag-input-focus-border-color,var(--ag-charts-active-color)) 47%)\n    );--ag-charts-icon-font-family:'agChartsDefault';--ag-charts-icon-font-weight:normal;--ag-charts-icon-font-color:color-mix(in srgb,transparent,var(--ag-charts-foreground-color),90%)}.ag-charts-theme-default-dark{--ag-charts-background-color:var(--ag-background-color,color-mix(in srgb,#fff,#182230 97%));--ag-charts-foreground-color:var(--ag-foreground-color,#fff);--ag-charts-border-color:var(--ag-border-color,rgba(255,255,255,0.16));--ag-charts-hover-color:var(\n        --ag-row-hover-color,color-mix(in srgb,transparent,var(--ag-charts-active-color) 20%)\n    );--ag-charts-axis-label-background-color:#9caebb;--ag-charts-axis-label-color:#000000;--ag-charts-toolbar-background-color:var(--ag-header-background-color,color-mix(in srgb,#fff,#182230 93%))}[class^='ag-charts-icon']{display:block;speak:none;speak:never;mask-size:contain;mask-repeat:no-repeat;background-color:currentColor}.ag-charts-icon-zoom-in{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}"),t&&this.setContainer(t)}destroy(){var t,e;super.destroy(),null===(t=this.observer)||void 0===t||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach((t=>{t.children.forEach((t=>t.remove())),t.element.remove()})),null===(e=this.guardedElement)||void 0===e||e.destroy(),this.element.remove()}setSizeOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{style:a}=this.element;a.width="".concat(null!==i&&void 0!==i?i:t,"px"),a.height="".concat(null!==n&&void 0!==n?n:e,"px")}updateContainerSize(){var t,e,i,n;const{style:a}=this.rootElements[fc].element;a.width="".concat(null!==(t=null===(e=this.containerSize)||void 0===e?void 0:e.width)&&void 0!==t?t:0,"px"),a.height="".concat(null!==(i=null===(n=this.containerSize)||void 0===n?void 0:n.height)&&void 0!==i?i:0,"px")}setContainer(t){t!==this.container&&(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),t.appendChild(this.element),this.sizeMonitor.observe(t,(t=>{this.containerSize=t,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})})),this.container=t,this.listeners.dispatch("container-changed",{type:"container-changed"}))}setThemeClass(t){this.element.classList.forEach((e=>{e.startsWith("ag-charts-theme-")&&e!==t&&this.element.classList.remove(e)})),this.element.classList.add(t)}createTabGuards(){const t=this.rootElements.canvas.element.querySelector("canvas"),e=this.element.querySelectorAll(".ag-charts-tab-guard");if(null==t||null==e[0]||null==e[1])throw new Error("AG Charts - error initialising canvas tab guards");return new pc(t,e[0],e[1])}setTabIndex(t){var e;null!==(e=this.guardedElement)&&void 0!==e||(this.guardedElement=this.createTabGuards()),this.guardedElement.tabIndex=t}getBrowserFocusDelta(){var t,e;return null!==(t=null===(e=this.guardedElement)||void 0===e?void 0:e.getBrowserFocusDelta())&&void 0!==t?t:0}addEventListener(t,e,i){this.element.addEventListener(t,e,i),yc.forEach(((n,a)=>{var o;if(null===(o=n.eventTypes)||void 0===o||!o.includes(t))return;const r=this.rootElements[a];r.listeners.push([t,e,i]),r.children.forEach((i=>{i.addEventListener(t,e)}))}))}removeEventListener(t,e,i){this.element.removeEventListener(t,e,i),yc.forEach(((n,a)=>{var o;if(null===(o=n.eventTypes)||void 0===o||!o.includes(t))return;const r=this.rootElements[a];r.listeners=r.listeners.filter((i=>{let[n,a]=i;return n!==t&&a!==e})),r.children.forEach((n=>{n.removeEventListener(t,e,i)}))}))}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getDocumentRoot(){var t,e;const i=null!==(t=null===(e=this.container)||void 0===e||null===(e=e.ownerDocument)||void 0===e?void 0:e.body)&&void 0!==t?t:ds("body");let n=this.container;for(;null!=n;){if(n===i)return;if(n.parentNode instanceof DocumentFragment)return n;n=n.parentNode}}getChildBoundingClientRect(t){const{children:e}=this.rootElements[t],i=[];for(const n of e.values())i.push(Li.fromDOMRect(n.getBoundingClientRect()));return Li.merge(i)}calculateCanvasPosition(t){var e;let i=0,n=0;const{x:a=0,y:o=0}=null!==(e=this.getChildBoundingClientRect("canvas"))&&void 0!==e?e:{},r=t.getBoundingClientRect();return i=r.x-a,n=r.y-o,{x:i,y:n}}isManagedDOMElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.element;for(;t&&t!==e;){if(null==t.parentElement)return!1;t=t.parentElement}return!0}isManagedChildDOMElement(t,e,i){const{children:n}=this.rootElements[e],a=null===n||void 0===n?void 0:n.get(i);return null!=a&&this.isManagedDOMElement(t,a)}isEventOverElement(t){let e=t.target;if(null==e)return!1;for(;e!==this.element;)if(e=e.parentElement,null==e)return!1;return!0}addStyles(t,e){this.addChild("styles",t).innerHTML=e}removeStyles(t){this.removeChild("styles",t)}updateCursor(t){this.element.style.cursor=t}getCursor(){return this.element.style.cursor}addChild(t,e,i){var n;const{element:a,children:o,listeners:r}=this.rootElements[t];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(e))return o.get(e);const{childElementType:s="div"}=null!==(n=yc.get(t))&&void 0!==n?n:{};if(i&&i.tagName.toLowerCase()!==s.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=null!==i&&void 0!==i?i:ps(s);for(const[c,u,d]of r)l.addEventListener(c,u,d);return o.set(e,l),null===a||void 0===a||a.appendChild(l),l}removeChild(t,e){var i;const{children:n}=this.rootElements[t];n&&n.has(e)&&(null===(i=n.get(e))||void 0===i||i.remove(),n.delete(e))}incrementDataCounter(t){var e;const{dataset:i}=this.element;null!==(e=i[t])&&void 0!==e||(i[t]="0"),i[t]=String(Number(i[t])+1)}};function bc(t,e,i,n){if(0===t)return function(t,e,i){if(0===t)return function(t,e){const i=-e/t;return 0!==t&&i>=0&&i<=1?[i]:[]}(e,i);const n=e*e-4*t*i,a=[];if(0===n){const i=-e/(2*t);i>=0&&i<=1&&a.push(i)}else if(n>0){const i=Math.sqrt(n),o=(-e-i)/(2*t),r=(-e+i)/(2*t);o>=0&&o<=1&&a.push(o),r>=0&&r<=1&&a.push(r)}return a}(e,i,n);const a=e/t,o=i/t,r=(3*o-a*a)/9,s=(9*a*o-27*(n/t)-2*a*a*a)/54,l=r*r*r+s*s,c=1/3,u=[];if(l>=0){const t=Math.sqrt(l),e=Math.sign(s+t)*Math.pow(Math.abs(s+t),c),i=Math.sign(s-t)*Math.pow(Math.abs(s-t),c),n=Math.abs(Math.sqrt(3)*(e-i)/2),o=-c*a+(e+i);if(o>=0&&o<=1&&u.push(o),0===n){const t=-c*a-(e+i)/2;t>=0&&t<=1&&u.push(t)}}else{const t=Math.acos(s/Math.sqrt(-r*r*r)),e=c*a,i=2*Math.sqrt(-r),n=i*Math.cos(c*t)-e,o=i*Math.cos(c*(t+2*Math.PI))-e,l=i*Math.cos(c*(t+4*Math.PI))-e;n>=0&&n<=1&&u.push(n),o>=0&&o<=1&&u.push(o),l>=0&&l<=1&&u.push(l)}return u}function xc(t,e,i,n,a,o,r,s){const l=(i-t)*(s-o)-(n-e)*(r-a);if(0===l)return 0;const c=((r-a)*(e-o)-(t-a)*(s-o))/l,u=((i-t)*(e-o)-(n-e)*(t-a))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function kc(t,e,i,n,a,o,r,s,l,c,u,d){let h=0;const p=c-d,g=u-l,f=l*(d-c)-c*(u-l),m=Sc(t,i,a,r),y=Sc(e,n,o,s),v=bc(p*m[0]+g*y[0],p*m[1]+g*y[1],p*m[2]+g*y[2],p*m[3]+g*y[3]+f);for(const b of v){const t=b*b,e=b*t,i=m[0]*e+m[1]*t+m[2]*b+m[3],n=y[0]*e+y[1]*t+y[2]*b+y[3];let a;a=l===u?(n-c)/(d-c):(i-l)/(u-l),a>=0&&a<=1&&h++}return h}function Sc(t,e,i,n){return[3*e-t-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function wc(t,e,i,n,a,o,r,s,l,c){if(isNaN(t)||isNaN(e))return 0;o&&([a,n]=[n,a]);const u=(c-s)/(l-r),d=s-u*r,h=Math.pow(u,2)+1,p=2*(u*(d-e)-t),g=Math.pow(t,2)+Math.pow(d-e,2)-Math.pow(i,2),f=Math.pow(p,2)-4*h*g;if(f<0)return 0;const m=(-p+Math.sqrt(f))/2/h,y=(-p-Math.sqrt(f))/2/h;let v=0;return[m,y].forEach((i=>{if(!(i>=Math.min(r,l)&&i<=Math.max(r,l)))return;const o=i-t,s=u*i+d-e;cr(Math.atan2(s,o),n,a)&&v++})),v}var Mc=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(t,e){this.openedPath=!0,this.path2d.moveTo(t,e),this.commands.push(0),this.params.push(t,e)}lineTo(t,e){this.openedPath?(this.path2d.lineTo(t,e),this.commands.push(1),this.params.push(t,e)):this.moveTo(t,e)}rect(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()}roundRect(t,e,i,n,a){a=Math.min(a,i/2,n/2),this.moveTo(t,e+a),this.arc(t+a,e+a,a,Math.PI,1.5*Math.PI),this.lineTo(t+a,e),this.lineTo(t+i-a,e),this.arc(t+i-a,e+a,a,1.5*Math.PI,2*Math.PI),this.lineTo(t+i,e+a),this.lineTo(t+i,e+n-a),this.arc(t+i-a,e+n-a,a,0,Math.PI/2),this.lineTo(t+i-a,e+n),this.lineTo(t+a,e+n),this.arc(t+ +a,e+n-a,a,Math.PI/2,Math.PI),this.lineTo(t,e+n-a),this.closePath()}arc(t,e,i,n,a,o){this.openedPath=!0,this.path2d.arc(t,e,i,n,a,o),this.commands.push(2),this.params.push(t,e,i,n,a,o?1:0)}cubicCurveTo(t,e,i,n,a,o){this.openedPath||this.moveTo(t,e),this.path2d.bezierCurveTo(t,e,i,n,a,o),this.commands.push(3),this.params.push(t,e,i,n,a,o)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(t){t&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(t,e){const i=this.commands,n=this.params,a=i.length,o=-1e4,r=-1e4;let s=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,p=0;h<a;h++)switch(i[h]){case 0:d+=xc(s,l,c,u,o,r,t,e),c=n[p++],s=c,u=n[p++],l=u;break;case 1:d+=xc(c,u,n[p++],n[p++],o,r,t,e),c=n[p-2],u=n[p-1];break;case 3:d+=kc(c,u,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],o,r,t,e),c=n[p-2],u=n[p-1];break;case 2:const i=n[p++],a=n[p++],h=n[p++],g=n[p++],f=n[p++];if(d+=wc(i,a,h,g,f,Boolean(n[p++]),o,r,t,e),!isNaN(s)){d+=xc(c,u,i+Math.cos(g)*h,a+Math.sin(g)*h,o,r,t,e)}c=i+Math.cos(f)*h,u=a+Math.sin(f)*h;break;case 4:d+=xc(s,l,c,u,o,r,t,e)}return d%2===1}distanceSquared(t,e){let i=1/0;const n=this.commands,a=this.params,o=n.length;let r=NaN,s=NaN,l=0,c=0;for(let u=0,d=0;u<o;u++)switch(n[u]){case 0:l=r=a[d++],c=s=a[d++];break;case 1:i=Ss(t,e,l,c,a[d++],a[d++],i);break;case 3:ye.error("Command.Curve distanceSquare not implemented");break;case 2:{const n=a[d++],o=a[d++],r=a[d++],s=a[d++],u=a[d++],h=n+Math.cos(s)*r,p=o+Math.sin(s)*r,g=Boolean(a[d++]);i=Ss(t,e,l,c,h,p,i),i=ws(t,e,n,o,r,s,u,g,i),l=n+Math.cos(u)*r,c=o+Math.sin(u)*r;break}case 4:i=Ss(t,e,l,c,r,s,i)}return i}getPoints(){const{commands:t,params:e}=this,i=[];let n=0;for(let a=0;a<t.length;a++)switch(t[a]){case 0:case 1:i.push({x:e[n++],y:e[n++]});break;case 3:n+=4,i.push({x:e[n++],y:e[n++]});break;case 2:i.push({x:e[n++],y:e[n++]}),n+=4}return i}computeSVGDataPath(t,e){const i=[],{commands:n,params:a}=this;let o=0;for(let r=0;r<n.length;r++)switch(n[r]){case 0:i.push("M",t+a[o++],e+a[o++]);break;case 1:i.push("L",t+a[o++],e+a[o++]);break;case 3:i.push("C",t+a[o++],e+a[o++],t+a[o++],e+a[o++],t+a[o++],e+a[o++]);break;case 2:const[n,r,s,l,c,u]=[a[o++],a[o++],a[o++],a[o++],a[o++],a[o++]],d=t+n+Math.cos(l)*s,h=e+r+Math.sin(l)*s,p=t+n+Math.cos(c)*s,g=e+r+Math.sin(c)*s,f=hr(l,c,!!u)>Math.PI?1:0,m=(u+1)%2;i.push("L",d,h,"A",s,s,0,f,m,p,g);break;case 4:i.push("Z")}return i.join(" ")}};function Dc(t){const{redraw:e=3,changeCb:i,convertor:n}=null!==t&&void 0!==t?t:{};return Ii({redraw:e,type:"path",convertor:n,changeCb:i})}var Lc=class extends br{constructor(){super(...arguments),this.path=new Mc,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var t,e,i,n;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(t=null===(e=this.fillShadow)||void 0===e?void 0:e.isDirty())&&void 0!==t&&t||null!==(i=null===(n=this._clipPath)||void 0===n?void 0:n.isDirty())&&void 0!==i&&i)}isPointInPath(t,e){const i=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)}distanceSquared(t,e){const i=this.transformPoint(t,e);return this.distanceSquaredTransformedPoint(i.x,i.y)}computeSVGDataPath(){const{x:t,y:e}=this.inverseTransformPoint(0,0);return this.path.computeSVGDataPath(t,e)}distanceSquaredTransformedPoint(t,e){return this.path.closedPath&&this.path.isPointInPath(t,e)?0:this.path.distanceSquared(t,e)}isDirtyPath(){return!1}updatePath(){}render(t){var e;const{ctx:i,forceRender:n,stats:a}=t;if(0!==this.dirty||n){if(this.computeTransformMatrix(),this.matrix.toContext(i),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),isNaN(this._clipX)||isNaN(this._clipY)||null==this.clipMode)this.drawPath(i);else{var o;i.save();const t=this.strokeWidth/2;var r;if(null!==(o=this._clipPath)&&void 0!==o||(this._clipPath=new Mc),this._clipPath.clear(),this._clipPath.rect(-t,-t,this._clipX+t,this._clipY+t+t),"normal"===this.clipMode)i.clip(null===(r=this._clipPath)||void 0===r?void 0:r.getPath2D());if(this._clipX>0&&this._clipY>0&&this.drawPath(i),"punch-out"===this.clipMode){var s,l;i.clip(null===(s=this._clipPath)||void 0===s?void 0:s.getPath2D());const{x:t=-1e4,y:e=-1e4,width:n=2e4,height:a=2e4}=null!==(l=this.computeBBox())&&void 0!==l?l:{};i.clearRect(t,e,n,a)}i.restore()}null===(e=this.fillShadow)||void 0===e||e.markClean(),super.render(t)}else a&&(a.nodesSkipped+=this.nodeCount.count)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}};Lc.className="Path",ce([Dc()],Lc.prototype,"clipMode",2),ce([Dc()],Lc.prototype,"clipX",1),ce([Dc()],Lc.prototype,"clipY",1);var Cc={};le(Cc,{block:()=>Nc,css:()=>Ic,elements:()=>Ec,modifiers:()=>Tc});var Ic=".ag-charts-focus.ag-charts-focus__indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus.ag-charts-focus__indicator > div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus.ag-charts-focus__indicator > svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-focus--hidden{visibility:hidden}",Nc="ag-charts-focus",Ec={indicator:"ag-charts-focus__indicator",svg:"ag-charts-focus__svg"},Tc={hidden:"ag-charts-focus--hidden"},Ac=class{constructor(t){this.domManager=t;const{css:e,block:i,elements:n,modifiers:a}=Cc;this.div=ds().createElement("div"),this.svg=ds().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=ds().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),t.addStyles(i,e),this.element=t.addChild("canvas-overlay",i),this.element.classList.add(i,n.indicator,a.hidden),this.element.append(this.svg)}destroy(){this.domManager.removeStyles(Nc),this.domManager.removeChild("canvas-overlay",Nc)}updateBounds(t){void 0===t?this.element.classList.add(Tc.hidden):t instanceof Lc?(this.path.setAttribute("d",t.computeSVGDataPath()),this.show(this.svg)):(ys(this.div,t),this.show(this.div))}show(t){this.element.classList.remove(Tc.hidden),this.element.innerHTML="",this.element.append(t)}};function Rc(t,e){var i;return(null===(i=e.params)||void 0===i?void 0:i.type)===t}function Oc(t){return{params:t,result:ps({button:"button",slider:"input",toolbar:"div",group:"div"}[t.type])}}var Pc=class{constructor(t,e,i,n){this.localeManager=e,this.domManager=i,this.focusIndicator=n,this.debugShowDOMProxies=bs.check("showDOMProxies"),this.destroyFns=[],this.destroyFns.push(t.addListener("update-complete",(()=>this.update())))}destroy(){this.destroyFns.forEach((t=>t()))}update(){this.focusable&&this.focusIndicator.updateBounds(this.focusable.computeTransformedBBox())}addLocalisation(t){t(),this.destroyFns.push(this.localeManager.addListener("locale-changed",t))}createProxyContainer(t){const e=Oc(t),{params:i,result:n}=e;return this.domManager.addChild("canvas-overlay",i.id,n),n.classList.add(...i.classList),n.style.pointerEvents="none",n.role=i.type,n.ariaOrientation=i.ariaOrientation,this.addLocalisation((()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)})),n}createProxyElement(t){const e=Oc(t);if(Rc("button",e)){const{params:t,result:i}=e;if(this.initElement(t,i),"string"===typeof t.textContent)i.textContent=t.textContent;else{const{textContent:e}=t;this.addLocalisation((()=>{i.textContent=this.localeManager.t(e.id,e.params)}))}}if(Rc("slider",e)){const{params:t,result:i}=e;this.initElement(t,i),i.type="range",i.role="presentation",i.style.margin="0px",i.ariaOrientation=t.ariaOrientation,this.addLocalisation((()=>{i.ariaLabel=this.localeManager.t(t.ariaLabel.id,t.ariaLabel.params)}))}return e.result}initElement(t,e){const{focusable:i,onclick:n,onchange:a,onfocus:o,onblur:r,tabIndex:s,id:l,parent:c}=t;e.id=l,e.style.pointerEvents="none",e.style.opacity=this.debugShowDOMProxies?"0.25":"0",e.style.position="absolute",e.style.overflow="hidden",void 0!==s&&(e.tabIndex=s),c.appendChild(e),e.addEventListener("focus",(t=>{this.focusable=i,e.style.setProperty("pointerEvents",null),this.focusIndicator.updateBounds(i.computeTransformedBBox())})),e.addEventListener("blur",(t=>{this.focusable=void 0,e.style.pointerEvents="none",this.focusIndicator.updateBounds(void 0)})),n&&e.addEventListener("click",n),o&&e.addEventListener("focus",o),r&&e.addEventListener("blur",r),a&&e.addEventListener("change",a)}},Bc=class{constructor(t){this.maxAnimationTime=t,this.debug=bs.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Un.map((t=>[t,[]]))),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){var t;return null!==(t=this.phases.get(Un[this.currentPhase]))&&void 0!==t?t:[]}checkOverlappingId(t){null!=t&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug("Skipping animation batch due to update of existing animation: ".concat(t)),this.skip())}addAnimation(t){var e;if(t.isComplete)return;if(Un.indexOf(t.phase)<this.currentPhase)return this.debug("Skipping animation due to being for an earlier phase",t.id),void t.stop();this.controllers.set(t.id,t),null===(e=this.phases.get(t.phase))||void 0===e||e.push(t)}removeAnimation(t){this.controllers.delete(t.id);const e=this.phases.get(t.phase),i=null===e||void 0===e?void 0:e.indexOf(t);null!=i&&i>=0&&(null===e||void 0===e||e.splice(i,1))}progress(t){var e;if(!this.isReady)return;let i=0===t?.01:t;const n=()=>{const t=Un[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:t,phaseMeta:Kn[t]}};let{phase:a,phaseControllers:o,phaseMeta:r}=n();const s=()=>null==Un[this.currentPhase],l=()=>{for(({phase:a,phaseControllers:o,phaseMeta:r}=n());!s()&&0===o.length;)this.currentPhase++,({phase:a,phaseControllers:o,phaseMeta:r}=n()),this.debug("AnimationBatch - phase changing to ".concat(a),{unusedTime:i},o)},c=this.controllers.size;this.debug("AnimationBatch - ".concat(t,"ms; phase ").concat(a," with ").concat(null===(e=o)||void 0===e?void 0:e.length," of ").concat(c));do{const t=i,e=r.skipIfNoEarlierAnimations&&0===this.animationTimeConsumed;let n=0;for(const a of o)e?a.stop():i=Math.min(a.update(t),i),a.isComplete&&(n++,this.removeAnimation(a));this.animationTimeConsumed+=t-i,this.debug("AnimationBatch - updated ".concat(o.length," controllers; ").concat(n," completed")),this.debug("AnimationBatch - animationTimeConsumed: ".concat(this.animationTimeConsumed)),l()}while(i>0&&!s());this.animationTimeConsumed>this.maxAnimationTime&&(ye.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug("AnimationBatch - ready; skipped: ".concat(this.skipAnimations),[...this.controllers]);let t=!0;for(const[,e]of this.controllers)if(e.duration>0&&!0!==Kn[e.phase].skipIfNoEarlierAnimations){t=!1;break}if(!t)for(const[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===this.skipAnimations&&!0===t){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(const t of this.controllers.values())t.play()}pause(){for(const t of this.controllers.values())t.pause()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){ye.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(t){if(null!=t&&this.controllers.has(t)){const e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(const e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach((t=>t())),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function zc(t){return null==t||!isNaN(t)&&t>=0&&t<=2}var _c=class extends Zs{constructor(t,e){super(),this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new Bc(1.5*this.defaultDuration),this.debug=bs.create(!0,"animation"),this.rafAvailable="undefined"!==typeof requestAnimationFrame,this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1,this.currentAnonymousAnimationId=0}animate(t){let{...e}=t;const i=this.batch;try{i.checkOverlappingId(e.id)}catch(l){return void this.failsafeOnError(l)}let{id:n}=e;null==n&&(n="__".concat(this.currentAnonymousAnimationId),this.currentAnonymousAnimationId+=1);const a=this.isSkipped()||"none"===e.phase;a&&this.debug("AnimationManager - skipping animation");const{delay:o,duration:r}=e;if(!zc(o))throw new Error("Animation delay of ".concat(o," is unsupported (").concat(n,")"));if(!zc(r))throw new Error("Animation duration of ".concat(r," is unsupported (").concat(n,")"));const s=new Zn({...e,id:n,skip:a,autoplay:!!this.isPlaying&&e.autoplay,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(s,this.defaultDuration))return this.batch.addAnimation(s),s}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(t){this.failsafeOnError(t)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=requestAnimationFrame(t)}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable)return;if(!this.batch.isActive()||null!==this.requestId)return;let t;const e=async i=>{const n=async()=>{var e;const n=i-(null!==(e=t)&&void 0!==e?e:i);t=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:n}),this.interactionManager.pushState(1);try{this.batch.progress(n)}catch(a){this.failsafeOnError(a)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:n})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):(this.batch.stop(),this.listeners.dispatch("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.listeners.dispatch("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(e)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ye.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug("AnimationManager - startBatch() with skipAnimations=".concat(t,".")),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new Bc(1.5*this.defaultDuration),!0===t&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}},Fc=class t{constructor(e,i,n){this.localeManager=e,this.domManager=i,this.layoutService=n,this.debug=bs.create(!0,"aria"),this.destroyFns=[],this.liveElem=t.createAnnouncer(),this.domManager.addChild("canvas-proxy","ag-charts-canvas-proxy",this.liveElem),this.destroyFns.push(this.layoutService.addListener("layout-complete",(t=>this.onResize(t))),(()=>this.domManager.removeChild("canvas-proxy","ag-charts-canvas-proxy")))}static createAnnouncer(){const t=ds().createElement("div");return t.classList.add("ag-charts-aria-announcer"),zs(t,"role","figure"),zs(t,"aria-live","assertive"),t}destroy(){this.destroyFns.forEach((t=>t()))}onResize(t){this.liveElem.style.width="".concat(t.chart.width,"px"),this.liveElem.style.height="".concat(t.chart.height,"px")}announceValue(t,e){const{localeManager:i,liveElem:n}=this,a=i.t(t,e);this.debug("AriaAnnouncementService - announceValue: ".concat(a)),n.textContent="\xa0",setTimeout((()=>n.innerText=a),16)}},Gc=class extends Zs{legendItemClick(t,e,i,n){const a={type:"legend-item-click",series:t,itemId:e,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",a)}legendItemDoubleClick(t,e,i,n,a){const o={type:"legend-item-double-click",series:t,itemId:e,enabled:i,legendItemName:a,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",o)}axisHover(t,e){const i={type:"axis-hover",axisId:t,direction:e};this.listeners.dispatch("axis-hover",i)}},jc=class t{constructor(t){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new Hs;const{Default:e,ContextMenu:i}=nl;this.destroyFns=[t.listenAll("contextmenu",(t=>this.onContextMenu(t)),e|i)]}destroy(){this.destroyFns.forEach((t=>t()))}onContextMenu(e){"all"===t.toContextType(e.region)&&this.dispatchContext("all",e,{})}static toContextType(t){return"legend"===t||"series"===t?t:"all"}static check(t,e){return e.type===t}static checkCallback(t,e,i){return t===e}dispatchContext(t,e,i){const{offsetX:n,offsetY:a,sourceEvent:o}=e;this.listeners.dispatch("",Xs({type:t,x:n,y:a,context:i,sourceEvent:o}))}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter((e=>e.id&&!this.hiddenActions.has(e.id)&&["all",t].includes(e.type)))}registerDefaultAction(t){t.id&&this.defaultActions.find((e=>{let{id:i}=e;return i===t.id}))||this.defaultActions.push(t)}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}setActionVisiblity(t,e){e?this.hiddenActions.delete(t):this.hiddenActions.add(t)}isDisabled(t){return this.disabledActions.has(t)}},Vc=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),"undefined"!==typeof e&&super.set(t,e),this}stateId(){var t;return null!==(t=Array.from(this.keys()).pop())&&void 0!==t?t:this.defaultState}stateValue(){var t;return null!==(t=Array.from(this.values()).pop())&&void 0!==t?t:this.defaultValue}},Wc=(t=>(t.Auto="auto",t.Default="default",t.Grab="grab",t.Grabbing="grabbing",t.Move="move",t.NotAllowed="not-allowed",t.Pointer="pointer",t.EWResize="ew-resize",t.NSResize="ns-resize",t.ZoomIn="zoom-in",t.ZoomOut="zoom-out",t))(Wc||{}),Uc=class{constructor(t){this.domManager=t,this.stateTracker=new Vc("default")}updateCursor(t,e){this.stateTracker.set(t,e),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function Kc(t,e){return Math.sqrt(function(t,e){const i=t.screenX-e.screenX,n=t.screenY-e.screenY;return i*i+n*n}(t,e))}var Yc=class extends Zs{constructor(t){super(),this.domManager=t,this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(t){const{touches:e}=t,{finger1:i,finger2:n}=this.pinch;if(0!==this.pinch.status&&2===e.length){if(e[0].identifier===i.identifier&&e[1].identifier===n.identifier)return[e[0],e[1]];if(e[0].identifier===n.identifier&&e[1].identifier===i.identifier)return[e[1],e[0]]}}copyTouchData(t){const e=["identifier","screenX","screenY"];Sn(e,this.pinch.finger1,t.touches[0]),Sn(e,this.pinch.finger2,t.touches[1]),this.pinch.distance=Kc(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(t,e,i){const{finger1:n,finger2:a,origin:o}=this.pinch;this.listeners.dispatch(t,Xs({sourceEvent:i,type:t,finger1:n,finger2:a,deltaDistance:e,origin:o}))}onTouchStart(t){this.stopPinchTracking(t);const{pinch:e}=this;2===t.touches.length&&(e.status=1,this.copyTouchData(t),e.origin.x=(t.touches[0].clientX+t.touches[1].clientX)/2,e.origin.y=(t.touches[0].clientY+t.touches[1].clientY)/2)}onTouchMove(t){const e=this.findPinchTouches(t);if(void 0!==e){const[i,n]=e,{pinch:a}=this,o=Kc(i,n),r=o-a.distance;1===a.status?Math.abs(r)>1&&(a.status=2,this.copyTouchData(t),this.dispatchPinchEvent("pinch-start",0,t)):2===a.status?(a.distance=o,this.copyTouchData(t),this.dispatchPinchEvent("pinch-move",r,t)):ye.error("unexpected pinch.status: ".concat(a.status))}}onTouchEnd(t){this.stopPinchTracking(t)}onTouchCancel(t){this.stopPinchTracking(t)}stopPinchTracking(t){const{pinch:e}=this;2===e.status&&this.dispatchPinchEvent("pinch-end",0,t),this.pinch.status=0}},Hc=class extends Zs{constructor(){super(...arguments),this.highlightStates=new Vc}updateHighlight(t,e){const{activeHighlight:i}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i})}getActiveHighlight(){return this.activeHighlight}isEqual(t,e){return t===e||(null===t||void 0===t?void 0:t.series)===(null===e||void 0===e?void 0:e.series)&&(null===t||void 0===t?void 0:t.itemId)===(null===e||void 0===e?void 0:e.itemId)&&(null===t||void 0===t?void 0:t.datum)===(null===e||void 0===e?void 0:e.datum)}},Zc=class extends Zs{constructor(t,e){super(),this.domManager=e,this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.isClicking=!1,this.destroyFns.push(t.addListener("drag-start",(t=>this.onClickStart(t)),31),t.addListener("click",(t=>this.onClickStop(t)),31),t.addListener("drag-end",(t=>this.onClickStop(t)),31),t.addListener("wheel",(t=>this.mouseBlur(t))),t.addListener("hover",(t=>this.mouseBlur(t))),t.addListener("drag",(t=>this.mouseBlur(t))),t.addListener("blur",(t=>this.onBlur(t)),31),t.addListener("focus",(t=>this.onFocus(t)),31),t.addListener("keydown",(t=>this.onKeyDown(t)),31))}destroy(){super.destroy()}onClickStart(t){this.isClicking=!0,this.mouseBlur(t)}onClickStop(t){this.mouseBlur(t),this.isClicking=!1}mouseBlur(t){this.hasBrowserFocus&&(this.isMouseBlurred||(this.dispatch("blur",0,t),this.isMouseBlurred=!0))}onBlur(t){this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.dispatch("blur",0,t)}onFocus(t){const e=this.domManager.getBrowserFocusDelta();this.dispatch("browserfocus",e,t),this.hasBrowserFocus=!0,this.isClicking?this.isMouseBlurred=!0:this.dispatch("tab",e,t)}onKeyDown(t){if(!this.hasBrowserFocus)return;this.isMouseBlurred=!1;const{code:e,altKey:i,shiftKey:n,metaKey:a,ctrlKey:o}=t.sourceEvent;if("Tab"===e)return n?this.dispatch("tab",-1,t):this.dispatch("tab",1,t);if(!(i||n||a||o)){switch(e){case"ArrowDown":return this.dispatch("nav-vert",1,t);case"ArrowUp":return this.dispatch("nav-vert",-1,t);case"ArrowLeft":return this.dispatch("nav-hori",-1,t);case"ArrowRight":return this.dispatch("nav-hori",1,t);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,t);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,t);case"Space":case"Enter":return this.dispatch("submit",0,t);case"Escape":return this.dispatch("cancel",0,t);case"Backspace":case"Delete":return this.dispatch("delete",0,t)}switch(t.sourceEvent.key){case"+":return this.dispatch("nav-zoom",1,t);case"-":return this.dispatch("nav-zoom",-1,t)}}}dispatch(t,e,i){qs(this.listeners,{type:t,delta:e,sourceEvent:i})}},Xc=["series"],qc=class extends Hs{};function Qc(t,e,i,n){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16;return null!==(a=null===t||void 0===t?void 0:t.addListener(i,(t=>{e.getState()&o&&n(t)})))&&void 0!==a?a:()=>{}}var Jc=class{constructor(t,e,i){this.interactionManager=t,this.keyNavManager=e,this.focusIndicator=i,this.currentTabIndex=0,this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new qc,this.destroyFns.push(...Qs.map((e=>t.addListener(e,this.processPointerEvent.bind(this),31))),this.keyNavManager.addListener("blur",this.onNav.bind(this)),this.keyNavManager.addListener("browserfocus",this.onBrowserFocus.bind(this)),this.keyNavManager.addListener("tab",this.onTab.bind(this)),this.keyNavManager.addListener("nav-vert",this.onNav.bind(this)),this.keyNavManager.addListener("nav-hori",this.onNav.bind(this)),this.keyNavManager.addListener("nav-zoom",this.onNav.bind(this)),this.keyNavManager.addListener("submit",this.onNav.bind(this)),this.keyNavManager.addListener("cancel",this.onNav.bind(this)),this.keyNavManager.addListener("delete",this.onNav.bind(this)))}destroy(){this.destroyFns.forEach((t=>t())),this.currentRegion=void 0;for(const t of this.regions.values())t.listeners.destroy();this.focusIndicator.destroy(),this.regions.clear()}addRegion(t){if(this.regions.has(t))throw new Error("AG Charts - Region: ".concat(t," already exists"));for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const a={properties:{name:t,bboxproviders:[...i]},listeners:new qc};return this.regions.set(t,a),this.makeObserver(a)}updateRegion(t){const e=this.regions.get(t);if(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];e.properties.bboxproviders=[...n]}}getRegion(t){return this.makeObserver(this.regions.get(t))}listenAll(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return Qc(this.allRegionsListeners,this.interactionManager,t,e,i)}makeObserver(t){const{interactionManager:e}=this;return new class{addListener(i,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return Qc(null===t||void 0===t?void 0:t.listeners,e,i,n,a)}}}checkPointerHistory(t,e){for(const i of e.pointerHistory){const e=this.pickRegion(i.offsetX,i.offsetY);if(t.properties.name!==(null===e||void 0===e?void 0:e.properties.name))return!1}return!0}dispatch(t,e){if(null==t)return;const i=Xs({...e,region:t.properties.name});this.allRegionsListeners.dispatch(i.type,i),t.listeners.dispatch(i.type,i)}handleDragging(t){const{currentRegion:e}=this;switch(t.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(e,t),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(e,t),this.leftCanvas&&this.dispatch(e,{...t,type:"leave"}),!0}return!1}processPointerEvent(t){if(this.handleDragging(t))return;const{currentRegion:e}=this,i=this.pickRegion(t.offsetX,t.offsetY);void 0!==e&&(null===i||void 0===i?void 0:i.properties.name)!==e.properties.name&&this.dispatch(e,{...t,type:"leave"}),void 0!==i&&i.properties.name!==(null===e||void 0===e?void 0:e.properties.name)&&this.dispatch(i,{...t,type:"enter"}),void 0!==i&&this.checkPointerHistory(i,t)&&this.dispatch(i,t),this.currentRegion=i}pickRegion(t,e){let i,n=1/0;for(const r of this.regions.values())for(const s of r.properties.bboxproviders){var a,o;const l=null!==(a=null===(o=s.computeTransformedRegionBBox)||void 0===o?void 0:o.call(s))&&void 0!==a?a:s.computeTransformedBBox(),c=l.width*l.height;c<n&&l.containsPoint(t,e)&&(n=c,i=r)}return i}getTabRegion(t){if(void 0!==t&&t>=0&&t<Xc.length)return this.regions.get(Xc[t])}getNextInteractableTabIndex(t,e){const i=e<0?-1:1;let n=t;for(;0!==e;){if(void 0===this.getTabRegion(n+i))return;e-=i,n+=i}return n}validateCurrentTabIndex(){var t;void 0!==this.getTabRegion(this.currentTabIndex)&&(this.currentTabIndex=null!==(t=this.getNextInteractableTabIndex(-1,1))&&void 0!==t?t:0)}onBrowserFocus(t){t.delta>0?this.currentTabIndex=-1:t.delta<0&&(this.currentTabIndex=Xc.length)}onTab(t){this.validateCurrentTabIndex();const e=this.getNextInteractableTabIndex(this.currentTabIndex,t.delta),i=this.getTabRegion(e),n=this.getTabRegion(this.currentTabIndex);if(void 0!==e&&(this.currentTabIndex=e),void 0!==n&&(null===i||void 0===i?void 0:i.properties.name)!==n.properties.name){const{delta:e,sourceEvent:i}=t,a=Xs({type:"blur",delta:e,sourceEvent:i});this.dispatch(n,a)}void 0===i?this.focusIndicator.updateBounds(void 0):this.dispatch(i,t)}onNav(t){const e=this.getTabRegion(this.currentTabIndex);this.dispatch(e,t)}},$c=["start","center","end"],tu=["annotations","annotationOptions","ranges","zoom"],eu=(t=>(t.Top="top",t.Right="right",t.Bottom="bottom",t.Left="left",t.Floating="floating",t.FloatingTop="floating-top",t.FloatingBottom="floating-bottom",t))(eu||{}),iu=Object.values(eu);function nu(t){return["floating-top","floating-bottom"].includes(t)}var au=class extends Zs{static isGroup(t,e){return e.group===t}static isChildElement(t,e){for(const i of iu)if(t.isManagedChildDOMElement(e,"canvas-overlay","toolbar-".concat(i)))return!0;return!1}pressButton(t,e){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:t,value:e})}cancel(t){this.listeners.dispatch("cancelled",{type:"cancelled",group:t})}toggleButton(t,e,i){const{active:n=!1,enabled:a=!0,visible:o=!0}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:t,value:e,active:n,enabled:a,visible:o})}toggleGroup(t,e,i){this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:t,group:e,visible:i})}changeFloatingAnchor(t,e){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:t,anchor:e})}buttonMoved(t,e,i){this.listeners.dispatch("button-moved",{type:"button-moved",group:t,value:e,rect:i})}proxyGroupOptions(t,e,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:t,group:e,options:i})}},ou=class{constructor(t,e){this.domManager=t,this.tooltip=e,this.stateTracker=new Vc,this.suppressState=new Vc(!1),this.appliedState=null,e.setup(t),t.addListener("hidden",(()=>this.tooltip.toggle(!1))),t.addStyles("tooltip",".ag-chart-tooltip{transition:transform 0.1s ease;max-width:100%;z-index:99999;font:12px Verdana,sans-serif;color:rgb(70,70,70);box-shadow:0 4px 8px rgba(0,0,0,0.08)}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:white;background-color:#888888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:white;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,0.15);text-overflow:inherit}.ag-chart-tooltip-arrow::before{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow::after{content:'';position:absolute;top:calc(100% - 1px);left:50%;transform:translateX(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}")}updateTooltip(t,e,i){var n,a;this.tooltip.enabled&&(null!==(n=i)&&void 0!==n||(i=null===(a=this.stateTracker.get(t))||void 0===a?void 0:a.content),this.stateTracker.set(t,{content:i,meta:e}),this.applyStates())}removeTooltip(t){this.tooltip.enabled&&(this.stateTracker.delete(t),this.applyStates())}suppressTooltip(t){this.suppressState.set(t,!0)}unsuppressTooltip(t){this.suppressState.delete(t)}getTooltipMeta(t){var e;return null===(e=this.stateTracker.get(t))||void 0===e?void 0:e.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var t;const e=this.stateTracker.stateId(),i=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||null==(null===i||void 0===i?void 0:i.meta)||null==(null===i||void 0===i?void 0:i.content))return this.appliedState=null,void this.tooltip.toggle(!1);const n=this.domManager.getBoundingClientRect();if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===(null===i||void 0===i?void 0:i.content)){const t=this.tooltip.isVisible();this.tooltip.show(n,null===i||void 0===i?void 0:i.meta,null,t)}else this.tooltip.show(n,null===i||void 0===i?void 0:i.meta,null===i||void 0===i?void 0:i.content);this.appliedState=i}static makeTooltipMeta(t,e){var i,n,a,o,r,s,l;const{offsetX:c,offsetY:u}=t,{tooltip:d}=e.series.properties,h={offsetX:c,offsetY:u,enableInteraction:null!==(i=null===(n=d.interaction)||void 0===n?void 0:n.enabled)&&void 0!==i&&i,lastPointerEvent:{type:t.type,offsetX:c,offsetY:u},showArrow:d.showArrow,position:{type:d.position.type,xOffset:d.position.xOffset,yOffset:d.position.yOffset}},p=null!==(a=null!==(o=null===(r=e.yBar)||void 0===r?void 0:r.upperPoint)&&void 0!==o?o:e.midPoint)&&void 0!==a?a:null===(s=(l=e.series).datumMidPoint)||void 0===s?void 0:s.call(l,e);if("node"===d.position.type&&p){const{x:t,y:i}=p,n=e.series.contentGroup.inverseTransformPoint(t,i);return{...h,offsetX:Math.round(n.x),offsetY:Math.round(n.y)}}return h}},ru=class extends Hs{constructor(){super(...arguments),this.layoutComplete="layout-complete",this.debug=bs.create(!0,"layout")}addListener(t,e){if(this.isLayoutStage(t)||this.isLayoutComplete(t))return super.addListener(t,e);throw new Error("AG Charts - unsupported listener type: ".concat(t))}dispatchPerformLayout(t,e){return this.isLayoutStage(t)?this.getListenersByType(t).reduce(((t,e)=>{try{const i=e.handler(t);return this.debug("[LayoutService] Context updated to: ",{...i},e),i}catch(ub){return ye.errorOnce(ub),t}}),e):e}dispatchLayoutComplete(t){this.dispatch(this.layoutComplete,t)}isLayoutStage(t){return t!==this.layoutComplete}isLayoutComplete(t){return t===this.layoutComplete}},su=/\$\{(\w+)\}(?:\[(\w+)\])?/gi,lu={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent"}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},cu=class extends Hs{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.dispatch("locale-changed"))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.dispatch("locale-changed"))}t(t){var e,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{localeText:a=ue,getLocaleText:o}=this,r=a[t];return null!==(e=null!==(i=null===o||void 0===o?void 0:o({key:t,defaultValue:r,variables:n}))&&void 0!==i?i:(t=>{let{defaultValue:e,variables:i}=t;return null===e||void 0===e?void 0:e.replaceAll(su,((t,e,n)=>{const a=i[e],o=null!=n?lu[n]:void 0;return null!=n&&null==o&&ye.warnOnce("Format style [".concat(n,"] is not supported")),null!=o?o.format(a):"number"===typeof a?lu.number.format(a):a instanceof Date?lu.datetime.format(a):a}))})({key:t,defaultValue:r,variables:n}))&&void 0!==e?e:t}},uu=class{constructor(){this.groups={}}registerSeries(t){var e;let{id:i,seriesGrouping:n,visible:a,type:o}=t;var r;n&&(null!==(e=(r=this.groups)[o])&&void 0!==e||(r[o]={}),this.groups[o][i]={grouping:n,visible:a})}deregisterSeries(t){let{id:e,type:i}=t;this.groups[i]&&delete this.groups[i][e],this.groups[i]&&0===Object.keys(this.groups[i]).length&&delete this.groups[i]}getVisiblePeerGroupIndex(t){let{type:e,seriesGrouping:i,visible:n}=t;if(!i)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const a=new Set,o=new Set;for(const l of Object.values(null!==(r=this.groups[e])&&void 0!==r?r:{})){var r;l.visible&&(a.add(l.grouping.groupIndex),l.grouping.groupIndex===i.groupIndex&&o.add(l.grouping.stackIndex))}const s=Array.from(a);return s.sort(((t,e)=>t-e)),{visibleGroupCount:s.length,visibleSameStackCount:o.size,index:s.indexOf(i.groupIndex)}}},du=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(du||{}),hu=class extends Hs{constructor(t){super(),this.updateCallback=t}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.updateCallback(t,e)}dispatchUpdateComplete(t){this.dispatch("update-complete",{type:"update-complete",minRect:null===t||void 0===t?void 0:t.minRect,minVisibleRect:null===t||void 0===t?void 0:t.minVisibleRect})}},pu=class{constructor(t,e){const{scene:i,root:n,syncManager:a,container:o,updateCallback:r,updateMutex:s,overrideDevicePixelRatio:l}=e;this.chartService=t,this.syncManager=a,this.zoomManager=t.zoomManager,this.domManager=new vc(o),null===i||void 0===i||i.setContainer(this.domManager),this.scene=null!==i&&void 0!==i?i:new lc({pixelRatio:l,domManager:this.domManager}),this.scene.setRoot(n),this.axisManager=new dc(n),this.localeManager=new cu,this.annotationManager=new uc(t.annotationRoot),this.chartEventManager=new Gc,this.cursorManager=new Uc(this.domManager),this.highlightManager=new Hc,this.interactionManager=new ol(t.keyboard,this.domManager),this.keyNavManager=new Zc(this.interactionManager,this.domManager),this.focusIndicator=new Ac(this.domManager),this.regionManager=new Jc(this.interactionManager,this.keyNavManager,this.focusIndicator),this.contextMenuRegistry=new jc(this.regionManager),this.toolbarManager=new au,this.gestureDetector=new Yc(this.domManager),this.layoutService=new ru,this.ariaAnnouncementService=new Fc(this.localeManager,this.domManager,this.layoutService),this.updateService=new hu(r),this.proxyInteractionService=new Pc(this.updateService,this.localeManager,this.domManager,this.focusIndicator),this.seriesStateManager=new uu,this.stateManager=new $l,this.callbackCache=new cc,this.animationManager=new _c(this.interactionManager,s),this.animationManager.skip(),this.animationManager.play(),this.dataService=new hc(this.animationManager),this.tooltipManager=new ou(this.domManager,t.tooltip)}destroy(){this.tooltipManager.destroy(),this.contextMenuRegistry.destroy(),this.regionManager.destroy(),this.proxyInteractionService.destroy(),this.focusIndicator.destroy(),this.keyNavManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.ariaAnnouncementService.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.callbackCache.invalidateCache(),this.animationManager.reset(),this.syncManager.destroy(),this.domManager.destroy(),this.axisManager.destroy()}},gu=class extends wn{constructor(){super(...arguments),this.range="tooltip"}};ce([pa(no(["tooltip","node"],"a range"))],gu.prototype,"range",2);var fu=class t{constructor(){this.domain=new Set}static is(e){return e instanceof t}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},mu=class t{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof t}static extendDomain(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1/0,-1/0];for(const i of t)"number"===typeof i&&(e[0]>i&&(e[0]=i),e[1]<i&&(e[1]=i));return e}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}};function yu(t){return t.map((t=>an(t)?JSON.stringify(t):t)).join("-")}function vu(t){const e=1e4;return Number.isInteger(t)?t:Math.abs(t)>e?Math.trunc(t):Math.round(t*e)/e}function bu(t,e){const i=function(t){if(null==t)return[];let[e,i]=t.map(Number);return 0===e&&0===i?[0,1]:e===1/0&&i===-1/0?[]:(e===1/0?e=0:i===-1/0&&(i=0),cn(e)&&cn(i)?[e,i]:[])}(t);if(0===i.length)return i;let[n,a]=i;if(n===a){var o;const[t,i]=null!==(o=null===e||void 0===e?void 0:e.calculatePadding(n,a))&&void 0!==o?o:[1,1];n-=t,a+=i}return[n,a]}function xu(t,e){var i;return null!==(i=null===e||void 0===e?void 0:e.get(t.id))&&void 0!==i?i:0}var ku=Symbol("invalid");function Su(t){const e=[];let i,n=0;const a=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|(?<!\\)\\')*'|"(?:[^"]|(?<!\\)\\")*"|-?\d+)\s*\])\s*)/g;for(;i=a.exec(t);){if(i.index!==n)return;n=i.index+i[0].length;const t=i[1].trim();if(t.startsWith("."))e.push(t.slice(1).trim());else if(t.startsWith("[")){const i=t.slice(1,-1).trim();i.startsWith("'")?e.push(i.slice(1,-1).replace(/(?<!\\)\\'/g,"'")):i.startsWith('"')?e.push(i.slice(1,-1).replace(/(?<!\\)\\"/g,'"')):e.push(i)}else e.push(t)}if(n===t.length)return e}function wu(t){return e=>{let i=e;for(const n of t)i=i[n];return i}}var Mu=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standalone";this.opts=t,this.mode=e,this.debug=bs.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(const a of t.props){if("key"===a.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===a.type&&i&&(i=!1)}const n=t=>{let{matchGroupIds:e=[]}=t;for(const i of e)if(this.values.every((t=>t.groupId!==i)))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups (".concat(i,")."))};for(const a of t.props)switch(a.type){case"key":this.keys.push({...a,index:this.keys.length,missing:new Map});break;case"value":if(null==a.property)throw new Error("AG Charts - internal config error: no properties specified for value definitions: ".concat(JSON.stringify(a)));this.values.push({...a,index:this.values.length,missing:new Map});break;case"aggregate":n(a),this.aggregates.push({...a,index:this.aggregates.length});break;case"group-value-processor":n(a),this.groupProcessors.push({...a,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...a,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...a,index:this.reducers.length});break;case"processor":this.processors.push({...a,index:this.processors.length})}}resolveProcessedDataDefById(t,e){var i;const n=null===(i=this.scopeCache.get(t.id))||void 0===i?void 0:i.get(e);if(!n)throw new Error("AG Charts - didn't find property definition for [".concat(e,", ").concat(t.id,"]"));return{index:n.index,def:n}}resolveProcessedDataIndexById(t,e){return this.resolveProcessedDataDefById(t,e).index}resolveProcessedDataDefsByIds(t,e){return e.map((e=>[e,this.resolveProcessedDataDefById(t,e)]))}resolveProcessedDataDefsValues(t,e){let{keys:i,values:n}=e;const a={};for(const[o,{index:r,def:s}]of t){const t="key"===s.type?i:n;a[o]=t[r]}return a}getDomain(t,e){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",a=arguments.length>3?arguments[3]:void 0;const o=this.getDomainsByType(n,a);return null!==(i=null===o||void 0===o?void 0:o[this.resolveProcessedDataIndexById(t,e)])&&void 0!==i?i:[]}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t,e){const{opts:{groupByKeys:i,groupByFn:n},aggregates:a,groupProcessors:o,reducers:r,processors:s,propertyProcessors:l}=this,c=performance.now();if(i&&0===this.keys.length)return;let u=this.extractData(t,e);if(i?u=this.groupData(u):n&&(u=this.groupData(u,n(u))),o.length>0&&this.postProcessGroups(u),a.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),r.length>0&&this.reduceData(u),s.length>0&&this.postProcessData(u),t.length>0)for(const p of fe(this.keys,this.values))for(const[e,i]of p.missing)if(i>=t.length){const t=null==e?"":" for ".concat(e);ye.warnOnce("the key '".concat(p.property,"' was not found in any data element").concat(t,"."))}const d=performance.now();u.time=d-c,this.debug.check()&&function(t){var e,i;const n=(t,e)=>{e.length>0&&(ye.log("DataModel.processData() - ".concat(t)),ye.table(e))};if(ye.log("DataModel.processData() - processedData",t),n("Key Domains",t.domain.keys),n("Group Domains",null!==(e=t.domain.groups)&&void 0!==e?e:[]),n("Value Domains",t.domain.values),n("Aggregate Domains",null!==(i=t.domain.aggValues)&&void 0!==i?i:[]),"grouped"===t.type){n("Values",t.data.reduce(((t,e)=>{var i,n;const a=null!==(i=e.keys)&&void 0!==i?i:[],o=null!==(n=e.aggValues)&&void 0!==n?n:[],r=e.keys.map((()=>{})),s=null===o||void 0===o?void 0:o.map((()=>{}));return t.push(...e.values.map(((t,e)=>[...0===e?a:r,...null!==t&&void 0!==t?t:[],...0==e?o:s]))),t}),[]))}else{n("Values",t.data.reduce(((t,e)=>{var i;const n=null!==(i=e.aggValues)&&void 0!==i?i:[];return t.push([...e.keys,...e.values,...n]),t}),[]))}}(u),this.scopeCache.clear();for(const p of fe(this.keys,this.values,this.aggregates))if(p.idsMap)for(const[t,e]of p.idsMap)for(const i of e){var h;if(this.scopeCache.has(t)){if(null!==(h=this.scopeCache.get(t))&&void 0!==h&&h.has(i))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(t).set(i,p)}else this.scopeCache.set(t,new Map([[i,p]]))}return u}valueGroupIdxLookup(t){let{matchGroupIds:e}=t;const i=[];for(const[n,a]of this.values.entries())(!e||a.groupId&&e.includes(a.groupId))&&i.push(n);return i}valueIdxLookup(t,e){const i=null==t||0===t.length,n="string"===typeof e?e:e.id,a=this.values.findIndex((e=>(null==e.scopes||i&&!e.scopes.length||e.scopes.some((e=>null===t||void 0===t?void 0:t.includes(e))))&&(e.property===n||e.id===n||(e=>{if(e.idsMap)for(const[i,a]of e.idsMap)if(null!==t&&void 0!==t&&t.includes(i)&&a.has(n))return!0;return!1})(e))));if(-1===a)throw new Error("AG Charts - configuration error, unknown property ".concat(JSON.stringify(e)," in scope(s) ").concat(JSON.stringify(t)));return a}extractData(t,e){const{dataDomain:i,processValue:n,scopes:a,allScopesHaveSameDefs:o}=this.initDataDomainProcessor(),r=new Map(null===e||void 0===e?void 0:e.map((t=>[t.id,t]))),{keys:s,values:l}=this,c=new Array(t.length);let u=0,d=0;for(const[y,v]of t.entries()){const t={},e=a.size>0?new Set(a):void 0,i=new Array(s.length);let m,b=0;for(const a of s){if(m=n(a,v,m),m===ku)break;i&&(i[b++]=m)}if(m===ku)continue;const x=l.length>0?new Array(l.length):void 0;let k;for(const[s,c]of l.entries()){for(const e of null!==(h=c.scopes)&&void 0!==h?h:a){var h,p;const i=r.get(e);if(k=n(c,null!==(p=null===i||void 0===i?void 0:i.data[y])&&void 0!==p?p:v,k,e),k!==ku&&x){if(null!=i&&!1!==c.includeProperty){var g;const i=c.includeProperty&&null!=c.id?c.id:c.property;null!==(g=t[e])&&void 0!==g||(t[e]={}),t[e][i]=k}x[s]=k}}if(k===ku){if(o)break;for(const t of null!==(f=c.scopes)&&void 0!==f?f:a){var f;null===e||void 0===e||e.delete(t)}if(0===(null===e||void 0===e?void 0:e.size))break}}if(k===ku&&o)continue;if(0===(null===e||void 0===e?void 0:e.size))continue;const S={datum:{...v,...t},keys:i,values:x};!o&&e&&e.size<a.size&&(d++,S.validScopes=new Set(e)),c[u++]=S}c.length=u;const m=t=>{const e=i.get(t),n=e.getDomain();return mu.is(e)&&n[0]>n[1]?[]:n};return{type:"ungrouped",input:{count:t.length},data:c,domain:{keys:s.map(m),values:l.map(m)},defs:{allScopesHaveSameDefs:o,keys:s,values:l},partialValidDataCount:d,time:0}}groupData(t,e){const i=new Map;for(const s of t.data){var n;const{keys:t,values:a,datum:o,validScopes:r}=s,l=null!==(n=null===e||void 0===e?void 0:e(s))&&void 0!==n?n:t,c=yu(l);if(i.has(c)){const t=i.get(c);if(t.values.push(a),t.datum.push(o),null!=r&&null!=t.validScopes)for(const e of t.validScopes)r.has(e)||t.validScopes.delete(e)}else i.set(c,{keys:l,values:[a],datum:[o],validScopes:r})}const a=new Array(i.size),o=new Array(i.size);let r=0;for(const{keys:s,values:l,datum:c,validScopes:u}of i.values())0!==(null===u||void 0===u?void 0:u.size)&&(o[r]=s,a[r++]={keys:s,values:l,datum:c,validScopes:u});return{...t,type:"grouped",data:a,domain:{...t.domain,groups:o}}}aggregateData(t){const e="ungrouped"===t.type;t.domain.aggValues=[];for(const[c,u]of this.aggregates.entries()){const d=this.valueGroupIdxLookup(u),h=[1/0,-1/0];for(const p of t.data){var i,n,a,o,r;if(null!==(i=p.aggValues)&&void 0!==i||(p.aggValues=new Array(this.aggregates.length)),p.validScopes)continue;const t=e?[p.values]:p.values;let g=null!==(n=null===(a=u.groupAggregateFunction)||void 0===a?void 0:a.call(u))&&void 0!==n?n:[1/0,-1/0];for(const e of t){const t=d.map((t=>e[t])),i=u.aggregateFunction(t,p.keys);var s,l;if(i)g=null!==(s=null===(l=u.groupAggregateFunction)||void 0===l?void 0:l.call(u,i,g))&&void 0!==s?s:mu.extendDomain(i,g)}const f=(null!==(o=null===(r=u.finalFunction)||void 0===r?void 0:r.call(u,g))&&void 0!==o?o:g).map((t=>vu(t)));p.aggValues[c]=f,mu.extendDomain(f,h)}t.domain.aggValues.push(h)}}postProcessGroups(t){const{groupProcessors:e}=this,i=new Set,n=new Map,a=new Map,o=new Map;for(const c of e){const t=this.valueGroupIdxLookup(c);a.set(c,t),o.set(c,c.adjust());for(const e of t){const t="category"===this.values[e].valueType;i.add(e),n.set(e,t?new fu:new mu)}}const r=t=>{for(const a of i){var e;null===(e=n.get(a))||void 0===e||e.extend(t[a])}};for(const c of t.data){for(const i of e){var s,l;if(c.validScopes)continue;const e=null!==(s=a.get(i))&&void 0!==s?s:[],n=null===(l=o.get(i))||void 0===l?void 0:l();if(n)if("grouped"===t.type)for(const t of c.values)t&&n(t,e);else c.values&&n(c.values,e)}if("grouped"===t.type)for(const t of c.values)r(t);else r(c.values)}for(const[c,u]of n)t.domain.values[c]=u.getDomain()}postProcessProperties(t){for(const{adjust:e,property:i,scopes:n}of this.propertyProcessors)e()(t,this.valueIdxLookup(n,i))}reduceData(t){var e;null!==(e=t.reduced)&&void 0!==e||(t.reduced={});for(const n of this.reducers){const e=n.reducer();let a=n.initialValue;for(const o of t.data){var i;(!o.validScopes||null!==(i=n.scopes)&&void 0!==i&&i.some((t=>{var e;return null===(e=o.validScopes)||void 0===e?void 0:e.has(t)})))&&(a=e(a,o))}t.reduced[n.property]=a}}postProcessData(t){var e;null!==(e=t.reduced)&&void 0!==e||(t.reduced={});for(const i of this.processors)t.reduced[i.property]=i.calculate(t)}initDataDomainProcessor(){const{keys:t,values:e}=this,i=new Set;for(const l of e)if(l.scopes)for(const t of l.scopes)i.add(t);const n=new Map,a=new Map;let o=!0;const r=()=>{for(const r of fe(t,e)){var a;if("category"===r.valueType)n.set(r,new fu);else n.set(r,new mu),o&&(o=(null!==(a=r.scopes)&&void 0!==a?a:[]).length===i.size)}};r();const s=this.buildAccessors(fe(t,e));return{dataDomain:n,processValue:(t,e,i,o)=>{var l,c,u;let d,h;if(s.has(t.property)){try{h=s.get(t.property)(e)}catch(f){}d=null!=h}else d=t.property in e,h=d?e[t.property]:t.missingValue;if(null!=t.forceValue){h=d&&vi(h)?-1*t.forceValue:t.forceValue,d=!0}if(!d&&!("missingValue"in t)){var p;const e=null!==(p=t.missing.get(o))&&void 0!==p?p:0;t.missing.set(o,e+1)}if(n.has(t)||r(),d&&null!==(l=null===(c=t.validation)||void 0===c?void 0:c.call(t,h,e))&&void 0!==l&&!l){if(!("invalidValue"in t))return"integrated"!==this.mode&&ye.warnOnce("invalid value of type [".concat(typeof h,"] for [").concat(t.scopes," / ").concat(t.id,"] ignored:"),"[".concat(h,"]")),ku;h=t.invalidValue}var g;t.processor&&(a.has(t)||a.set(t,t.processor()),h=null===(g=a.get(t))||void 0===g?void 0:g(h,i===ku?void 0:i));return null===(u=n.get(t))||void 0===u||u.extend(h),h},initDataDomain:r,scopes:i,allScopesHaveSameDefs:o}}buildAccessors(t){const e=new Map;if("integrated"===this.mode)return e;for(const i of t){if(!(i.property.includes(".")||i.property.includes("[")))continue;const t=Su(i.property);if(null==t){ye.warnOnce("Invalid property path [%s]",i.property);continue}const n=wu(t);e.set(i.property,n)}return e}};var Du=class t{constructor(t){this.mode=t,this.debug=bs.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,e,i){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise(((n,a)=>{this.requested.push({id:t,opts:i,data:e,resolve:n,reject:a})}))}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);const e=this.mergeRequested(t);this.debug("DataController.execute() - merged",e),this.debug.check()&&(hs().processedData=[]);const i=this.requested.map((t=>{let{id:e}=t;return e})),n=this.hasMultipleDataSources(t);for(const{opts:o,data:r,resolves:s,rejects:l,ids:c}of e)try{const e=new Mu(o,this.mode),a=e.processData(r,t);this.debug.check()&&hs("processedData").push(a),0===(null===a||void 0===a?void 0:a.partialValidDataCount)?s.forEach(((t,o)=>t({dataModel:e,processedData:this.processScopedData(c[o],a,i,n)}))):a?this.splitResult(e,a,c,s):l.forEach((t=>t(new Error("AG Charts - no processed data generated"))))}catch(a){l.forEach((t=>t(a)))}}hasMultipleDataSources(t){if(t.length){const[{data:e},...i]=t;return i.some((t=>e!==t.data))}return!1}processScopedData(t,e,i,n){const a=e=>{if(Array.isArray(e))return e.map(a);const o=n?{...e,...e[t]}:e;for(const t of i)delete o[t];return o},o=e=>{var i;return Array.isArray(e)?e.map(o):null!==(i=null===e||void 0===e?void 0:e[t])&&void 0!==i?i:e};return{...e,data:e.data.map((t=>{var e;return{...t,datum:a(t.datum),values:n?null===(e=t.values)||void 0===e?void 0:e.map(o):t.values}}))}}validateRequests(t){const e=[];for(const[i,n]of t.entries())i>0&&n.data.length!==t[0].data.length&&!1===n.opts.groupByData?n.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):e.push(n);return e}mergeRequested(e){const i=[];for(const n of e){const e=i.find(t.groupMatch(n));e?e.push(n):i.push([n])}return i.map(t.mergeRequests)}splitResult(t,e,i,n){for(let a=0;a<i.length;a++){const o=i[a];(0,n[a])({dataModel:t,processedData:{...e,data:e.data.filter((t=>{var e;let{validScopes:i}=t;return null===(e=null===i||void 0===i?void 0:i.has(o))||void 0===e||e}))}})}}static groupMatch(t){let{data:e,opts:i}=t;function n(t){return t.filter((t=>"key"===t.type)).map((t=>t.property)).join(";")}return t=>{let[a]=t;return(!1===i.groupByData||a.data===e)&&a.opts.groupByKeys===i.groupByKeys&&a.opts.groupByFn===i.groupByFn&&n(a.opts.props)===n(i.props)}}static mergeRequests(e){return e.reduce(((e,i)=>{var n,a;let{id:o,data:r,resolve:s,reject:l,opts:{props:c,...u}}=i;e.ids.push(o),e.rejects.push(l),e.resolves.push(s),null!==(n=e.data)&&void 0!==n||(e.data=r),null!==(a=e.opts)&&void 0!==a||(e.opts={...u,props:[]});for(const g of c){var d,h,p;const i={...g,scopes:[o]};t.createIdsMap(o,i);const n=e.opts.props.find((e=>e.type===i.type&&t.deepEqual(e,i)));n?(null!==(d=n.scopes)&&void 0!==d||(n.scopes=[]),n.scopes.push(...null!==(h=i.scopes)&&void 0!==h?h:[]),"key"!==n.type&&"value"!==n.type||null===(p=i.idsMap)||void 0===p||!p.size||t.mergeIdsMap(i.idsMap,n.idsMap)):e.opts.props.push(i)}return e}),{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,e){for(const[i,n]of t)if(e.has(i))for(const t of n)e.get(i).add(t);else e.set(i,new Set(n))}static createIdsMap(t,e){var i;null!=e.id&&(null!==(i=e.idsMap)&&void 0!==i||(e.idsMap=new Map),e.idsMap.has(t)?e.idsMap.get(t).add(e.id):e.idsMap.set(t,new Set([e.id])))}static deepEqual(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;let n,a;if(Array.isArray(e)){if(a=e.length,a!==i.length)return!1;for(n=a-1;n>=0;n--)if(!t.deepEqual(e[n],i[n]))return!1;return!0}const o=Object.keys(e);if(a=o.length,a!==Object.keys(i).length)return!1;for(n=a-1;n>=0;n--){const a=o[n];if(!t.skipKeys.has(a)&&(!Object.hasOwn(i,a)||!t.deepEqual(e[a],i[a])))return!1}return!0}return!1}};Du.skipKeys=new Set(["id","idsMap","type","scopes"]);var Lu=Du,Cu=new class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.instanceConstructor),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate),e.hidden&&this.hidden.add(t)}create(t,e){const i=this.axesMap.get(t);if(i)return new i(e);throw new Error("AG Charts - unknown axis type: ".concat(t))}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter((t=>!this.hidden.has(t)))}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},Iu=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function Nu(t){var e;return null===(e=Iu.find((e=>"series"===e.type&&e.identifier===t)))||void 0===e?void 0:e.chartTypes}function Eu(t){if(!function(t){return"enterprise"===t.packageType}(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=Iu.find((e=>e.type===t.type&&e.optionsKey===t.optionsKey&&e.identifier===t.identifier&&t.chartTypes.every((t=>e.chartTypes.includes(t)))));var i;e&&(null!==(i=e.useCount)&&void 0!==i||(e.useCount=0),e.useCount++);return null!=e}var Tu=new class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,e){let{optionsKey:i,instanceConstructor:n,themeTemplate:a}=e;this.legendMap.set(t,{optionsKey:i,instanceConstructor:n}),this.themeTemplates.set(i,a)}create(t,e){var i;const n=null===(i=this.legendMap.get(t))||void 0===i?void 0:i.instanceConstructor;if(n)return new n(e);throw new Error("AG Charts - unknown legend type: ".concat(t))}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce(((t,e)=>{let[i,n]=e;return t[i]=n.optionsKey,t}),{})}},Au={isEnterprise:!1},Ru=class extends Map{get(t){var e;return null!==(e=super.get(t))&&void 0!==e?e:"unknown"}isCartesian(t){return"cartesian"===this.get(t)}isPolar(t){return"polar"===this.get(t)}isHierarchy(t){return"hierarchy"===this.get(t)}isTopology(t){return"topology"===this.get(t)}isFlowProportion(t){return"flow-proportion"===this.get(t)}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter((t=>this.isCartesian(t)))}get polarTypes(){return this.seriesTypes.filter((t=>this.isPolar(t)))}get hierarchyTypes(){return this.seriesTypes.filter((t=>this.isHierarchy(t)))}get topologyTypes(){return this.seriesTypes.filter((t=>this.isTopology(t)))}get flowProportionTypes(){return this.seriesTypes.filter((t=>this.isFlowProportion(t)))}},Ou=class extends Map{set(t,e){return super.set(t,fn(e,this.get(t)))}},Pu=new Ru,Bu=new Ru,zu=new Ou,_u=new class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,e){let{chartTypes:[i],instanceConstructor:n,tooltipDefaults:a,defaultAxes:o,themeTemplate:r,enterpriseThemeTemplate:s,paletteFactory:l,solo:c,stackable:u,groupable:d,stackedByDefault:h,swapDefaultAxesCondition:p,hidden:g}=e;this.setThemeTemplate(t,r,s),this.seriesMap.set(t,{instanceConstructor:n,tooltipDefaults:a,defaultAxes:o,paletteFactory:l,solo:c,stackable:u,groupable:d,stackedByDefault:h,swapDefaultAxesCondition:p}),Pu.set(t,i),g||Bu.set(t,i)}create(t,e){var i;const n=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.instanceConstructor;if(n)return new n(e);throw new Error("AG Charts - unknown series type: ".concat(t))}cloneDefaultAxes(t){var e;const i=null===(e=this.seriesMap.get(t))||void 0===e?void 0:e.defaultAxes;return i?{axes:In(i)}:null}setThemeTemplate(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.themeTemplates.get(t);this.themeTemplates.set(t,{community:fn(e,null===n||void 0===n?void 0:n.community),enterprise:fn(i,e,null===n||void 0===n?void 0:n.community)})}getThemeTemplate(t){const e=this.themeTemplates.get(t);return Au.isEnterprise?null===e||void 0===e?void 0:e.enterprise:null===e||void 0===e?void 0:e.community}getPaletteFactory(t){var e;return null===(e=this.seriesMap.get(t))||void 0===e?void 0:e.paletteFactory}getTooltipDefauls(t){var e;return null===(e=this.seriesMap.get(t))||void 0===e?void 0:e.tooltipDefaults}isSolo(t){var e,i;return null!==(e=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.solo)&&void 0!==e&&e}isGroupable(t){var e,i;return null!==(e=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.groupable)&&void 0!==e&&e}isStackable(t){var e,i;return null!==(e=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.stackable)&&void 0!==e&&e}isStackedByDefault(t){var e,i;return null!==(e=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.stackedByDefault)&&void 0!==e&&e}isDefaultAxisSwapNeeded(t){let e;for(const r of null!==(i=t.series)&&void 0!==i?i:[]){var i,n,a,o;const{type:t="line"}=r,s=null===(n=this.seriesMap.get(t))||void 0===n||null===(a=(o=n).swapDefaultAxesCondition)||void 0===a?void 0:a.call(o,r);if(null!=s){if(null!=e&&e!=s)throw new Error("AG Charts - The provided series have incompatible directions");e=s}}return e}},Fu=class t extends Zs{constructor(t){super(),this.chart=t}subscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP,i=this.get(e);return i||(i=new Set,t.chartsGroups.set(e,i)),i.add(this.chart),this}unsubscribe(){var e;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;return null===(e=this.get(i))||void 0===e||e.delete(this.chart),this}getChart(){return this.chart}getGroup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;const i=this.get(e);return i?Array.from(i):[]}getGroupSiblings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;return this.getGroup(e).filter((t=>t!==this.chart))}get(e){return t.chartsGroups.get(e)}};Fu.chartsGroups=new Map,Fu.DEFAULT_GROUP=Symbol("sync-group-default");var Gu=Fu,ju=class extends Zs{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new Vc(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(t){const e=new Map(t.map((t=>[t.id,this.axisZoomManagers.get(t.id)])));this.axisZoomManagers.clear();for(const n of t){var i;this.axisZoomManagers.set(n.id,null!==(i=e.get(n.id))&&void 0!==i?i:new Vu(n))}this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;if(n&&this.rejectCallbacks.set(t,n),0!==this.axisZoomManagers.size)this.state.set(t,e),this.axisZoomManagers.forEach((i=>{i.updateZoom(t,null===e||void 0===e?void 0:e[i.getDirection()])})),this.applyChanges(t);else{const o=this.state.stateId();var a;"initial"===o||o===t||i?(this.state.set(t,e),o!==t&&(null===(a=this.rejectCallbacks.get(o))||void 0===a||a(t))):null===n||void 0===n||n(o)}}updateAxisZoom(t,e,i){var n;null===(n=this.axisZoomManagers.get(e))||void 0===n||n.updateZoom(t,i),this.applyChanges(t)}fireZoomPanStartEvent(t){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:t})}getZoom(){let t,e;if(this.axisZoomManagers.forEach((i=>{var n;if("x"===i.getDirection())null!==(n=t)&&void 0!==n||(t=i.getZoom());else if("y"===i.getDirection()){var a;null!==(a=e)&&void 0!==a||(e=i.getZoom())}})),t||e)return{x:t,y:e}}getAxisZoom(t){var e,i;return null!==(e=null===(i=this.axisZoomManagers.get(t))||void 0===i?void 0:i.getZoom())&&void 0!==e?e:{min:0,max:1}}getAxisZooms(){const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]={direction:i.getDirection(),zoom:i.getZoom()};return t}applyChanges(t){if(!Array.from(this.axisZoomManagers.values(),(t=>t.applyChanges())).some(Boolean))return;const e={};for(const[i,n]of this.axisZoomManagers.entries())e[i]=n.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:e,callerId:t})}},Vu=class{constructor(t){this.axis=t;const[e=0,i=1]=t.visibleRange;this.state=new Vc({min:e,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return In(this.state.stateValue())}applyChanges(){const t=this.currentZoom;return this.currentZoom=this.state.stateValue(),t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},Wu=class extends wn{constructor(){super(...arguments),this.enabled=!1}};function Uu(t,e){var i;const{bounds:n,showFocusBox:a}=e;a&&(null===t||void 0===t||t.updateBounds(n));const{x:o,y:r}=null!==(i=function(t){var e;return t instanceof Li?t.computeCenter():null===t||void 0===t||null===(e=t.computeTransformedBBox())||void 0===e?void 0:e.computeCenter()}(n))&&void 0!==i?i:{};if(void 0!==o&&void 0!==r)return{type:"keyboard",offsetX:o,offsetY:r}}ce([pa(ba)],Wu.prototype,"enabled",2),ce([pa(Sa)],Wu.prototype,"tabIndex",2);var Ku=["top","right","bottom","left"];var Yu=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo","stacked","grouped","stackGroup"];function Hu(t){var e,i;return null!==(e=null===(i=t.series)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.type)&&void 0!==e?e:"line"}function Zu(t){const e=Hu(t);return null==e||("cartesian"===e?(ye.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):Pu.isCartesian(e)||function(t){var e;return"cartesian"===(null===(e=Nu(t))||void 0===e?void 0:e.find((t=>"cartesian"===t)))}(e))}function Xu(t){const e=Hu(t);return null!=e&&("polar"===e?(ye.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):Pu.isPolar(e)||function(t){var e;return"polar"===(null===(e=Nu(t))||void 0===e?void 0:e.find((t=>"polar"===t)))}(e))}function qu(t){const e=Hu(t);return null!=e&&("hierarchy"===e?(ye.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):Pu.isHierarchy(e)||function(t){var e;return"hierarchy"===(null===(e=Nu(t))||void 0===e?void 0:e.find((t=>"hierarchy"===t)))}(e))}function Qu(t){const e=Hu(t);return null!=e&&("topology"===e?(ye.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):Pu.isTopology(e)||function(t){var e;return"topology"===(null===(e=Nu(t))||void 0===e?void 0:e.find((t=>"topology"===t)))}(e))}function Ju(t){const e=Hu(t);return null!=e&&("flow-proportion"===e?(ye.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):Pu.isFlowProportion(e)||function(t){var e;return"flow-proportion"===(null===(e=Nu(t))||void 0===e?void 0:e.find((t=>"flow-proportion"===t)))}(e))}var $u=class extends os{applyOptions(t){for(const e of this.moduleMap.values())e.module.optionsKey in t&&Dn(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(const{module:t,moduleInstance:e}of this.moduleMap.values())"legend"===t.type&&(yield{legendType:t.identifier,legend:e})}},td="ag-chart-overlay",ed="ag-chart-dark-overlay",id=class extends wn{constructor(t,e){super(),this.className=t,this.defaultMessageId=e}getText(t){var e;return t.t(null!==(e=this.text)&&void 0!==e?e:this.defaultMessageId)}getElement(t,e,i){var n;if(null===(n=this.content)||void 0===n||n.remove(),this.focusBox=i,this.renderer){const t=this.renderer();this.content=ps("div"),t instanceof HTMLElement?this.content.replaceChildren(t):this.content.innerHTML=t}else{const i=ps("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});i.innerText=this.getText(e),this.content=i,null===t||void 0===t||t.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(t){i.style.opacity=String(t)},onStop(){i.style.opacity="1"}})}return this.content}removeElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{var t;return null===(t=this.content)||void 0===t?void 0:t.remove()},e=arguments.length>1?arguments[1]:void 0;if(this.content){if(e){const{content:i}=this;e.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){i.style.opacity=String(t)},onStop(){null===t||void 0===t||t()}})}else null===t||void 0===t||t();this.content=void 0,this.focusBox=void 0}}};ce([pa(ka,{optional:!0})],id.prototype,"text",2),ce([pa(xa,{optional:!0})],id.prototype,"renderer",2);var nd=class extends wn{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new id("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new id("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new id("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(t){for(const e of[this.loading,this.noData,this.noVisibleSeries])if(void 0!==e.focusBox)return{text:e.getText(t),rect:e.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};function ad(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];for(const i of t)"number"===typeof i&&(i<0&&(e[0]+=i),i>0&&(e[1]+=i));return e}function od(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:t=>ad(t)}}function rd(t,e){return{id:t,type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:t=>ad(t),groupAggregateFunction:function(t){var e,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return n[0]+=null!==(e=null===t||void 0===t?void 0:t[0])&&void 0!==e?e:0,n[1]+=null!==(i=null===t||void 0===t?void 0:t[1])&&void 0!==i?i:0,n}}}function sd(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:t=>mu.extendDomain(t)}}function ld(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:function(t){var e,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return n[0]+=null!==(e=null===t||void 0===t?void 0:t[0])&&void 0!==e?e:0,n[1]+=null!==(i=null===t||void 0===t?void 0:t[1])&&void 0!==i?i:0,n}}}function cd(t,e){const i={id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:t=>ad(t),groupAggregateFunction:function(t){var e,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,-1];return n[0]+=null!==(e=null===t||void 0===t?void 0:t[0])&&void 0!==e?e:0,n[1]+=null!==(i=null===t||void 0===t?void 0:t[1])&&void 0!==i?i:0,n[2]++,n},finalFunction:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];const e=t[0]+t[1];return e>=0?[0,e/t[2]]:[e/t[2],0]}};return i}function ud(t,e,i){const n={id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=i[1]-i[0];return e.aggregateFunction(t).map((t=>t/n))}};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function dd(t){return()=>{let e=0;return i=>cn(i)?(e+=t?Math.max(0,i):i,e):i}}function hd(){return()=>{let t=0;return e=>{if(!cn(e))return e;const i=t;return t+=e,i}}}ce([pa(ba)],nd.prototype,"darkTheme",2),ce([pa(ya)],nd.prototype,"loading",2),ce([pa(ya)],nd.prototype,"noData",2),ce([pa(ya)],nd.prototype,"noVisibleSeries",2);var pd={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-t);return t=i,!isNaN(n)&&n>0&&n<e?n:e}}},gd={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-t);return t=i,!isNaN(n)&&n>0&&n>e?n:e}}},fd={type:"processor",property:"sortedGroupDomain",calculate:t=>{let{domain:{groups:e}}=t;return null===e||void 0===e?void 0:e.slice().sort(((t,e)=>{for(let i=0;i<t.length;i++){const n=t[i]-e[i];if(0!==n)return n}return 0}))}};function md(t){let{normaliseTo:e,mode:i}=t;const n=(t,i)=>{const n=t*e/i;return n>=0?Math.min(e,n):Math.max(-e,n)};return()=>()=>(t,e)=>{const a=[0,0];for(const n of e){const e=t[n],o=e<0?0:1;"sum"===i?a[o]+=e:a[o]=0===o?Math.min(a[o],e):Math.max(a[o],e)}const o=Math.max(Math.abs(a[0]),a[1]);for(const i of e)t[i]=n(t[i],o)}}function yd(t,e){return{type:"group-value-processor",matchGroupIds:t,adjust:wr({normaliseTo:e,mode:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sum"},md)}}function vd(t){let{normaliseTo:e,zeroDomain:i,rangeMin:n,rangeMax:a}=t;const o=e[1]-e[0],r=(t,n,a)=>{const r=e[0]+(t-n)/a*o;return 0===a?i:r>=e[1]?e[1]:r<e[0]?e[0]:r};return()=>(t,i)=>{let[o,s]=t.domain.values[i];null!=n&&(o=n),null!=a&&(s=a);const l=s-o;t.domain.values[i]=[e[0],e[1]];for(const e of t.data){let n=e.values;"ungrouped"===t.type&&(n=[n]);for(const t of n)t[i]=r(t[i],o,l)}}}function bd(t,e,i,n,a){return{type:"property-value-processor",property:t,adjust:wr({normaliseTo:e,rangeMin:n,rangeMax:a,zeroDomain:i},vd)}}function xd(t){return{type:"processor",property:"animationValidation",calculate(e){const{keys:i,values:n}=e.defs,{input:a,data:o}=e;let r=!0,s=!0;const l=[];for(let u=0;u<n.length;u++)null!==t&&void 0!==t&&t.includes(n[u].id)&&l.push([u,n[u]]);const c=(t,i,n)=>{var l;if("category"===i.valueType){const i=e.domain[n][t];return void(r&&(r=i.length===a.count))}let c=null===(l=o[0])||void 0===l?void 0:l[n][t];for(let e=1;(r||s)&&e<o.length;e++){const i=o[e][n][t];s&&(s=c<=i),r&&(r=c!==i),c=i}};for(let t=0;(r||s)&&t<i.length;t++)c(t,i[t],"keys");for(let t=0;(r||s)&&t<l.length;t++){const[e,i]=l[t];c(e,i,"values")}return{uniqueKeys:r,orderedKeys:s}}}}function kd(t){let{mode:e,separateNegative:i}=t;return()=>()=>(t,n)=>{const a=[0,0];for(const o of n){const n=t[o],r=vi(n)&&i?0:1;cn(n)&&("normal"===e&&(a[r]+=n),t[o]=a[r],"trailing"===e&&(a[r]+=n))}}}function Sd(t){let{mode:e,sum:i}=t;return()=>{const t=[];let n=!0;return()=>(a,o)=>{let r=0;for(const s of o){const o=a[s],l=n&&"current"===i?0:t[s];t[s]=o;const c="current"===i?o:l;cn(o)&&cn(l)?("normal"===e&&(r+=c),a[s]=r,"trailing"===e&&(r+=c)):a[s]=r}n=!1}}}function wd(t,e,i){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.startsWith("window")){n=wr({mode:e.endsWith("-trailing")?"trailing":"normal",sum:i},Sd)}else n=wr({mode:e,separateNegative:a},kd);return{type:"group-value-processor",matchGroupIds:[t],adjust:n}}function Md(t){let{separateNegative:e}=t;return()=>()=>(t,i)=>{const n=[!0,!0];for(const a of i){const i=t[a],o=vi(i)&&e?0:1;n[o]&&(n[o]=cn(i)),t[a]=n[o]}}}function Dd(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:wr({separateNegative:arguments.length>1&&void 0!==arguments[1]&&arguments[1]},Md)}}function Ld(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"processor",property:"diff",calculate:i=>{const n=new Map,a=new Map,o=new Map,r=new Map,s=Math.max(t.data.length,i.data.length);for(let l=0;l<s;l++){const s=t.data[l],c=i.data[l],u=s?Cd(s.keys):"",d=c?Cd(c.keys):"";c&&s&&u===d?xo(s.values,c.values)||o.set(d,c):(r.has(d)?(!e&&xo(r.get(d).values,c.values)||(o.set(d,c),n.set(d,c)),r.delete(d)):c&&a.set(d,c),a.has(u)?(!e&&xo(a.get(u).values,s.values)||(o.set(u,s),n.set(u,s)),a.delete(u)):s&&(o.delete(u),r.set(u,s)))}return{changed:a.size>0||o.size>0||r.size>0,added:a,updated:o,removed:r,moved:n}}}}function Cd(t){let e;e=Qi(t)?t.map((t=>Fr(t))).join("___"):Fr(t);const i="string"===typeof e||"number"===typeof e||e instanceof Date;for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return i&&a.length>0&&(e+="___".concat(a.join("___"))),e}var Id=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE",t))(Id||{});function Nd(t){return null!=t&&zr(t)}function Ed(t){return null!=t}function Td(t){switch(t){case"number":case"log":case"ordinal-time":case"time":case"color":return Nd;default:return Ed}}function Ad(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Rd(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:t,type:"key",valueType:Ad(e),validation:Td(e),...i}}function Od(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:t,type:"value",valueType:Ad(e),validation:Td(e),...i}}function Pd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{min:i=-1/0,max:n=1/0,...a}=e;return{type:"value",property:t,valueType:"range",validation:Nd,processor:()=>t=>cn(t)?pi(i,t,n):t,...a}}function Bd(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onlyPositive:n,...a}=i;return{...Od(t,e,a),processor:dd(n)}}function zd(t,e){return{...Od(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),processor:hd()}}function _d(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",n=arguments.length>3?arguments[3]:void 0;return[Od(t,arguments.length>4?arguments[4]:void 0,n),wd(n.groupId,e,i,n.separateNegative),...null!=n.rangeId?[sd(n.rangeId,n.groupId)]:[]]}function Fd(t,e,i){return[Od(t,i,e),Dd(e.groupId,e.separateNegative)]}var Gd=class{constructor(t,e,i,n){let{datum:a}=i;this.type=t,this.event=e,this.datum=a,this.seriesId=n.id}},jd=class{constructor(t,e,i){this.series=t,this.seriesGrouping=e,this.oldGrouping=i,this.type="groupingChanged"}},Vd=class extends Zl{constructor(t){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=Gd,this.internalId=si(this),this.rootGroup=new ar({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new os,this._declarationOrder=-1,this.seriesListeners=new Hs;const{moduleCtx:e,pickModes:i=[1],directionKeys:n={},directionNames:a={},contentGroupVirtual:o=!0,canHaveAxes:r=!1}=t;this.ctx=e,this.directionKeys=n,this.directionNames=a,this.canHaveAxes=r,this.contentGroup=this.rootGroup.appendChild(new ar({name:"".concat(this.internalId,"-content"),isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new ar({name:"".concat(this.internalId,"-highlight"),isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new ar({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new ar({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new ar({name:"".concat(this.internalId,"-series-labels"),zIndex:8})),this.annotationGroup=new ar({name:"".concat(this.id,"-annotation"),isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var t,e;return null!==(t=null===(e=this.properties)||void 0===e?void 0:e.id)&&void 0!==t?t:this.internalId}get type(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""}get data(){var t;return null!==(t=this._data)&&void 0!==t?t:this._chartData}set visible(t){this.properties.visible=t,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return null!=this.data&&this.data.length>0}get tooltipEnabled(){var t,e;return null!==(t=null===(e=this.properties.tooltip)||void 0===e?void 0:e.enabled)&&void 0!==t&&t}onDataChange(){this.nodeDataRefresh=!0}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,e){const{internalId:i,type:n,visible:a}=this;t&&this.ctx.seriesStateManager.deregisterSeries({id:i,type:n}),e&&this.ctx.seriesStateManager.registerSeries({id:i,type:n,visible:a,seriesGrouping:e}),this.fireEvent(new jd(this,e,t))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;switch(t){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":e+=15e3;break;case"annotation":i+=15e3}return[()=>this._declarationOrder+i,e]}addListener(t,e){return this.seriesListeners.addListener(t,e)}dispatch(t,e){this.seriesListeners.dispatch(t,e)}addChartEventListeners(){}destroy(){this.destroyFns.forEach((t=>t())),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,e){const i=this.resolveKeyDirection(t),n=null===e||void 0===e?void 0:e[i],a=[];if(!n)return a;const o=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e)Array.isArray(n)?o(...n):"object"===typeof n?o(...Object.values(n)):a.push(n)};return o(...n.map((t=>this.properties[t]))),a}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){var e;return null!==(e=this.directionKeys[this.resolveKeyDirection(t)])&&void 0!==e?e:[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){const e=this.getSeriesDomain(t),i=this.moduleMap.mapModules((e=>e.getDomain(t)));return e.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||1===t)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return t}}getStrokeWidth(t){const{strokeWidth:e,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||void 0===e)return t;switch(this.isItemIdHighlighted()){case 1:return e;case 0:case 2:return t}}isItemIdHighlighted(){var t;const e=null===(t=this.ctx.highlightManager)||void 0===t||null===(t=t.getActiveHighlight())||void 0===t?void 0:t.series;return null==e?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules((t=>t.getTooltipParams())).reduce(((t,e)=>Object.assign(t,e)),{})}pickNode(t,e){const{pickModes:i,visible:n,rootGroup:a}=this;if(n&&a.visible)for(const o of i){if(e&&!e.includes(o))continue;let i;switch(o){case 0:i=this.pickNodeExactShape(t);break;case 1:case 2:i=this.pickNodeMainAxisFirst(t,2===o);break;case 3:i=this.pickNodeClosestDatum(t)}if(i)return{pickMode:o,match:i.datum,distance:i.distance}}}pickNodeExactShape(t){const e=this.contentGroup.pickNode(t.x,t.y);if(e&&!0!==e.datum.missing)return{datum:e.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,e){const i=di(t.x,t.y,e);if(void 0!==i.nearest&&!0!==i.nearest.datum.missing)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeClick",t,e,this))}fireNodeDoubleClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,e,this))}createNodeContextMenuActionEvent(t,e){return new this.NodeEvent("nodeContextMenuAction",t,e,this)}toggleSeriesItem(t,e){this.visible=e,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:t,enabled:e})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String;var n;return t.formatter&&null!==(n=this.ctx.callbackCache.call(t.formatter,{seriesId:this.id,...e}))&&void 0!==n?n:i(e.value)}getMarkerStyle(t,e){var i,n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getStyle();const o=fn({size:null!==(i=null===(n=e.datum.point)||void 0===n?void 0:n.size)&&void 0!==i?i:0},a);if(t.itemStyler){return fn(this.ctx.callbackCache.call(t.itemStyler,{seriesId:this.id,...o,...e,datum:e.datum.datum}),o)}return o}updateMarkerStyle(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.getStyle(),{applyTranslation:a=!0}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{point:o}=i.datum,r=this.getMarkerStyle(e,i,n),s=this.visible&&r.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);a?t.setProperties({visible:s,...r,translationX:null===o||void 0===o?void 0:o.x,translationY:null===o||void 0===o?void 0:o.y}):t.setProperties({visible:s,...r}),"function"!==typeof e.shape||t.dirtyPath||(t.path.clear(!0),t.updatePath(),t.checkPathDirty())}getMinRects(t,e){}get nodeDataDependencies(){var t;return null!==(t=this._nodeDataDependencies)&&void 0!==t?t:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){const{width:e,height:i}=null!==t&&void 0!==t?t:{width:NaN,height:NaN},n=t?{seriesRectWidth:e,seriesRectHeight:i}:void 0,a=null!=Cn(this.nodeDataDependencies,n);return a&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),a}pickFocus(t){}};Vd.highlightedZIndex=1e12,ce([Rs({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],Vd.prototype,"seriesGrouping",2);var Wd=class{constructor(t,e,i){this.seriesRoot=t,this.highlightRoot=e,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){var e,i,n;const{internalId:a,type:o,rootGroup:r,highlightGroup:s,annotationGroup:l,seriesGrouping:c}=t,{groupIndex:u=a}=null!==c&&void 0!==c?c:{};if(null!=this.series[a])throw new Error("AG Charts - series already has an allocated layer: ".concat(this.series[a]));0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),null!==(e=(i=this.groups)[o])&&void 0!==e||(i[o]={});const d=this.lookupIdx(u);let h=this.groups[o][d];var p;h||(h=null!==(p=(n=this.groups[o])[d])&&void 0!==p?p:n[d]={type:o,id:d,seriesIds:[],group:this.seriesRoot.appendChild(new ar({name:"".concat(o,"-content"),layer:!0,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new ar({name:"".concat(o,"-highlight"),zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new ar({name:"".concat(o,"-annotation"),zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}))});return this.series[a]={layerState:h,seriesConfig:t},h.seriesIds.push(a),h.group.appendChild(r),h.highlight.appendChild(s),h.annotation.appendChild(l),h.group}changeGroup(t){var e;const{internalId:i,seriesGrouping:n,type:a,rootGroup:o,highlightGroup:r,annotationGroup:s,oldGrouping:l}=t,{groupIndex:c=i}=null!==n&&void 0!==n?n:{};null!==(e=this.groups[a])&&void 0!==e&&null!==(e=e[c])&&void 0!==e&&e.seriesIds.includes(i)||(null!=this.series[i]&&this.releaseGroup({internalId:i,seriesGrouping:l,type:a,rootGroup:o,highlightGroup:r,annotationGroup:s}),this.requestGroup(t))}releaseGroup(t){var e;const{internalId:i,rootGroup:n,highlightGroup:a,annotationGroup:o,type:r}=t;if(null==this.series[i])throw new Error("AG Charts - series doesn't have an allocated layer: ".concat(i));const s=null===(e=this.series[i])||void 0===e?void 0:e.layerState;if(s&&(s.seriesIds=s.seriesIds.filter((t=>t!==i)),s.group.removeChild(n),s.highlight.removeChild(a),s.annotation.removeChild(o)),0===(null===s||void 0===s?void 0:s.seriesIds.length))this.seriesRoot.removeChild(s.group),this.highlightRoot.removeChild(s.highlight),this.annotationRoot.removeChild(s.annotation),delete this.groups[s.type][s.id],delete this.groups[r][i];else if((null===s||void 0===s?void 0:s.seriesIds.length)>0){var l,c;const t=null===(l=this.series[null===s||void 0===s||null===(c=s.seriesIds)||void 0===c?void 0:c[0]])||void 0===l?void 0:l.seriesConfig;s.group.zIndexSubOrder=null===t||void 0===t?void 0:t.getGroupZIndexSubOrder("data"),s.highlight.zIndexSubOrder=null===t||void 0===t?void 0:t.getGroupZIndexSubOrder("highlight"),s.annotation.zIndexSubOrder=null===t||void 0===t?void 0:t.getGroupZIndexSubOrder("annotation")}delete this.series[i]}lookupIdx(t){return"normal"===this.mode?t:"string"!==typeof t||(t=Number(t.split("-").at(-1)))?Math.floor(30*pi(0,t/this.expectedSeriesCount,1)):0}destroy(){for(const t of Object.values(this.groups))for(const e of Object.values(t))this.seriesRoot.removeChild(e.group),this.highlightRoot.removeChild(e.highlight),this.annotationRoot.removeChild(e.annotation);this.groups={},this.series={}}},Ud=class{constructor(t,e){this.chartLike=t,this.layoutService=e,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("start-layout",(t=>this.positionPadding(t))),this.layoutService.addListener("layout-complete",(t=>this.alignCaptions(t))),this.layoutService.addListener("start-layout",(t=>this.positionCaptions(t))))}destroy(){this.destroyFns.forEach((t=>t()))}positionPadding(t){const{shrinkRect:e}=t,{padding:i}=this.chartLike;return e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),{...t,shrinkRect:e}}positionCaptions(t){const{shrinkRect:e,positions:i,padding:n}=t,{title:a,subtitle:o,footnote:r,titlePadding:s}=this.chartLike,l=e.clone().shrink(s),c=e.clone(),u=t=>{var i;const n=e.height/10,a=null!==(i=t.lineHeight)&&void 0!==i?i:t.fontSize*Ir.defaultLineHeightRatio,o=e.width,r=Math.max(a,n);t.computeTextWrap(o,r)},d=t=>"left"===t?l.x:"right"===t?l.x+l.width:("center"!==t&&ye.error("invalid textAlign value: ".concat(t)),l.x+l.width/2),h=(t,e)=>{const i=l.y;t.node.x=d(t.textAlign),t.node.y=i,t.node.textBaseline="top",u(t);const n=t.node.computeBBox(),a=Math.ceil(n.y-i+n.height+e);return"block"===t.layoutStyle&&(c.shrink(a+2*s,"top"),l.shrink(a,"top")),n};if(a.node.visible=a.enabled,o.node.visible=o.enabled,r.node.visible=r.enabled,a.enabled){const{spacing:t=(o.enabled?Ys.SMALL_PADDING:Ys.LARGE_PADDING)}=a;i.title=h(a,t)}var p,g;o.enabled&&(i.subtitle=h(o,null!==(p=o.spacing)&&void 0!==p?p:0));r.enabled&&(i.footnote=((t,e)=>{const i=l.y+l.height;t.node.x=d(t.textAlign),t.node.y=i,t.node.textBaseline="bottom",u(t);const n=t.node.computeBBox(),a=Math.ceil(i-n.y+e);return"block"===t.layoutStyle&&(c.shrink(a+2*s,"bottom"),l.shrink(a,"bottom")),n})(r,null!==(g=r.spacing)&&void 0!==g?g:0));return n.title=s,{...t,shrinkRect:c,positions:i}}alignCaptions(t){const{title:e,subtitle:i,footnote:n,titlePadding:a}=this.chartLike,o=(t,e)=>{if("overlay"===t.layoutStyle)if("left"===t.textAlign)t.node.x=e.x+a;else if("right"===t.textAlign){const i=t.node.computeBBox();t.node.x=e.x+e.width-i.width-a}};o(e,t.series.rect),o(i,t.series.rect),o(n,t.series.rect)}},Kd=class{constructor(t,e,i,n){this.chart=t,this.dataService=e,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",(()=>this.onDataSourceChange())),this.dataService.addListener("data-load",(()=>this.onDataLoad())),this.dataService.addListener("data-error",(()=>this.onDataError())),this.updateService.addListener("update-complete",(()=>this.onUpdateComplete())),this.zoomManager.addListener("zoom-change",(()=>this.onZoomChange())))}destroy(){this.destroyFns.forEach((t=>t()))}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){(this.dirtyZoom||this.dirtyDataSource)&&this.updateWindow().catch((t=>ye.errorOnce(t)))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){var t,e;if(!this.dataService.isLazy())return;const i=this.getValidAxis();let n,a=!0;if(i){const t=this.zoomManager.getAxisZoom(i.id);n=this.getAxisWindow(i,t),a=this.shouldRefresh(i,t)}this.dirtyZoom=!1,this.dirtyDataSource=!1,a&&this.dataService.load({windowStart:null===(t=n)||void 0===t?void 0:t.min,windowEnd:null===(e=n)||void 0===e?void 0:e.max})}getValidAxis(){return this.chart.axes.find((t=>"time"===t.type))}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return(!i||e.min!==i.min||e.max!==i.max)&&(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){var i,n;const a=null===(i=(n=t.scale).getDomain)||void 0===i?void 0:i.call(n);if(!e||!a||0===a.length||isNaN(Number(a[0])))return;const o=Number(a[1])-Number(a[0]);return{min:new Date(Number(a[0])+o*e.min),max:new Date(Number(a[0])+o*e.max)}}},Yd=class{constructor(t,e,i,n,a,o,r){this.chartLike=t,this.overlays=e,this.dataService=i,this.layoutService=n,this.localeManager=a,this.animationManager=o,this.domManager=r,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(td),this.domManager.addStyles("overlays",".ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#ffffff}.ag-chart-overlay--loading{color:rgb(140,140,140)}.ag-chart-overlay__loading-background{background:white;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}"),this.destroyFns.push(this.layoutService.addListener("layout-complete",(t=>this.onLayoutComplete(t))))}destroy(){this.destroyFns.forEach((t=>t())),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete(t){let{series:{rect:e}}=t;const i=this.dataService.isLoading(),n=this.chartLike.series.some((t=>t.hasData)),a=this.chartLike.series.some((t=>t.visible));this.overlays.darkTheme?this.overlayElem.classList.add(ed):this.overlayElem.classList.remove(ed),this.overlayElem.style.left="".concat(e.x,"px"),this.overlayElem.style.top="".concat(e.y,"px"),this.overlayElem.style.width="".concat(e.width,"px"),this.overlayElem.style.height="".concat(e.height,"px"),this.toggleOverlay(this.overlays.loading,e,i),this.toggleOverlay(this.overlays.noData,e,!i&&!n),this.toggleOverlay(this.overlays.noVisibleSeries,e,n&&!a)}toggleOverlay(t,e,i){if(i){const i=t.getElement(this.animationManager,this.localeManager,e);this.overlayElem.appendChild(i)}else t.removeElement((()=>{this.overlayElem.innerText="\xa0"}),this.animationManager)}},Hd=bs.create(!0,"opts"),Zd=class extends wn{constructor(){super(...arguments),this.padding=new Xl(0)}};ce([pa(ba,{optional:!0})],Zd.prototype,"clip",2),ce([pa(ya)],Zd.prototype,"padding",2);var Xd=class t extends Zl{constructor(t,e){var i,n,a;super(),i=this,this.id=si(this),this.seriesRoot=new ar({name:"".concat(this.id,"-series-root")}),this.highlightRoot=new ar({name:"".concat(this.id,"-highlight-root"),layer:!0,zIndex:5,nonEmptyChildDerivedZIndex:!0}),this.annotationRoot=new ar({name:"".concat(this.id,"-annotation-root"),layer:!0,zIndex:10}),this.debug=bs.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Xl(20),this.titlePadding=0,this.seriesArea=new Zd,this.title=new Ys,this.subtitle=new Ys,this.footnote=new Ys,this.keyboard=new Wu,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.modulesManager=new $u,this.zoomManager=new ju,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Hl,this.updateRequestors={},this.performUpdateTrigger=ql((function(t){return setTimeout(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}),(async t=>{let{count:e}=t;this.destroyed||this.updateMutex.acquire((async()=>{try{await this.performUpdate(e)}catch(t){ye.error("update error",t)}})).catch((t=>ye.errorOnce(t)))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.focus={hasFocus:!1,series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.pointerScheduler=function(t){return ql(((t,e)=>requestAnimationFrame(t)),t)}((()=>{this.lastInteractionEvent&&(this.performUpdateType<=4?this.pointerScheduler.schedule():(this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0))})),this.onSeriesNodeClick=t=>{const e={...t,type:"seriesNodeClick"};Object.defineProperty(e,"series",{enumerable:!1,get:()=>t.series}),this.fireEvent(e)},this.onSeriesNodeDoubleClick=t=>{const e={...t,type:"seriesNodeDoubleClick"};this.fireEvent(e)},this.seriesGroupingChanged=t=>{if(!(t instanceof jd))return;const{series:e,seriesGrouping:i,oldGrouping:n}=t;null!=e.rootGroup.parent&&this.seriesLayerManager.changeGroup({internalId:e.internalId,type:e.type,rootGroup:e.rootGroup,highlightGroup:e.highlightGroup,annotationGroup:e.annotationGroup,getGroupZIndexSubOrder:t=>e.getGroupZIndexSubOrder(t),seriesGrouping:i,oldGrouping:n})},this.dataProcessListeners=new Set,this.chartOptions=t;const o=null===e||void 0===e?void 0:e.scene,r=null===e||void 0===e?void 0:e.container,s=new ar({name:"root"}),l=new ar({name:"titles",layer:!0,zIndex:8});s.visible=!1,s.append(l),s.append(this.seriesRoot),s.append(this.highlightRoot),s.append(this.annotationRoot),l.append(this.title.node),l.append(this.subtitle.node),l.append(this.footnote.node);const{overrideDevicePixelRatio:c}=t.specialOverrides;this.tooltip=new Ks,this.seriesLayerManager=new Wd(this.seriesRoot,this.highlightRoot,this.annotationRoot);const u=this.ctx=new pu(this,{scene:o,root:s,syncManager:new Gu(this),container:r,updateCallback:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return i.update(t,e)},updateMutex:this.updateMutex,overrideDevicePixelRatio:c});this._destroyFns.push(u.domManager.addListener("resize",(()=>this.parentResize(u.domManager.containerSize)))),this.overlays=new nd,null!==(n=(a=this.overlays.loading).renderer)&&void 0!==n||(a.renderer=()=>function(t,e){const{animationDuration:i}=Kn.add,n=i*e,a=ps("div","".concat(td,"--loading"),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:"ag-charts-loading ".concat(n,"ms linear 50ms both")}),o=ps("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),r=ps("p",{marginTop:"1em"});r.innerText=t;const s=ps("div","".concat(td,"__loading-background"),{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=ps("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),a.replaceChildren(l,o,r,s),a}(this.overlays.loading.getText(u.localeManager),u.animationManager.defaultDuration)),this.processors=[new Ud(this,u.layoutService),new Kd(this,u.dataService,u.updateService,u.zoomManager),new Yd(this,this.overlays,u.dataService,u.layoutService,u.localeManager,u.animationManager,u.domManager)],this.highlight=new gu,this.container=r;const{All:d}=nl,h=this.getModuleContext(),p=u.regionManager.addRegion("series",this.seriesRoot,this.ctx.axisManager.axisGridGroup),g=this.ctx.regionManager.addRegion("horizontal-axes"),f=this.ctx.regionManager.addRegion("vertical-axes");u.regionManager.addRegion("root",s),this._destroyFns.push(u.dataService.addListener("data-load",(t=>{this.data=t.data})),this.title.registerInteraction(h),this.subtitle.registerInteraction(h),this.footnote.registerInteraction(h),u.regionManager.listenAll("click",(t=>this.onClick(t))),u.regionManager.listenAll("dblclick",(t=>this.onDoubleClick(t))),p.addListener("hover",(t=>this.onMouseMove(t)),20),p.addListener("drag",(t=>this.onMouseMove(t)),20),g.addListener("hover",(t=>this.onMouseMove(t))),f.addListener("hover",(t=>this.onMouseMove(t))),p.addListener("leave",(t=>this.onLeave(t))),g.addListener("leave",(t=>this.onLeave(t))),f.addListener("leave",(t=>this.onLeave(t))),p.addListener("blur",(()=>this.onBlur())),p.addListener("tab",(t=>this.onTab(t))),p.addListener("nav-vert",(t=>this.onNavVert(t))),p.addListener("nav-hori",(t=>this.onNavHori(t))),p.addListener("submit",(t=>this.onSubmit(t))),p.addListener("contextmenu",(t=>this.onContextMenu(t)),d),u.keyNavManager.addListener("browserfocus",(t=>this.onBrowserFocus(t))),u.interactionManager.addListener("page-left",(()=>this.destroy())),u.animationManager.addListener("animation-start",(()=>this.onAnimationStart())),u.animationManager.addListener("animation-frame",(()=>{this.update(6)})),u.highlightManager.addListener("highlight-change",(t=>this.changeHighlightDatum(t))),u.zoomManager.addListener("zoom-pan-start",(()=>this.resetPointer())),u.zoomManager.addListener("zoom-change",(()=>{this.resetPointer(),this.ctx.focusIndicator.updateBounds(void 0),this.series.map((t=>{var e;return null===(e=t.animationState)||void 0===e?void 0:e.transition("updateData")}));const t="initial"!==this.chartAnimationPhase;this.update(3,{forceNodeDataRefresh:!0,skipAnimations:t})}))),this.parentResize(u.domManager.containerSize)}static getInstance(e){return t.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,e){this.ctx.scene.download(t,e)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}getOptions(){var t;return null!==(t=this.queuedUserOptions.at(-1))&&void 0!==t?t:this.chartOptions.userOptions}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter((t=>t.enabled&&t.text)).map((t=>t.text)).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length,caption:this.getCaptionText()})}getDatumAriaText(t,e){var i,n,a;const o=e.ariaLabel;return null!==(i=null===(n=(a=t.series).getDatumAriaText)||void 0===n?void 0:n.call(a,t,o))&&void 0!==i?i:o}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const e=null===t||void 0===t?void 0:t.keepTransferableResources;let i;return this.performUpdateType=7,this._destroyFns.forEach((t=>t())),this.processors.forEach((t=>t.destroy())),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),e?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach((t=>t.destroy())),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.zoomManager.destroy(),this.destroyed=!0,Object.freeze(this),i}resetPointer(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.ctx.tooltipManager.removeTooltip(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire((async()=>{this.destroyed||(await t(this),this.destroyed||this._pendingFactoryUpdatesCount--)})).catch((t=>ye.errorOnce(t))))}update(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;const{forceNodeDataRefresh:n=!1,skipAnimations:a,seriesToUpdate:o=this.series,newAnimationBatch:r}=null!==i&&void 0!==i?i:{};n&&this.series.forEach((t=>t.markNodeDataDirty()));for(const l of o)this.seriesToUpdate.add(l);if(a&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),r&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=null!==(t=null===i||void 0===i?void 0:i.skipSync)&&void 0!==t&&t,this.debug.check()){var s;let t=null!==(s=(new Error).stack)&&void 0!==s?s:"<unknown>";t=t.replace(/\([^)]*/g,""),this.updateRequestors[t]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.performUpdateTrigger.schedule(null===i||void 0===i?void 0:i.backOffMs))}async performUpdate(t){var e;const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:a,ctx:o}=this,r=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),0===this.updateShortcutCount&&i<6&&(o.animationManager.startBatch(this._performUpdateSkipAnimations),o.animationManager.onBatchStop((()=>this.chartAnimationPhase="ready"))),this.debug("Chart.performUpdate() - start",du[i]);let s=performance.now();null!==(e=a.start)&&void 0!==e||(a.start=s);const l=t=>{var e;null!==(e=a[t])&&void 0!==e||(a[t]=0),a[t]+=performance.now()-s,s=performance.now()};let c=!1;switch(i){case 0:this.updateDOM();case 1:await this.updateData(),l("\u2b07\ufe0f");case 2:await this.processData(),this.resetPointer(!0),l("\ud83c\udfed");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(r)){c=!0;break}await this.processLayout(),l("\u2316");case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:t}=this;await Promise.all(r.map((e=>e.update({seriesRect:t})))),l("\ud83e\udd14");case 5:if(this.checkUpdateShortcut(5))break;const e=o.tooltipManager.getTooltipMeta(this.id);i<=4&&null!=(null===e||void 0===e?void 0:e.lastPointerEvent)&&this.handlePointer(e.lastPointerEvent,!0),l("\u2196");case 6:if(this.checkUpdateShortcut(6))break;o.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,await o.scene.render({debugSplitTimes:a,extraDebugStats:n}),this.extraDebugStats={};for(const i in a)delete a[i];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,o.animationManager.endBatch()}c||o.updateService.dispatchUpdateComplete(this.getMinRects());const u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(u-a.start))/100,count:t,performUpdateType:du[i]})}updateThemeClassName(){const{theme:t}=this.chartOptions.processedOptions,e="ag-charts-theme-",i=["".concat(e,"default"),"".concat(e,"default-dark")];let n=i[0],a=!1;"string"===typeof t?(n=t.replace("ag-",e),a=t.includes("-dark")):"string"===typeof(null===t||void 0===t?void 0:t.baseTheme)&&(n=t.baseTheme.replace("ag-",e),a=t.baseTheme.includes("-dark")),i.includes(n)||(n=a?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:e}=this.keyboard;this.ctx.domManager.setTabIndex(t?null!==e&&void 0!==e?e:0:-1),zs(this.ctx.scene.canvas.element,"role","figure"),zs(this.ctx.scene.canvas.element,"aria-label",this.getAriaLabel())}checkUpdateShortcut(t){return this.updateShortcutCount>3?(ye.warn("exceeded the maximum number of simultaneous updates (".concat(4,"), discarding changes and rendering"),this.updateRequestors),!1):this.performUpdateType<=t&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(t){if(null!=this.width&&null!=this.height);else if(!this._lastAutoSize){const e=this._performUpdateNoRenderCount++,i=(e+1)**2*40;if(e<8)return this.update(3,{seriesToUpdate:t,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onAxisChange(t,e){null==e&&0===t.length||this.ctx.axisManager.updateAxes(null!==e&&void 0!==e?e:[],t)}onSeriesChange(t,e){var i,n;const a=null!==(i=null===e||void 0===e?void 0:e.filter((e=>!t.includes(e))))&&void 0!==i?i:[];this.destroySeries(a),null===(n=this.seriesLayerManager)||void 0===n||n.setSeriesCount(t.length);for(const o of t){if(null!==e&&void 0!==e&&e.includes(o))continue;null==o.rootGroup.parent&&this.seriesLayerManager.requestGroup(o);const t=this;o.chart={get mode(){return t.mode},get isMiniChart(){return!1},get seriesRect(){return t.seriesRect},placeLabels:()=>t.placeLabels()},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}}destroySeries(t){null===t||void 0===t||t.forEach((t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.removeEventListener("groupingChanged",this.seriesGroupingChanged),t.destroy(),this.seriesLayerManager.releaseGroup(t),t.chart=void 0}))}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach((t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)}))}assignSeriesToAxes(){this.axes.forEach((t=>{t.boundSeries=this.series.filter((e=>e.axes[t.direction]===t))}))}assignAxesToSeries(){const t=wo(this.axes,(t=>t.direction));this.series.forEach((e=>{e.directions.forEach((i=>{const n=t[i];if(!n)return void ye.warnOnce("no available axis for direction [".concat(i,"]; check series and axes configuration."));const a=e.getKeys(i),o=n.find((t=>!t.keys.length||a.some((e=>t.keys.includes(e)))));o?e.axes[i]=o:ye.warnOnce("no matching axis for direction [".concat(i,"] and keys [").concat(a,"]; check series and axes configuration."))}))}))}parentResize(t){var e;if(null==t||null!=this.width&&null!=this.height)return;let{width:i,height:n}=t;if(i=Math.floor(i),n=Math.floor(n),0===i&&0===n)return;const[a=0,o=0]=null!==(e=this._lastAutoSize)&&void 0!==e?e:[];a===i&&o===n||(this._lastAutoSize=[i,n],this.resize("SizeMonitor",{}))}resize(t,e){var i,n,a,o;const{scene:r,animationManager:s}=this.ctx,{inWidth:l,inHeight:c,inMinWidth:u,inMinHeight:d}=e;this.ctx.domManager.setSizeOptions(null!==u&&void 0!==u?u:this.minWidth,null!==d&&void 0!==d?d:this.minHeight,null!==l&&void 0!==l?l:this.width,null!==c&&void 0!==c?c:this.height);const h=null!==(i=null!==l&&void 0!==l?l:this.width)&&void 0!==i?i:null===(n=this._lastAutoSize)||void 0===n?void 0:n[0],p=null!==(a=null!==c&&void 0!==c?c:this.height)&&void 0!==a?a:null===(o=this._lastAutoSize)||void 0===o?void 0:o[1];if(this.debug("Chart.resize() from ".concat(t),{width:h,height:p,stack:(new Error).stack}),null!=h&&null!=p&&cn(h)&&cn(p)&&r.resize(h,p)){this.resetPointer(),s.reset();let t=!0;null!=this.width&&null!=this.height||!this._firstAutoSize||(t=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:t})}}async updateData(){this.series.forEach((t=>t.setChartData(this.data)));const t=this.modulesManager.mapModules((t=>{var e;return null===(e=t.updateData)||void 0===e?void 0:e.call(t,{data:this.data})}));await Promise.all(t)}async processData(){if(this.series.some((t=>t.canHaveAxes))){this.assignAxesToSeries();const t=this.modulesManager.getModule("sync");null!==t&&void 0!==t&&t.enabled?t.syncAxes(this._skipSync):this.assignSeriesToAxes()}const t=new Lu(this.mode),e=this.series.map((e=>e.processData(t))),i=this.modulesManager.mapModules((e=>{var i;return null===(i=e.processData)||void 0===i?void 0:i.call(e,{dataController:t})}));t.execute(),await Promise.all([...e,...i]);for(const{legendType:n,legend:a}of this.modulesManager.legends())a.data=this.getLegendData(n,"integrated"!==this.mode);this.dataProcessListeners.forEach((t=>t())),this.dataProcessListeners.clear()}placeLabels(){const t=[],e=[];for(const c of this.series){if(!c.visible)continue;const n=c.getLabelData();null!=(i=null===n||void 0===n?void 0:n[0])&&"object"===typeof i.point&&"object"===typeof i.label&&(e.push(n),t.push(c))}var i;const{seriesRect:n}=this,{top:a,right:o,bottom:r,left:s}=this.seriesArea.padding,l=n&&e.length>0?function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=[];t=t.map((t=>t.slice().sort(((t,e)=>e.point.size-t.point.size))));for(let u=0;u<t.length;u++){const d=n[u]=[],h=t[u];if(null!==h&&void 0!==h&&h.length&&h[0].label)for(let u=0,p=h.length;u<p;u++){var a,o;const p=h[u],{point:g,label:f,marker:m}=p,{text:y,width:v,height:b}=f,x=.5*g.size;let k=0,S=0;if(x>0&&null!=p.placement){const t=Cs[p.placement];k=(.5*v+x+i)*t.x,S=(.5*b+x+i)*t.y}const w=g.x-.5*v+k-((null!==(a=null===m||void 0===m?void 0:m.center.x)&&void 0!==a?a:.5)-.5)*g.size,M=g.y-.5*b+S-((null!==(o=null===m||void 0===m?void 0:m.center.y)&&void 0!==o?o:.5)-.5)*g.size;(!e||(l=M,c=b,(s=w)+v<(r=e).x+r.width&&s>r.x&&l>r.y&&l+c<r.y+r.height))&&(t.some((t=>t.some((t=>{var e;return Ds(t.point,null===(e=t.marker)||void 0===e?void 0:e.center,w,M,v,b)}))))||n.some((t=>t.some((t=>Ls(t,w,M,v,b)))))||d.push({index:u,text:y,x:w,y:M,width:v,height:b,datum:p}))}}var r,s,l,c;return n}(e,{x:-s,y:-a,width:n.width+s+o,height:n.height+a+r}):[];return new Map(l.map(((e,i)=>[t[i],e])))}getLegendData(t,e){var i;const n=this.series.filter((t=>t.properties.showInLegend)).flatMap((e=>e.getLegendData(t)));if(e&&n.every((t=>"category"===t.legendType))){const t={},e=new Map(this.series.map((t=>[t.id,t.type])));for(const{seriesId:r,symbols:[{marker:s}],label:l}of n){var a,o;if(null==s.fill)continue;const n=e.get(r),c=null!==(a=t[n])&&void 0!==a?a:t[n]={};null!==(o=c[i=l.text])&&void 0!==o||(c[i]=s.fill),c[l.text]!==s.fill&&ye.warnOnce("legend item '".concat(l.text,"' has multiple fill colors, this may cause unexpected behaviour."))}}return n}async processLayout(){var t;const e=this.animationRect;await this.performLayout(),!e||null!==(t=this.animationRect)&&void 0!==t&&t.equals(e)||this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async performLayout(){const{width:t,height:e}=this.ctx.scene;let i={shrinkRect:new Li(0,0,t,e),positions:{},padding:{}};i=this.ctx.layoutService.dispatchPerformLayout("start-layout",i),i=this.ctx.layoutService.dispatchPerformLayout("before-series",i);for(const n of this.modulesManager.modules())null!=n.performLayout&&(i=await n.performLayout(i));return i.shrinkRect}pickNode(t,e){var i;const n=performance.now(),a=[...e].reverse();let o;for(const{series:s,pickModes:l,maxDistance:c}of a){var r;if(!s.visible||!s.rootGroup.visible)continue;const{match:e,distance:i}=null!==(r=s.pickNode(t,l))&&void 0!==r?r:{};if(e&&null!=i&&((!o||o.distance>i)&&i<=(null!==c&&void 0!==c?c:1/0)&&(o={series:s,distance:i,datum:e}),0===i))break}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(i=this.extraDebugStats.pickSeriesNode)&&void 0!==i?i:0)+(performance.now()-n)),o}pickSeriesNode(t,e,i){const n=e?[0]:void 0;return this.pickNode(t,this.series.map((t=>({series:t,pickModes:n,maxDistance:i}))))}pickTooltip(t){return this.pickNode(t,this.series.map((t=>{const e=t.properties.tooltip.range;let i;i="exact"===e?[0]:void 0;return{series:t,pickModes:i,maxDistance:"number"===typeof e?e:void 0}})))}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){const e=t.relatedElement;e&&this.ctx.domManager.isManagedDOMElement(e)||(this.resetPointer(),this.update(6),this.ctx.cursorManager.updateCursor("chart"))}onBrowserFocus(t){t.delta>0?(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=0,this.focus.seriesIndex=0):t.delta<0&&(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=1/0,this.focus.seriesIndex=1/0)}onAnimationStart(){this.focus.hasFocus&&this.onBlur()}onBlur(){this.ctx.focusIndicator.updateBounds(void 0),this.resetPointer(),this.focus.hasFocus=!1}onTab(t){this.handleFocus(0,0),t.preventDefault(),this.focus.hasFocus=!0}onNavVert(t){this.focus.seriesIndex+=t.delta,this.handleFocus(t.delta,0),t.preventDefault()}onNavHori(t){this.focus.datumIndex+=t.delta,this.handleFocus(0,t.delta),t.preventDefault()}onSubmit(t){const{series:e,datum:i}=this.focus,n=t.sourceEvent.sourceEvent;void 0!==e&&void 0!==i?e.fireNodeClickEvent(n,i):this.fireEvent({type:"click",event:n}),t.preventDefault()}onContextMenu(t){this.ctx.tooltipManager.removeTooltip(this.id);const{Default:e,ContextMenu:i}=nl;let n;this.ctx.interactionManager.getState()&(e|i)&&this.checkSeriesNodeRange(t,((t,e)=>{this.ctx.highlightManager.updateHighlight(this.id),n=e})),this.ctx.contextMenuRegistry.dispatchContext("series",t,{pickedNode:n})}handleFocus(t,e){this.focus.hasFocus=!0;const i=this.overlays.getFocusInfo(this.ctx.localeManager);null==i?this.handleSeriesFocus(t,e):(this.ctx.focusIndicator.updateBounds(i.rect),this.ctx.ariaAnnouncementService.announceValue(i.text))}handleSeriesFocus(t,e){const{series:i,seriesRect:n,focus:a}=this,o=i.filter((t=>t.visible));if(0===o.length)return;a.seriesIndex=pi(0,a.seriesIndex,o.length-1),a.series=o[a.seriesIndex];const{datumIndex:r,seriesIndex:s}=a,l=a.series.pickFocus({datumIndex:r,datumIndexDelta:e,otherIndex:s,otherIndexDelta:t,seriesRect:n});this.updatePickedFocus(l)}updatePickedFocus(t){const{focus:e}=this;if(void 0===t||void 0===e.series)return;const{datum:i,datumIndex:n}=t;e.datumIndex=n,e.datum=i;const a=Uu(this.ctx.focusIndicator,t);if(void 0!==a){this.lastInteractionEvent=a;const t=e.series.getTooltipHtml(i),n=ou.makeTooltipMeta(this.lastInteractionEvent,i),o=this.getDatumAriaText(i,t);this.ctx.highlightManager.updateHighlight(this.id,i),this.ctx.tooltipManager.updateTooltip(this.id,n,t),this.ctx.ariaAnnouncementService.announceValue("ariaAnnounceHoverDatum",{datum:o})}}static isHoverEvent(t){return void 0!==t&&"hover"===t.type}static isDragEvent(t){return void 0!==t&&"drag"===t.type}handlePointer(e,i){var n=this;const a=this.ctx.interactionManager.getState();if(16!==a&&4!==a||!t.isHoverEvent(e)&&!t.isDragEvent(e))return;const{lastPick:o,hoverRect:r}=this,{offsetX:s,offsetY:l}=e,c=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o&&n.resetPointer(t)};(i?!this.ctx.animationManager.isActive():null!==r&&void 0!==r&&r.containsPoint(s,l))?(this.handlePointerTooltip(e,c),this.handlePointerNode(e)):c()}handlePointerTooltip(t,e){const{lastPick:i}=this,{offsetX:n,offsetY:a,targetElement:o}=t;if(o&&this.tooltip.interactive&&this.ctx.domManager.isManagedChildDOMElement(o,"canvas-overlay",Fs))return;const r=this.pickTooltip({x:n,y:a});if(!r)return this.ctx.tooltipManager.removeTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));const s="node"===this.highlight.range||!i||i!==r.datum;let l;s&&(l=r.series.getTooltipHtml(r.datum),"tooltip"===this.highlight.range&&this.ctx.highlightManager.updateHighlight(this.id,r.datum));const c=this.tooltip.enabled&&r.series.tooltipEnabled&&(!s||void 0!==l),u=ou.makeTooltipMeta(t,r.datum);c&&this.ctx.tooltipManager.updateTooltip(this.id,u,l)}handlePointerNode(t){this.checkSeriesNodeRange(t,((t,e)=>{(t.hasEventListener("nodeClick")||t.hasEventListener("nodeDoubleClick"))&&this.ctx.cursorManager.updateCursor("chart","pointer"),"node"===this.highlight.range&&this.ctx.highlightManager.updateHighlight(this.id,e)}))||(this.ctx.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.ctx.highlightManager.updateHighlight(this.id))}onClick(t){if(this.checkSeriesNodeClick(t))return this.update(4),void t.preventDefault();this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){if(this.checkSeriesNodeDoubleClick(t))return this.update(4),void t.preventDefault();this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,((e,i)=>e.fireNodeClickEvent(t.sourceEvent,i)))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,((e,i)=>e.fireNodeDoubleClickEvent(t.sourceEvent,i)))}checkSeriesNodeRange(t,e){const i=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),n=null===i||void 0===i?void 0:i.datum,a=null===n||void 0===n?void 0:n.series.properties.nodeClickRange;let o;cn(a)&&(o=a);let r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);if(r&&(t.preventZoomDblClick=!0),n&&"nearest"===a)return e(n.series,n),!0;if("exact"!==a&&(r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,o)),!r)return!1;const s=null!=o,l="exact"===a&&0===r.distance;if(s||l){var c;if(void 0===t.pointerHistory||(null===(c=t.pointerHistory)||void 0===c?void 0:c.every((t=>{var e;const i={x:t.offsetX,y:t.offsetY},n=this.pickSeriesNode(i,!1,o);return(null===n||void 0===n?void 0:n.datum)===(null===(e=r)||void 0===e?void 0:e.datum)}))))return e(r.series,r.datum),!0}return!1}changeHighlightDatum(t){var e,i;const n=new Set,{series:a,datum:o}=null!==(e=t.currentHighlight)&&void 0!==e?e:{},{series:r,datum:s}=null!==(i=t.previousHighlight)&&void 0!==i?i:{};r&&n.add(r),a&&n.add(a),null!==r&&void 0!==r&&r.properties.cursor&&s&&this.ctx.cursorManager.updateCursor(r.id),null!==a&&void 0!==a&&a.properties.cursor&&o&&this.ctx.cursorManager.updateCursor(a.id,a.properties.cursor),this.lastPick=t.currentHighlight;null==a||null==r?this.update(4):this.update(4,{seriesToUpdate:n})}async waitForUpdate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();7!==this.performUpdateType;){if(performance.now()-i>t){const i="Chart.waitForUpdate() timeout of ".concat(t," reached - first chart update taking too long.");if(e)throw new Error(i);ye.warnOnce(i)}await Yl(50)}await this.updateMutex.waitForClearAcquireQueue()}waitForDataProcess(t){return new Promise((e=>{this.dataProcessListeners.add(e),ln(t)&&setTimeout((()=>{this.dataProcessListeners.has(e)&&(this.dataProcessListeners.delete(e),e())}),t)}))}getMinRects(){const{width:t,height:e}=this.ctx.scene,i=this.series.map((i=>i.getMinRects(t,e))).filter(qi);if(0===i.length)return;let n=0,a=0,o=0,r=0;for(const{minRect:c,minVisibleRect:u}of i)n=Math.max(n,c.width),a=Math.max(a,c.height),o=Math.max(o,u.width),r=Math.max(r,u.height);const s=new Li(0,0,n,a);let l=s.clone();return o>0&&r>0&&(l=new Li(0,0,o,r)),{minRect:s,minVisibleRect:l}}filterMiniChartSeries(t){return null===t||void 0===t?void 0:t.filter((t=>!1!==t.showInMiniChart))}applyOptions(t){var e,i,n,a;const o=t!==this.chartOptions?this.chartOptions.processedOptions:{},r=t.processedOptions,s=t.diffOptions(o);if(null==s)return;Hd("Chart.applyOptions() - applying delta",s);const l=this.applyModules(r);s.listeners&&this.registerListeners(this,s.listeners),Tn(this,s,{skip:["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","axes","topology","nodes","initialState"]});let c=!1,u="no-op";null!==(e=s.series)&&void 0!==e&&e.length&&(u=this.applySeries(this,s.series,null===o||void 0===o?void 0:o.series),c=!0),"replaced"===u&&this.resetAnimations(),this.applyAxes(this,r,o,u,[],!0)&&(c=!0),s.data&&(this.data=s.data),null!==(i=s.legend)&&void 0!==i&&i.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,s.legend.listeners),s.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t;const d=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");null!==d&&void 0!==d&&d.enabled||null!==h&&void 0!==h&&h.enabled||this.ctx.zoomManager.updateZoom("chart");const p=null===d||void 0===d?void 0:d.miniChart,g=null!==(n=null===(a=r.navigator)||void 0===a||null===(a=a.miniChart)||void 0===a?void 0:a.series)&&void 0!==n?n:r.series;!0===(null===p||void 0===p?void 0:p.enabled)&&null!=g?this.applyMiniChartOptions(p,g,r,o):!1===(null===p||void 0===p?void 0:p.enabled)&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(s,u));const f=c||l?0:3;this.maybeResetAnimations(u),Hd("Chart.applyOptions() - update type",du[f],{seriesStatus:u,forceNodeDataRefresh:c}),this.update(f,{forceNodeDataRefresh:c,newAnimationBatch:!0})}applyInitialState(){var t;const{ctx:{annotationManager:e,stateManager:i}}=this,n=this.getOptions();if(null!=(null===(t=n.initialState)||void 0===t?void 0:t.annotations)){const t=n.initialState.annotations.map((t=>fn(t,e.getAnnotationTypeStyles(t.type))));i.setState(e,t)}}maybeResetAnimations(t){if("standalone"===this.mode)switch(t){case"series-grouping-change":case"replaced":this.resetAnimations()}}shouldForceNodeDataRefresh(t,e){const i=!!t.data||"data-change"===e||"replaced"===e,n=Tu.getKeys(),a=Object.values(n).some((e=>null!=t[e])),o=null!=t.title&&null!=t.subtitle;return i||a||o}applyMiniChartOptions(t,e,i,n){var a,o;const r=null!==(a=null===n||void 0===n||null===(o=n.navigator)||void 0===o||null===(o=o.miniChart)||void 0===o?void 0:o.series)&&void 0!==a?a:null===n||void 0===n?void 0:n.series,s=this.applySeries(t,this.filterMiniChartSeries(e),this.filterMiniChartSeries(r));this.applyAxes(t,i,n,s,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const l=t.axes,c=l.find((t=>"x"===t.direction));for(const h of l)h.gridLine.enabled=!1,h.label.enabled=h===c,h.tick.enabled=!1,h.interactionEnabled=!1;if(null!=c){var u,d;const t=null===(u=i.navigator)||void 0===u?void 0:u.miniChart,e=null===t||void 0===t?void 0:t.label,n=null===t||void 0===t||null===(d=t.label)||void 0===d?void 0:d.interval;c.line.enabled=!1,c.label.set(vn(e,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),c.tick.set(vn(n,["enabled","width","size","color","interval","step"]));const a=null===n||void 0===n?void 0:n.step;null!=a&&(c.interval.step=a)}}applyModules(t){const{type:e}=this.constructor;let i=!1;for(const a of Kl.byType("root","legend")){const o=null!=t[a.optionsKey]&&a.chartTypes.includes(e);if(o!==this.modulesManager.isEnabled(a)){if(o){var n;if(this.modulesManager.addModule(a,(t=>new t.instanceConstructor(this.getModuleContext()))),"legend"===a.type)null===(n=this.modulesManager.getModule(a))||void 0===n||n.attachLegend(this.ctx.scene);this[a.optionsKey]=this.modulesManager.getModule(a)}else this.modulesManager.removeModule(a),delete this[a.optionsKey];i=!0}}return i}applySeries(t,e,i){if(!e)return"no-change";const n=function(t,e,i){const n=(t,e)=>{const i=[t];for(const n of Yu)n in e&&null!=e[n]&&i.push("".concat(n,"=").concat(e[n]));return i.join(";")},a=new Map;let o=0;for(const p of t){var r;const t=n(p.type,p.properties);a.has(t)||a.set(t,[]),null===(r=a.get(t))||void 0===r||r.push([p,o++])}const s=new Map;for(const p of e){var l;const t=n(p.type,p);s.has(t)||s.set(t,[]),null===(l=s.get(t))||void 0===l||l.push(p)}if(![...a.keys()].some((t=>s.has(t))))return{status:"no-overlap",oldKeys:a.keys(),newKeys:s.keys()};const c=[];let u=-1;for(const[p,g]of s.entries())for(const t of g){var d,h;u++;const e=a.get(p);if(null==e||e.length<1){c.push({opts:t,idx:u,status:"add"}),a.delete(p);continue}const[n,o]=e.shift(),r=Cn(null!==(d=null===i||void 0===i?void 0:i[o])&&void 0!==d?d:{},null!==t&&void 0!==t?t:{}),{groupIndex:s,stackIndex:l}=null!==(h=null===r||void 0===r?void 0:r.seriesGrouping)&&void 0!==h?h:{};null!=s||null!=l?c.push({opts:t,series:n,diff:r,idx:o,status:"series-grouping"}):r?c.push({opts:t,series:n,diff:r,idx:o,status:"update"}):c.push({opts:t,series:n,idx:o,status:"no-op"}),0===e.length&&a.delete(p)}for(const p of a.values())for(const[t,e]of p)c.push({series:t,idx:e,status:"remove"});return{status:"overlap",changes:c}}(t.series,e,i);if("no-overlap"===n.status)return Hd("Chart.applySeries() - creating new series instances, status: ".concat(n.status),n),t.series=e.map((t=>this.createSeries(t))),"replaced";Hd("Chart.applySeries() - matchResult",n);const a=[];let o=!1,r=!1,s=!1;for(const c of n.changes){var l;switch(r||(r="series-grouping"===c.status),o||(o=null!=(null===(l=c.diff)||void 0===l?void 0:l.data)),s||(s="no-op"!==c.status),c.status){case"add":const t=this.createSeries(c.opts);a.push(t),Hd("Chart.applySeries() - created new series",t);break;case"remove":Hd("Chart.applySeries() - removing series at previous idx ".concat(c.idx),c.series);break;case"no-op":a.push(c.series),Hd("Chart.applySeries() - no change to series at previous idx ".concat(c.idx),c.series);break;default:const{series:e,diff:i,idx:n}=c;Hd("Chart.applySeries() - applying series diff previous idx ".concat(n),i,e),this.applySeriesValues(e,i),e.markNodeDataDirty(),a.push(e)}}for(let c=0;c<a.length;c++)a[c]._declarationOrder=c;return Hd("Chart.applySeries() - final series instances",a),t.series=a,r?"series-grouping-change":o?"data-change":s?"updated":"no-op"}applyAxes(t,e,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!("axes"in e)||!e.axes)return!1;a=["axes[].type",...a];const{axes:r}=e;if(!("replaced"===n)&&t.axes.length===r.length&&t.axes.every(((t,e)=>t.type===r[e].type))&&Zu(i))return t.axes.forEach(((t,e)=>{var n,o;const s=Cn(null!==(n=null===(o=i.axes)||void 0===o?void 0:o[e])&&void 0!==n?n:{},r[e]);Hd("Chart.applyAxes() - applying axis diff idx ".concat(e),s);const l="axes[".concat(e,"]");Tn(t,s,{...ho,path:l,skip:a})})),!0;Hd("Chart.applyAxes() - creating new axes instances; seriesStatus: ".concat(n)),t.axes=this.createAxis(r,a);const s={x:[],y:[]};return t.axes.forEach((t=>s[t.direction].push(t.getAxisGroup()))),o&&(this.ctx.regionManager.updateRegion("horizontal-axes",...s.x),this.ctx.regionManager.updateRegion("vertical-axes",...s.y)),!0}createSeries(t){const e=_u.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(e,t),this.applySeriesValues(e,t),e}applySeriesOptionModules(t,e){const i=t.createModuleContext(),n=t.getModuleMap();for(const a of Kl.byType("series-option"))a.optionsKey in e&&a.seriesTypes.includes(t.type)&&n.addModule(a,(t=>new t.instanceConstructor(i)))}applySeriesValues(t,e){const i=t.getModuleMap(),{type:n,data:a,listeners:o,seriesGrouping:r,showInMiniChart:s,...l}=e;for(const c of Iu)if("series-option"===c.type&&c.optionsKey in l){const t=i.getModule(c.optionsKey);if(t){const e=l[c.optionsKey];delete l[c.optionsKey],t.properties.set(e)}}t.properties.set(l),"data"in e&&t.setOptionsData(a),o&&this.registerListeners(t,o),"seriesGrouping"in e&&(t.seriesGrouping=null==r?void 0:{...t.seriesGrouping,...r})}createAxis(t,e){const i=[],n=this.getModuleContext();for(let a=0;a<t.length;a++){const o=t[a],r=Cu.create(o.type,n);this.applyAxisModules(r,o),Tn(r,o,{...ho,path:"axes[".concat(a,"]"),skip:e}),i.push(r)}return function(t){const e=[],i=[],n=[...Ku];for(const o of t)o instanceof Nl&&("string"===typeof(a=o.position)&&Ku.includes(a)?i.push(o.position):e.push(o));var a;for(const o of e){let t;do{t=n.pop()}while(t&&i.includes(t));if(null==t)break;o.position=t}}(i),i}applyAxisModules(t,e){const i=t.createModuleContext(),n=t.getModuleMap();for(const a of Kl.byType("axis-option")){const o=null!=e[a.optionsKey];o!==n.isEnabled(a)&&(o?(n.addModule(a,(t=>new t.instanceConstructor(i))),t[a.optionsKey]=n.getModule(a)):(n.removeModule(a),delete t[a.optionsKey]))}}registerListeners(t,e){t.clearEventListeners();for(const[i,n]of Object.entries(e))nn(n)&&t.addEventListener(i,n)}};Xd.chartsInstances=new WeakMap,ce([Rs({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),Xd.chartsInstances.set(t,this))},oldValue(t){Xd.chartsInstances.delete(t)}})],Xd.prototype,"container",2),ce([Rs({newValue(t){this.resize("width option",{inWidth:t})}})],Xd.prototype,"width",2),ce([Rs({newValue(t){this.resize("height option",{inHeight:t})}})],Xd.prototype,"height",2),ce([Rs({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],Xd.prototype,"minWidth",2),ce([Rs({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],Xd.prototype,"minHeight",2),ce([pa(ya)],Xd.prototype,"padding",2),ce([pa(Sa)],Xd.prototype,"titlePadding",2),ce([pa(ya)],Xd.prototype,"seriesArea",2),ce([pa(ya)],Xd.prototype,"title",2),ce([pa(ya)],Xd.prototype,"subtitle",2),ce([pa(ya)],Xd.prototype,"footnote",2),ce([pa(ya)],Xd.prototype,"keyboard",2),ce([pa(no(["standalone","integrated"],"a chart mode"))],Xd.prototype,"mode",2),ce([Rs({changeValue(t,e){this.onAxisChange(t,e)}})],Xd.prototype,"axes",2),ce([Rs({changeValue(t,e){this.onSeriesChange(t,e)}})],Xd.prototype,"series",2);var qd=Xd,Qd=class{constructor(t,e,i){this.root=new th(t,e,i)}clear(t){this.root.clear(t)}addValue(t,e){const i={hitTester:t,value:e,distanceSquared:(e,i)=>t.distanceSquared(e,i)};this.root.addElem(i)}find(t,e){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,e,i),i.best}},Jd=class{constructor(t,e,i,n){this.nw=t,this.ne=e,this.sw=i,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,e,i){this.nw.find(t,e,i),this.ne.find(t,e,i),this.sw.find(t,e,i),this.se.find(t,e,i)}},$d=class{constructor(t,e,i){this.capacity=t,this.maxdepth=e,this.boundary=null!==i&&void 0!==i?i:Li.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(void 0===this.subdivisions?0===this.maxdepth||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,e,i){this.findCondition(t,e,i)&&(void 0===this.subdivisions?this.findAction(t,e,i):this.subdivisions.find(t,e,i))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(const e of this.elems)this.subdivisions.addElem(e);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){const{x:t,y:e,width:i,height:n}=this.boundary,{capacity:a}=this,o=this.maxdepth-1,r=i/2,s=n/2,l=new Li(t,e,r,s),c=new Li(t+r,e,r,s),u=new Li(t,e+s,r,s),d=new Li(t+r,e+s,r,s);return new Jd(this.child(a,o,l),this.child(a,o,c),this.child(a,o,u),this.child(a,o,d))}},th=class t extends $d{addCondition(t){const{x:e,y:i}=t.hitTester.midPoint;return this.boundary.containsPoint(e,i)}findCondition(t,e,i){const{best:n}=i;return 0!==n.distanceSquared&&this.boundary.distanceSquared(t,e)<n.distanceSquared}findAction(t,e,i){const n=di(t,e,this.elems,i.best.distanceSquared);void 0!==n.nearest&&n.distanceSquared<i.best.distanceSquared&&(i.best=n)}child(e,i,n){return new t(e,i,n)}},eh=class extends Lc{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:t,y:e,size:i}=this,{center:n}=this.constructor;return new Li(t-i*n.x,e-i*n.y,i,i)}computeTransformedBBox(){return super.computeTransformedBBox()}applyPath(t,e){const{path:i}=this;let{x:n,y:a}=this;null!=this.repeat&&(n=0,a=0),i.clear();for(const{x:o,y:r,t:s}of e)n+=o*t,a+=r*t,"move"===s?i.moveTo(n,a):i.lineTo(n,a);i.closePath()}executeFill(t,e){if(!e)return;if(null==this.repeat)return super.executeFill(t,e);t.save();let i=this.translationX,n=this.translationY;for(const a of this.repeat)t.translate(a.x-i,a.y-n),t.fill(e),i=a.x,n=a.y;t.restore()}executeStroke(t,e){if(!e)return;if(null==this.repeat)return super.executeStroke(t,e);t.save();let i=this.translationX,n=this.translationY;for(const a of this.repeat)t.translate(a.x-i,a.y-n),t.stroke(e),i=a.x,n=a.y;t.restore()}};eh.center={x:.5,y:.5},ce([Dc()],eh.prototype,"x",2),ce([Dc()],eh.prototype,"y",2),ce([Dc({convertor:Math.abs})],eh.prototype,"size",2),ce([Dc()],eh.prototype,"repeat",2);var ih=class extends eh{updatePath(){const{x:t,y:e,path:i,size:n}=this,a=n/2;i.clear(),i.arc(t,e,a,0,2*Math.PI),i.closePath()}};ih.className="Circle";var nh=class t extends eh{updatePath(){const e=this.size/4.2;super.applyPath(e,t.moves)}};nh.className="Cross",nh.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var ah=nh,oh=class t extends eh{updatePath(){const e=this.size/2;super.applyPath(e,t.moves)}};oh.className="Diamond",oh.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var rh=oh,sh=class extends eh{rad(t){return t/180*Math.PI}updatePath(){const{x:t,path:e,size:i,rad:n}=this,a=i/4,o=this.y+a/2;e.clear(),e.arc(t-a,o-a,a,n(130),n(330)),e.arc(t+a,o-a,a,n(220),n(50)),e.lineTo(t,o+a),e.closePath()}};sh.className="Heart";var lh=class extends eh{updatePath(){const{path:t,x:e,y:i}=this,n=this.size,a=.5;t.clear(),t.moveTo(e+-.34375*n,i+-.65625*n),t.cubicCurveTo(e+-.34375*n,i+-.848509*n,e+-.192259*n,i+-1*n,e+0*n,i+-1*n),t.cubicCurveTo(e+(.692259-a)*n,i+-1*n,e+.34375*n,i+-.848509*n,e+.34375*n,i+-.65625*n),t.cubicCurveTo(e+.34375*n,i+-.506176*n,e+.284625*n,i+(.600181-1)*n,e+(.716461-a)*n,i+(.695393-1)*n),t.cubicCurveTo(e+.199009*n,i+-.280231*n,e+(.681271-a)*n,i+-.256896*n,e+(.663785-a)*n,i+(.766105-1)*n),t.cubicCurveTo(e+(.611893-a)*n,i+(.834367-1)*n,e+(.562228-a)*n,i+(.899699-1)*n,e+(.528896-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.524075-a)*n,i+(.992358-1)*n,e+(.512663-a)*n,i+0*n,e+0*n,i+0*n),t.cubicCurveTo(e+(.487337-a)*n,i+0*n,e+(.475925-a)*n,i+(.992358-1)*n,e+(.471104-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.487337-a)*n,i+0*n,e+(.475925-a)*n,i+(.992358-1)*n,e+(.471104-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.437772-a)*n,i+(.899699-1)*n,e+(.388107-a)*n,i+(.834367-1)*n,e+(.336215-a)*n,i+(.766105-1)*n),t.cubicCurveTo(e+(.318729-a)*n,i+-.256896*n,e+-.199009*n,i+-.280231*n,e+(.283539-a)*n,i+(.695393-1)*n),t.cubicCurveTo(e+-.284625*n,i+(.600181-1)*n,e+-.34375*n,i+-.506176*n,e+-.34375*n,i+-.65625*n),t.closePath()}};lh.className="MapPin",lh.center={x:.5,y:1};var ch=class t extends eh{updatePath(){const e=this.size/3;super.applyPath(e,t.moves)}};ch.className="Plus",ch.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var uh=ch,dh=class extends eh{updatePath(){const{path:t,x:e,y:i}=this,n=this.size/2;t.clear(),t.moveTo(this.align(e-n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i+n)),t.lineTo(this.align(e-n),this.align(i+n)),t.closePath()}};dh.className="Square";var hh=class extends eh{updatePath(){const{x:t,y:e,path:i,size:n}=this,a=n/2,o=Math.PI/2;i.clear();for(let r=0;r<10;r++){const s=r%2===0?n:a,l=r*Math.PI/5-o,c=t+Math.cos(l)*s,u=e+Math.sin(l)*s;i.lineTo(c,u)}i.closePath()}};hh.className="Star";var ph=class t extends eh{updatePath(){const e=1.1*this.size;super.applyPath(e,t.moves)}};ph.className="Triangle",ph.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var gh=ph,fh={circle:ih,cross:ah,diamond:rh,heart:sh,pin:lh,plus:uh,square:dh,star:hh,triangle:gh},mh=Object.keys(fh);function yh(t){return"string"===typeof t&&mh.includes(t)}function vh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dh;return yh(t)?fh[t]:"function"===typeof t?t:dh}var bh=class extends Vd{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation(t){let{xScale:e,yScale:i}=t;return{isContinuousX:fo.is(e),isContinuousY:fo.is(i),xScaleType:null===e||void 0===e?void 0:e.type,yScaleType:null===i||void 0===i?void 0:i.type}}getModulePropertyDefinitions(){var t,e;const i=null===(t=this.axes.x)||void 0===t?void 0:t.scale,n=null===(e=this.axes.y)||void 0===e?void 0:e.scale;return this.moduleMap.mapModules((t=>t.getPropertyDefinitions(this.getScaleInformation({xScale:i,yScale:n})))).flat()}async requestDataModel(t,e,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:a}=await t.request(this.id,null!==e&&void 0!==e?e:[],i);return this.dataModel=n,this.processedData=a,this.dispatch("data-processed",{dataModel:n,processedData:a}),{dataModel:n,processedData:a}}isProcessedDataAnimatable(){var t;const e=null===(t=this.processedData)||void 0===t||null===(t=t.reduced)||void 0===t?void 0:t.animationValidation;if(!e)return!0;const{orderedKeys:i,uniqueKeys:n}=e;return i&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){const e=this.getNodeData();if(void 0===e||0===e.length)return;const i=this.computeFocusDatumIndex(t,e);if(void 0===i)return;const{showFocusBox:n}=this,a=e[i],o={...t,datumIndex:i},r=this.computeFocusBounds(o);return void 0!==r?{bounds:r,showFocusBox:n,datum:a,datumIndex:i}:void 0}computeFocusDatumIndex(t,e){const i=t=>{const{missing:i=!1,enabled:n=!0}=e[t];return!i&&n},n=t=>{for(;t>=0&&!i(t);)t--;return-1===t?void 0:t},a=t=>{for(;t<e.length&&!i(t);)t++;return t===e.length?void 0:t};let o;const r=pi(0,t.datumIndex,e.length-1);if(t.datumIndexDelta<0)o=n(r);else if(t.datumIndexDelta>0)o=a(r);else{var s,l;null!==(s=o)&&void 0!==s||(o=a(r)),null!==(l=o)&&void 0!==l||(o=n(r))}return void 0===o?0===t.datumIndexDelta?void 0:t.datumIndex-t.datumIndexDelta:o}},xh=class extends wn{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};ce([pa(Ba,{optional:!0})],xh.prototype,"fill",2),ce([pa(Da,{optional:!0})],xh.prototype,"fillOpacity",2),ce([pa(Ba,{optional:!0})],xh.prototype,"stroke",2),ce([pa(Ma,{optional:!0})],xh.prototype,"strokeWidth",2),ce([pa(Da,{optional:!0})],xh.prototype,"strokeOpacity",2),ce([pa(Ka,{optional:!0})],xh.prototype,"lineDash",2),ce([pa(Ma,{optional:!0})],xh.prototype,"lineDashOffset",2);var kh=class extends wn{};ce([pa(Ma,{optional:!0})],kh.prototype,"strokeWidth",2),ce([pa(Da,{optional:!0})],kh.prototype,"dimOpacity",2),ce([pa(ba,{optional:!0})],kh.prototype,"enabled",2);var Sh=class extends wn{constructor(){super(...arguments),this.color="black"}};ce([pa(Ba,{optional:!0})],Sh.prototype,"color",2);var wh=class extends wn{constructor(){super(...arguments),this.item=new xh,this.series=new kh,this.text=new Sh}};ce([pa(ya)],wh.prototype,"item",2),ce([pa(ya)],wh.prototype,"series",2),ce([pa(ya)],wh.prototype,"text",2);var Mh=class extends wn{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new wh}};ce([pa(ka,{optional:!0})],Mh.prototype,"id",2),ce([pa(ba)],Mh.prototype,"visible",2),ce([pa(ba)],Mh.prototype,"showInLegend",2),ce([pa(ka)],Mh.prototype,"cursor",2),ce([pa(eo)],Mh.prototype,"nodeClickRange",2),ce([pa(ya)],Mh.prototype,"highlightStyle",2);var Dh={x:["xKey"],y:["yKey"]},Lh={x:["xName"],y:["yName"]},Ch=class extends Gd{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Ih=class extends Mh{};ce([pa(ka,{optional:!0})],Ih.prototype,"legendItemName",2);var Nh=class extends bh{constructor(t){let{pathsPerSeries:e=1,hasMarkers:i=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:a=[],datumSelectionGarbageCollection:o=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:s=!1,animationResetFns:l,directionKeys:c,directionNames:u,...d}=t;if(super({directionKeys:c,directionNames:u,canHaveAxes:!0,...d}),this.NodeEvent=Ch,this.dataNodeGroup=this.contentGroup.appendChild(new ar({name:"".concat(this.id,"-series-dataNodes"),zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new ar({name:"".concat(this.id,"-series-markers"),zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new ar({name:"".concat(this.id,"-series-labels"),zIndex:8,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=xs.select(this.labelGroup,Ir),this.highlightSelection=xs.select(this.highlightNode,(()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory())),this.highlightLabelSelection=xs.select(this.highlightLabel,Ir),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=bs.create(),!c||!u)throw new Error("Unable to initialise series type ".concat(this.type));this.opts={pathsPerSeries:e,hasMarkers:i,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:a,directionKeys:c,directionNames:u,animationResetFns:l,animationAlwaysUpdateSelections:s,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:r},this.paths=[];for(let h=0;h<e;h++)this.paths[h]=new Lc,this.paths[h].zIndex=4,this.paths[h].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",h),this.contentGroup.appendChild(this.paths[h]);this.datumSelection=xs.select(this.dataNodeGroup,(()=>this.nodeFactory()),o),this.markerSelection=xs.select(this.markerGroup,(()=>this.markerFactory()),r),this.animationState=new Bs("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),highlightMarkers:t=>this.animateReadyHighlightMarkers(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:t=>this.resetAllAnimation(t),reset:"empty"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}get contextNodeData(){return this._contextNodeData}getNodeData(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.nodeData}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t?this.animationState.transition("skip"):"disabled"===t&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(t=>this.onLegendItemClick(t))),this.ctx.chartEventManager.addListener("legend-item-double-click",(t=>this.onLegendItemDoubleClick(t))))}destroy(){super.destroy(),this._contextNodeData=void 0}async update(t){var e;let{seriesRect:i}=t;const{visible:n,_contextNodeData:a}=this,o=(null===(e=this.ctx.highlightManager)||void 0===e||null===(e=e.getActiveHighlight())||void 0===e?void 0:e.series)===this,r=this.checkResize(i),s=await this.updateHighlightSelection(o);await this.updateSelections(n),await this.updateNodes(s,o,n);const l=this.getAnimationData(i,a);l&&(r&&this.animationState.transition("resize",l),this.animationState.transition("update",l))}async updateSelections(t){var e;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if((t||!i)&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();const t=this.isProcessedDataAnimatable();var n;if(this._contextNodeData)null!==(n=(e=this._contextNodeData).animationValid)&&void 0!==n||(e.animationValid=t);this.minRectsCache.dirtyNodeData=!0;const{dataModel:i,processedData:a}=this;void 0!==i&&void 0!==a&&this.dispatch("data-update",{dataModel:i,processedData:a})}await this.updateSeriesSelections()}}async updateSeriesSelections(t){const{datumSelection:e,labelSelection:i,markerSelection:n,paths:a}=this,o=this._contextNodeData;if(!o)return;const{nodeData:r,labelData:s,itemId:l}=o;await this.updatePaths({seriesHighlighted:t,itemId:l,contextData:o,paths:a}),this.datumSelection=await this.updateDatumSelection({nodeData:r,datumSelection:e}),this.labelSelection=await this.updateLabelSelection({labelData:s,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:r,markerSelection:n}))}markerFactory(){return new(vh())}getGroupZIndexSubOrder(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=super.getGroupZIndexSubOrder(t,e);if("paths"===t){var n;const[t]=i,a=null!==(n=this.opts.pathsZIndexSubOrderOffset[e])&&void 0!==n?n:0;i[0]=nn(t)?()=>Number(t())+a:Number(t)+a}return i}async updateNodes(t,e,i){var n;const{highlightSelection:a,highlightLabelSelection:o,opts:{hasMarkers:r,hasHighlightedLabels:s}}=this,l=!this.ctx.animationManager.isSkipped(),c=this.visible&&null!=this._contextNodeData&&i;this.rootGroup.visible=l||c,this.contentGroup.visible=l||c,this.highlightGroup.visible=(l||c)&&e;const u=this.getOpacity();r?(await this.updateMarkerNodes({markerSelection:a,isHighlight:!0}),this.animationState.transition("highlightMarkers",a)):(await this.updateDatumNodes({datumSelection:a,isHighlight:!0}),this.animationState.transition("highlight",a)),s&&await this.updateLabelNodes({labelSelection:o});const{dataNodeGroup:d,markerGroup:h,datumSelection:p,labelSelection:g,markerSelection:f,paths:m,labelGroup:y}=this,{itemId:v}=null!==(n=this.contextNodeData)&&void 0!==n?n:{};d.opacity=u,d.visible=l||c,y.visible=c,r&&(h.opacity=u,h.zIndex=d.zIndex>=4?d.zIndex:d.zIndex+1,h.visible=c),y&&(y.opacity=u),await this.updatePathNodes({seriesHighlighted:e,itemId:v,paths:m,opacity:u,visible:c,animationEnabled:l}),d.visible&&(await this.updateDatumNodes({datumSelection:p,highlightedItems:t,isHighlight:!1}),await this.updateLabelNodes({labelSelection:g}),r&&await this.updateMarkerNodes({markerSelection:f,isHighlight:!1}))}getHighlightLabelData(t,e){const i=t.filter((t=>t.datum===e.datum&&t.itemId===e.itemId));return 0===i.length?void 0:i}getHighlightData(t,e){return e?[e]:void 0}async updateHighlightSelection(t){var e;const{highlightSelection:i,highlightLabelSelection:n,_contextNodeData:a}=this;if(!a)return;const o=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),r=t&&null!==o&&void 0!==o&&o.datum?o:void 0;let s,l;if(null!=r){const t=this.isLabelEnabled(),{labelData:e,nodeData:i}=a;l=this.getHighlightData(i,r),s=t?this.getHighlightLabelData(e,r):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:l,highlightSelection:i}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:s,highlightLabelSelection:n}),l}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:t}of this.datumSelection)!0!==t.datum.missing&&(yield t)}getQuadTree(){if(void 0===this.quadtree){const{width:t,height:e}=this.ctx.scene.canvas,i=new Li(0,0,t,e);this.quadtree=new Qd(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodeExactShape(t){const e=super.pickNodeExactShape(t);if(e)return e;const{x:i,y:n}=t,{opts:{hasMarkers:a}}=this;let o;const{dataNodeGroup:r,markerGroup:s}=this;if(o=r.pickNode(i,n),!o&&a&&(o=null===s||void 0===s?void 0:s.pickNode(i,n)),o&&!0!==o.datum.missing)return{datum:o.datum,distance:0};for(const c of this.moduleMap.modules()){var l;const{datum:e}=null!==(l=c.pickNodeExact(t))&&void 0!==l?l:{};if(null!=e&&!0!==(null===e||void 0===e?void 0:e.missing))return{datum:e,distance:0}}}pickNodeClosestDatum(t){const{x:e,y:i}=t,{axes:n,rootGroup:a,_contextNodeData:o}=this;if(!o)return;const r=n.x,s=n.y,l=a.transformPoint(e,i);let c,u=1/0;for(const p of o.nodeData){const{point:{x:t=NaN,y:e=NaN}={}}=p;if(isNaN(t)||isNaN(e))continue;if(!((null===r||void 0===r?void 0:r.inRange(t))&&(null===s||void 0===s?void 0:s.inRange(e))))continue;const i=Math.max((l.x-t)**2+(l.y-e)**2,0);i<u&&(u=i,c=p)}for(const p of this.moduleMap.modules()){const e=p.pickNodeNearest(t);if(void 0!==e&&e.distanceSquared<u){u=e.distanceSquared,c=e.datum;break}}if(c){var d,h;return{datum:c,distance:Math.max(Math.sqrt(u)-(null!==(d=null===(h=c.point)||void 0===h?void 0:h.size)&&void 0!==d?d:0),0)}}}pickNodeMainAxisFirst(t,e){const{x:i,y:n}=t,{axes:a,rootGroup:o,_contextNodeData:r}=this;if(!r)return;const s=a.x,l=a.y,c=[s,l].filter((t=>t instanceof El)).map((t=>t.direction));if(e&&0===c.length)return;const[u="x"]=c,d=o.transformPoint(i,n),h="x"===u?[d.x,d.y]:[d.y,d.x],p=[1/0,1/0];let g;for(const b of r.nodeData){var f,m;const{x:t=NaN,y:e=NaN}=null!==(f=null!==(m=b.point)&&void 0!==m?m:b.midPoint)&&void 0!==f?f:{};if(isNaN(t)||isNaN(e)||!0===b.missing)continue;if(!((null===s||void 0===s?void 0:s.inRange(t))&&(null===l||void 0===l?void 0:l.inRange(e))))continue;const i="x"===u?[t,e]:[e,t];let n=!0;for(let a=0;a<i.length;a++){const t=Math.abs(i[a]-h[a]);if(t>p[a]){n=!1;break}t<p[a]&&(p[a]=t,p.fill(1/0,a+1,p.length))}n&&(g=b)}if(g){var y,v;let e=Math.max(p[0]**2+p[1]**2-(null!==(y=null===(v=g.point)||void 0===v?void 0:v.size)&&void 0!==y?y:0),0);for(const i of this.moduleMap.modules()){const n=i.pickNodeMainAxisFirst(t);if(void 0!==n&&n.distanceSquared<e){g=n.datum,e=n.distanceSquared;break}}return{datum:g,distance:Math.sqrt(e)}}}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:n,series:a}=t,o=null!=e&&e===t.legendItemName;(a.id===this.id||o)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:n,numVisibleItems:a}=t,{legendItemName:o}=this.properties,r=null!=o&&o===t.legendItemName;n.id===this.id||r||e&&1===a?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(t,e){const{dirtyNodeData:i,sizeCache:n,minRect:a,minVisibleRect:o}=this.minRectsCache,r=JSON.stringify({width:t,height:e});if(!(r!==n)&&!i&&a&&o)return{minRect:a,minVisibleRect:o};const s=this.computeMinRects(t,e);return this.minRectsCache={dirtyNodeData:!1,sizeCache:r,minRect:null===s||void 0===s?void 0:s.minRect,minVisibleRect:null===s||void 0===s?void 0:s.minVisibleRect},s}computeMinRects(t,e){var i,n;const a=this._contextNodeData;if(null===a||void 0===a||!a.nodeData.length)return;const{nodeData:o}=a,r=Array(o.length),s=Array(o.length);for(const[M,{midPoint:D}]of o.entries()){var l,c;r[M]=null!==(l=null===D||void 0===D?void 0:D.x)&&void 0!==l?l:0,s[M]=null!==(c=null===D||void 0===D?void 0:D.y)&&void 0!==c?c:0}let u,d,h,p;r.sort(((t,e)=>t-e)),s.sort(((t,e)=>t-e));let g=0,f=0;for(let M=1;M<o.length;M++){var m,y,v,b;r[M]>=0&&(null!==(m=u)&&void 0!==m||(u=M)),r[M]>t&&(null!==(y=d)&&void 0!==y||(d=M)),s[M]>=0&&(null!==(v=h)&&void 0!==v||(h=M)),s[M]>e&&(null!==(b=p)&&void 0!==b||(p=M)),g=Math.max(g,r[M]-r[M-1]),f=Math.max(f,s[M]-s[M-1])}null!==(i=d)&&void 0!==i||(d=o.length),null!==(n=p)&&void 0!==n||(p=o.length);const x=null!=u&&null!=d?r.slice(u,d):[],k=null!=h&&null!=p?s.slice(h,p):[];let S=0,w=0;for(let M=1;M<Math.max(x.length,k.length);M++){const t=x[M],e=x[M-1],i=k[M],n=k[M-1];null!=t&&null!=e&&(S=Math.max(S,t-e)),null!=i&&null!=n&&(w=Math.max(w,i-n))}return{minRect:new Li(0,0,g,f),minVisibleRect:new Li(0,0,S,w)}}updateHighlightSelectionItem(t){const{opts:{hasMarkers:e}}=this,{items:i,highlightSelection:n}=t,a=null!==i&&void 0!==i?i:[];if(e){const t=n;return this.updateMarkerSelection({nodeData:a,markerSelection:t})}return this.updateDatumSelection({nodeData:a,datumSelection:n})}updateHighlightSelectionLabel(t){var e;return this.updateLabelSelection({labelData:null!==(e=t.items)&&void 0!==e?e:[],labelSelection:t.highlightLabelSelection})}async updateDatumSelection(t){return t.datumSelection}async updateDatumNodes(t){}async updateMarkerSelection(t){return t.markerSelection}async updateMarkerNodes(t){}async updatePaths(t){t.paths.forEach((t=>t.visible=!1))}async updatePathNodes(t){const{paths:e,opacity:i,visible:n}=t;for(const a of e)a.opacity=i,a.visible=n}resetAllAnimation(t){var e,i,n;const{path:a,datum:o,label:r,marker:s}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),a&&t.paths.forEach((t=>{ss([t],a)})),o&&ss([t.datumSelection],o),r&&ss([t.labelSelection],r),s&&this.opts.hasMarkers&&ss([t.markerSelection],s),!1===(null===(n=t.contextData)||void 0===n?void 0:n.animationValid)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var e,i;const{datum:n}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};n&&ss([t],n)}animateReadyHighlightMarkers(t){var e,i;const{marker:n}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};n&&ss([t],n)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){const t=this.getAnimationData();t&&this.animationState.transition("clear",t)}getAnimationData(t,e){const{_contextNodeData:i}=this;if(!i)return;return{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:e,paths:this.paths,seriesRect:t}}calculateScaling(){const t={};for(const e of Object.values(uo)){const i=this.axes[e];if(i)if(i.scale instanceof cs){const{range:n,domain:a}=i.scale;t[e]={type:"log",convert:t=>i.scale.convert(t),domain:[a[0],a[1]],range:[n[0],n[1]]}}else if(i.scale instanceof fo){const{range:n}=i.scale,a=i.scale.getDomain();t[e]={type:"continuous",domain:[a[0],a[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;t[e]={type:"category",domain:n,range:n.map((t=>i.scale.convert(t)))}}}return t}},Eh=["top","right","bottom","left"],Th=class extends qd{constructor(t,e){super(t,e),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(t,e){super.onAxisChange(t,e),this.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}async performLayout(){const t=await super.performLayout(),{firstSeriesTranslation:e,seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,{animationRect:o,seriesRect:r,visibility:s,clipSeries:l}=this.updateAxes(t);this.seriesRoot.visible=s.series,this.seriesRect=r,this.animationRect=o;const{x:c,y:u}=r;if(e){for(const t of[i,n,a])t.translationX=Math.floor(c),t.translationY=Math.floor(u);this.firstSeriesTranslation=!1}else{const{translationX:t,translationY:e}=i;Qn(this.id,"seriesRect",this.ctx.animationManager,[i,a,n],{translationX:t,translationY:e},{translationX:Math.floor(c),translationY:Math.floor(u)},{phase:"update"})}const d=r.clone().grow(this.seriesArea.padding);this.hoverRect=d;const h=this.seriesArea.clip||l?d:void 0;i.setClipRectInGroupCoordinateSpace(h),a.setClipRectInGroupCoordinateSpace(h),n.setClipRectInGroupCoordinateSpace(h),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:l,series:{rect:r,paddedRect:d,visible:s.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map((t=>({id:t.id,...t.getLayoutState()})))});const p=this.modulesManager.mapModules((t=>{var e;return null===(e=t.performCartesianLayout)||void 0===e?void 0:e.call(t,{seriesRect:r})}));return await Promise.all(p),t}updateAxes(t){var e;const i=this.axes.flatMap((t=>{var e;return null!==(e=t.crossLines)&&void 0!==e?e:[]})).map((t=>t.id));let n,a,o;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===i.length&&this._lastCrossLineIds.every(((t,e)=>i[e]===t))?(n=new Map(this._lastAxisAreaWidths.entries()),a=this._lastClipSeries,o={...this._lastVisibility}):(n=new Map,a=!1,o={crossLines:!0,series:!0},this._lastCrossLineIds=i);const r=new Set(this.axes.map((t=>t.position)));for(const f of n.keys())r.has(f)||n.delete(f);const s=(t,e,i)=>![...t.keys()].some((t=>!n.has(t)))&&(o.crossLines===i.crossLines&&o.series===i.series&&a===e&&[...n.entries()].every((e=>{let[i,n]=e;const a=t.get(i);return null==n&&null==a||n===a}))),l=t=>{for(const[e,i]of t.entries())i&&Math.abs(i)===1/0?t.set(e,0):t.set(e,null!=i?Math.ceil(i):i);return t};let c=new Map,u={},d=!1,h=null===(e=this.seriesRect)||void 0===e?void 0:e.clone(),p=0,g={};do{n=new Map(c.entries()),a=d,Object.assign(o,u);const e=this.updateAxesPass(n,t.clone(),h);if(c=l(e.axisAreaWidths),u=e.visibility,d=e.clipSeries,({seriesRect:h,primaryTickCounts:g}=e),p++>10){ye.warn("unable to find stable axis layout.");break}}while(!s(c,d,u));this.axes.forEach((t=>{t.update(g[t.direction])}));return this.axes.forEach((e=>{if(e.setCrossLinesVisible(o.crossLines),h)switch(e.clipGrid(h.x,h.y,h.width+5,h.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,h.y,t.width+5,h.height+5);break;case"top":case"bottom":e.clipTickLines(h.x,t.y,h.width+5,t.height+5)}})),this._lastAxisAreaWidths=n,this._lastVisibility=o,this._lastClipSeries=a,{seriesRect:h,animationRect:t,visibility:o,clipSeries:a}}updateAxesPass(t,e,i){const n=new Map,a=new Map,o={series:!0,crossLines:!0};let r=!1;const s={},l=this.applySeriesPadding(e),c=i?this.buildCrossLinePadding(t):{},u=this.buildAxisBound(l,t,c,o),d=this.buildSeriesRect(u,t);for(const f of this.axes){var h;const{position:t="left"}=f,{clipSeries:e,axisThickness:i}=this.calculateAxisDimensions({axis:f,seriesRect:d,paddedBounds:l,primaryTickCounts:s,clipSeries:r});n.set(f.id,i),a.has(t)||a.set(t,[]),null===(h=a.get(t))||void 0===h||h.push(f),r=r||e}const p=new Map,g=new Map;for(const[f,m]of a.entries())p.set(f,this.calculateAxisArea(m,n,g));for(const[f,m]of a.entries())this.positionAxes({axes:m,position:f,axisWidths:n,axisOffsets:g,axisAreaWidths:p,axisBound:u,seriesRect:d});return{clipSeries:r,seriesRect:d,axisAreaWidths:p,visibility:o,primaryTickCounts:s}}buildCrossLinePadding(t){const e={};this.axes.forEach((t=>{var i;null===(i=t.crossLines)||void 0===i||i.forEach((t=>{var i;null===(i=t.calculatePadding)||void 0===i||i.call(t,e)}))}));for(const[n,a=0]of Object.entries(e)){var i;e[n]=Math.max(a-(null!==(i=t.get(n))&&void 0!==i?i:0),0)}return e}applySeriesPadding(t){const e=t.clone(),i=this.axes.slice().reverse();return Eh.forEach((t=>{const n=this.seriesArea.padding[t],a=i.find((e=>e.position===t));a?a.seriesAreaPadding=n:e.shrink(n,t)})),e}buildAxisBound(t,e,i,n){var a,o,r,s;const l=t.clone(),{top:c=0,right:u=0,bottom:d=0,left:h=0}=i,p=h+u,g=c+d,f=(null!==(a=e.get("left"))&&void 0!==a?a:0)+(null!==(o=e.get("right"))&&void 0!==o?o:0)+p,m=(null!==(r=e.get("top"))&&void 0!==r?r:0)+(null!==(s=e.get("bottom"))&&void 0!==s?s:0)+g;return l.width<=f||l.height<=m?(n.crossLines=!1,n.series=!1,l):(l.x+=h,l.y+=c,l.width-=p,l.height-=g,l)}buildSeriesRect(t,e){var i,n,a,o,r,s;const l=t.clone();return l.x+=null!==(i=e.get("left"))&&void 0!==i?i:0,l.y+=null!==(n=e.get("top"))&&void 0!==n?n:0,l.width-=(null!==(a=e.get("left"))&&void 0!==a?a:0)+(null!==(o=e.get("right"))&&void 0!==o?o:0),l.height-=(null!==(r=e.get("top"))&&void 0!==r?r:0)+(null!==(s=e.get("bottom"))&&void 0!==s?s:0),l.width=Math.max(0,l.width),l.height=Math.max(0,l.height),l}clampToOutsideSeriesRect(t,e,i,n){const{x:a,y:o,width:r,height:s}=t,l=[a,o,a+r,o+s][("x"===i?0:1)+(1===n?0:2)];return(1===n?Math.min:Math.max)(e,l)}calculateAxisDimensions(t){var e;const{axis:i,seriesRect:n,paddedBounds:a,primaryTickCounts:o}=t;let{clipSeries:r}=t;const{position:s="left",direction:l}=i;this.sizeAxis(i,n,s);let c=i.nice?o[l]:void 0;const u="y"===l;i.thickness?i.maxThickness=i.thickness:i.maxThickness=.3*(u?a.width:a.height);const d=i.calculateLayout(c);let h;return c=d.primaryTickCount,null!==(e=o[l])&&void 0!==e||(o[l]=c),r||(r=i.dataDomain.clipped||i.visibleRange[0]>0||i.visibleRange[1]<1),h=null!=i.thickness&&i.thickness>0?i.thickness:u?d.bbox.width:d.bbox.height,h=Math.ceil(h),{clipSeries:r,axisThickness:h,primaryTickCount:c}}sizeAxis(t,e,i){const n=t instanceof El||t instanceof Vl,a="left"===i||"right"===i;let{min:o=0,max:r=1}=t.disableZoom?{}:this.ctx.zoomManager.getAxisZoom(t.id);const{width:s,height:l}=e,c=a?l:s;let u=0,d=c;const{width:h,unit:p,align:g}=t.layoutConstraints;d="px"===p?u+h:d*h/100,"end"===g&&(u=c-(d-u),d=c),n&&a?[o,r]=[1-r,1-o]:a&&([u,d]=[d,u]),t.range=[u,d],t.visibleRange=[o,r],t.gridLength=a?s:l}calculateAxisArea(t,e,i){let n=0,a=0;for(const r of t){var o;i.set(r.id,a);const t=null!==(o=e.get(r.id))&&void 0!==o?o:0;n=Math.max(n,a+t),r.layoutConstraints.stacked&&(a+=t+15)}return n}positionAxes(t){var e;const{axes:i,axisBound:n,axisWidths:a,axisOffsets:o,axisAreaWidths:r,seriesRect:s,position:l}=t,c=null!==(e=r.get(l))&&void 0!==e?e:0;let u="x",d="y",h=1,p=0;"top"!==l&&"bottom"!==l||(u="y",d="x",p+=1),p+=n[u],"right"!==l&&"bottom"!==l||(h=-1,p+="x"===u?n.width:n.height);for(const y of i){var g,f,m;const t=null!==(g=r.get("x"===d?"left":"top"))&&void 0!==g?g:0;y.translation[d]=n[d]+t;const e=null!==(f=a.get(y.id))&&void 0!==f?f:0,i=null!==(m=o.get(y.id))&&void 0!==m?m:0;y.translation[u]=this.clampToOutsideSeriesRect(s,p+h*(i+e),u,h),y.gridPadding=c-i-e,y.updatePosition()}}shouldFlipXY(){return!this.series.some((t=>!(t instanceof Nh&&t.shouldFlipXY())))}};Th.className="CartesianChart",Th.type="cartesian";var Ah=class t{constructor(t,e){this.factoryApi=e,this.chart=t}static isInstance(e){var i;return e instanceof t||("AgChartInstanceProxy"===(null===(i=e.constructor)||void 0===i?void 0:i.name)&&null!=e.chart||null!=e.chart&&this.validateImplementation(e))}static validateImplementation(t){var e;const i=Object.keys(null!==(e=Object.getPrototypeOf(t))&&void 0!==e?e:{});return["getOptions","destroy"].every((t=>i.includes(t)))}async update(t){this.factoryApi.createOrUpdate(t,this),await this.chart.waitForUpdate()}async updateDelta(t){this.factoryApi.updateUserDelta(this,t),await this.chart.waitForUpdate()}getOptions(){const t=In(this.chart.getOptions());for(const e in t)e.startsWith("_")&&delete t[e];return t}waitForUpdate(){return this.chart.waitForUpdate()}async download(t){const e=await this.prepareResizedChart(this,t);try{e.chart.download(null===t||void 0===t?void 0:t.fileName,null===t||void 0===t?void 0:t.fileFormat)}finally{e.destroy()}}async getImageDataURL(t){const e=await this.prepareResizedChart(this,t);try{return e.chart.getCanvasDataURL(null===t||void 0===t?void 0:t.fileFormat)}finally{e.destroy()}}getState(){return this.factoryApi.caretaker.save(this.chart.ctx.annotationManager)}async setState(t){this.factoryApi.caretaker.restore(t,this.chart.ctx.annotationManager),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}async prepareResizedChart(t){var e,i,n,a;let{chart:o}=t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=null!==(e=null!==(i=r.width)&&void 0!==i?i:o.width)&&void 0!==e?e:o.ctx.scene.canvas.width,l=null!==(n=null!==(a=r.height)&&void 0!==a?a:o.height)&&void 0!==n?n:o.ctx.scene.canvas.height,c=fn({container:document.createElement("div"),overrideDevicePixelRatio:1,width:s,height:l},Kl.hasEnterpriseModules()&&{animation:{enabled:!1}},o.getOptions()),u=await this.factoryApi.createOrUpdate(c);return u.chart.ctx.zoomManager.updateZoom("agChartV2",o.ctx.zoomManager.getZoom()),o.series.forEach(((t,e)=>{t.visible||(u.chart.series[e].visible=!1)})),o.update(0,{forceNodeDataRefresh:!0}),await u.waitForUpdate(),u}};Ah.chartInstances=new WeakMap,ce([Rs({oldValue(t){Ah.chartInstances.delete(t)},newValue(t){Ah.chartInstances.set(t,this)}})],Ah.prototype,"chart",2);var Rh=Ah,Oh=class extends fo{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(t){return t}ticks(){var t;const e=null!==(t=this.tickCount)&&void 0!==t?t:fo.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||!this.domain.every(isFinite))return[];this.refresh();const[i,n]=this.getDomain();if(this.interval){const t=Math.abs(this.interval);if(!Xo((n-i)/t,this.getPixelRange()))return Zo(i,n,t)}return Wo(i,n,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(t,e){var i;return null!==(i=this.interval)&&void 0!==i?i:Ko(t,e,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const t=this.tickCount;if(t<1)return void(this.niceDomain=[...this.domain]);let[e,i]=this.domain;if(1===t)[e,i]=function(t,e){const i=Math.abs(e-t),n=10**Math.floor(Math.log10(i));let a=1/0,o=[t,e];for(const r of Vo){const s=r*n,l=Math.floor(t/s)*s,c=Math.ceil(e/s)*s,u=1-i/Math.abs(c-l);a>u&&(a=u,o=[l,c])}return o}(e,i);else{const t=e>i?Math.ceil:Math.floor,n=i<e?Math.floor:Math.ceil,a=4;for(let o=0;o<a;o++){const a=e,o=i,r=this.getTickStep(e,i),[s,l]=this.domain;if(r>=1)e=t(s/r)*r,i=n(l/r)*r;else{const a=1/r;e=t(s*a)/a,i=n(l*a)/a}if(e===a&&i===o)break}}this.niceDomain=[e,i]}tickFormat(t){let{ticks:e,specifier:i}=t;return Ho(null!==e&&void 0!==e?e:this.ticks(),i)}};function Ph(t,e,i){let[n,a]=fi(t);n=function(t,e,i){const n=Math.abs(e-t)/(i-1),a=Math.floor(Math.log10(n)),o=Math.pow(10,a);return Math.floor(t/o)*o}(Math.floor(n),a,e);const o=function(t,e,i){const n=i-1,a=(e-t)/n;return function(t){const e=Math.floor(Math.log10(t)),i=Math.pow(10,e),n=t/i*10;if(n>0&&n<=1)return i/10;if(n>1&&n<=2)return 2*i/10;if(n>1&&n<=5)return 5*i/10;if(n>5&&n<=10)return 10*i/10;if(n>10&&n<=20)return 20*i/10;if(n>20&&n<=40)return 40*i/10;if(n>40&&n<=50)return 50*i/10;if(n>50&&n<=100)return 100*i/10;return n}(a)}(n,a,e);a=n+(e-1)*o;const r=i?[a,n]:[n,a],s=function(t,e,i){const n=Math.floor(Math.log10(e)),a=e>0&&e<1?Math.abs(n):0,o=Math.pow(10,a),r=[];for(let s=0;s<i;s++){const i=t+e*s;r[s]=Math.round(i*o)/o}return r}(n,o,e);return{domain:r,ticks:s}}var Bh=class extends Nl{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Oh),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:a}=bo(t,e,i);return{domain:n,clipped:a}}updateSecondaryAxisTicks(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const{domain:e,ticks:i}=Ph(this.dataDomain.domain,null!==t&&void 0!==t?t:0,this.reverse);return this.scale.nice=!1,this.scale.domain=e,this.scale.update(),i}};Bh.className="NumberAxis",Bh.type="number",ce([pa(fa(Ca,Ta("max"))),ul(NaN)],Bh.prototype,"min",2),ce([pa(fa(Ca,Aa("min"))),ul(NaN)],Bh.prototype,"max",2);var zh=ro((t=>ln(t)&&0!==t),"a non-zero number"),_h=class extends Bh{constructor(t){super(t,new cs),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:a}=bo(t,e,i),o=n[0]>n[1],r=n[0]<0&&n[1]>0,s=0===n[0]&&0===n[1];return(o||r||s)&&(r?ye.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):s&&ye.warn("the data domain has 0 extent, no data is rendered.")),0===n[0]&&(n[0]=1),0===n[1]&&(n[1]=-1),{domain:n,clipped:a}}set base(t){this.scale.base=t}get base(){return this.scale.base}};_h.className="LogAxis",_h.type="log",ce([pa(fa(Ca,zh,Ta("max"))),ul(NaN)],_h.prototype,"min",2),ce([pa(fa(Ca,zh,Aa("min"))),ul(NaN)],_h.prototype,"max",2);var Fh=class extends Nl{constructor(t){super(t,new qo),this.min=void 0,this.max=void 0}normaliseDataDomain(t){let{min:e,max:i}=this,n=!1;var a;("number"===typeof e&&(e=new Date(e)),"number"===typeof i&&(i=new Date(i)),t.length>2)&&(t=(null!==(a=yo(t))&&void 0!==a?a:[0,1e3]).map((t=>new Date(t))));return e instanceof Date&&(n||(n=e>t[0]),t=[e,t[1]]),i instanceof Date&&(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{domain:t,clipped:n}}onFormatChange(t,e,i,n){n?super.onFormatChange(t,e,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:t,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:t,domain:i,formatOffset:1}))}calculatePadding(){return[0,0]}};Fh.className="TimeAxis",Fh.type="time",ce([pa(fa(Oa,Ta("max")),{optional:!0})],Fh.prototype,"min",2),ce([pa(fa(Oa,Aa("min")),{optional:!0})],Fh.prototype,"max",2);var Gh=1e-6,jh=(t,e,i,n,a)=>{let o=!1,r=!1,s=n-Math.sqrt(Math.max(a**2-i**2,0)),l=0,c=0,u=i-Math.sqrt(Math.max(a**2-n**2,0));return s>t?(o=!0,s=t,l=i-Math.sqrt(Math.max(a**2-(n-t)**2))):s<Gh&&(s=0),u>e?(r=!0,c=n-Math.sqrt(Math.max(a**2-(i-e)**2)),u=e):u<Gh&&(u=0),{leading0:s,leading1:l,trailing0:c,trailing1:u,leadingClipped:o,trailingClipped:r}},Vh=(t,e,i,n)=>{let{x0:a,y0:o,x1:r,y1:s,cx:l,cy:c}=e;if(n&&t.moveTo(a,o),a!==r||o!==s){const e=Math.atan2(o-c,a-l),n=Math.atan2(s-c,r-l);t.arc(l,c,i,e,n)}else t.lineTo(a,o)},Wh=(t,e,i,n,a,o,r)=>{let{topLeft:s,topRight:l,bottomRight:c,bottomLeft:u}=o;const d=Math.max(s+u,l+c),h=Math.max(s+l,u+c);if(d<=0&&h<=0)return void(null==r?t.rect(e,i,n,a):t.rect(r.x,r.y,r.width,r.height));if(null==r&&s===l&&s===c&&s===u)return void t.roundRect(e,i,n,a,s);if(n<0&&(e+=n,n=Math.abs(n)),a<0&&(i+=a,a=Math.abs(a)),n<=0||a<=0)return;if(null==r)r=new Li(e,i,n,a);else{const t=Math.max(e,r.x),o=Math.min(e+n,r.x+r.width),s=Math.max(i,r.y),l=Math.min(i+a,r.y+r.height);r=new Li(t,s,o-t,l-s)}const p=Math.max(d/a,h/n,1);p>1&&(s/=p,l/=p,c/=p,u/=p);let g,f,m,y,v=!0,b=!0,x=!0,k=!0;if(v){const t=jh(r.height,r.width,Math.max(e+s-r.x,0),Math.max(i+s-r.y,0),s);t.leadingClipped&&(k=!1),t.trailingClipped&&(b=!1);g={x0:Math.max(r.x+t.leading1,r.x),y0:Math.max(r.y+t.leading0,r.y),x1:Math.max(r.x+t.trailing1,r.x),y1:Math.max(r.y+t.trailing0,r.y),cx:e+s,cy:i+s}}if(b){const t=jh(r.width,r.height,Math.max(i+l-r.y,0),Math.max(r.x+r.width-(e+n-l),0),l);t.leadingClipped&&(v=!1),t.trailingClipped&&(x=!1);f={x0:Math.min(r.x+r.width-t.leading0,r.x+r.width),y0:Math.max(r.y+t.leading1,r.y),x1:Math.min(r.x+r.width-t.trailing0,r.x+r.width),y1:Math.max(r.y+t.trailing1,r.y),cx:e+n-l,cy:i+l}}if(x){const t=jh(r.height,r.width,Math.max(r.x+r.width-(e+n-c),0),Math.max(r.y+r.height-(i+a-c),0),c);t.leadingClipped&&(b=!1),t.trailingClipped&&(k=!1);m={x0:Math.min(r.x+r.width-t.leading1,r.x+r.width),y0:Math.min(r.y+r.height-t.leading0,r.y+r.height),x1:Math.min(r.x+r.width-t.trailing1,r.x+r.width),y1:Math.min(r.y+r.height-t.trailing0,r.y+r.height),cx:e+n-c,cy:i+a-c}}if(k){const t=jh(r.width,r.height,Math.max(r.y+r.height-(i+a-u),0),Math.max(e+u-r.x,0),u);t.leadingClipped&&(x=!1),t.trailingClipped&&(v=!1);y={x0:Math.max(r.x+t.leading0,r.x),y0:Math.min(r.y+r.height-t.leading1,r.y+r.height),x1:Math.max(r.x+t.trailing0,r.x),y1:Math.min(r.y+r.height-t.trailing1,r.y+r.height),cx:e+u,cy:i+a-u}}let S=!1;v&&null!=g&&(Vh(t,g,s,!S),S||(S=!0)),b&&null!=f&&(Vh(t,f,l,!S),S||(S=!0)),x&&null!=m&&(Vh(t,m,c,!S),S||(S=!0)),k&&null!=y&&(Vh(t,y,u,!S),S||(S=!0)),t.closePath()},Uh=class extends Lc{constructor(){super(...arguments),this.borderPath=new Mc,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=br.defaultStyles.strokeWidth,this.effectiveStrokeWidth=br.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||Boolean(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var t,e;const{path:i,borderPath:n,crisp:a,topLeftCornerRadius:o,topRightCornerRadius:r,bottomRightCornerRadius:s,bottomLeftCornerRadius:l}=this;let{x:c,y:u,width:d,height:h,strokeWidth:p,clipBBox:g}=this;const f=1/(null!==(t=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==t?t:1);let m=1;if(i.clear(!0),n.clear(!0),a&&(d<=f&&(m*=d/f),h<=f&&(m*=h/f),d=this.align(c,d),h=this.align(u,h),c=this.align(c),u=this.align(u),g=null!=g?new Li(this.align(g.x),this.align(g.y),this.align(g.x,g.width),this.align(g.y,g.height)):void 0),p)if(d<f){const t=c+f/2;n.moveTo(t,u),n.lineTo(t,u+h),p=f,this.borderClipPath=void 0}else if(h<f){const t=u+f/2;n.moveTo(c,t),n.lineTo(c+d,t),p=f,this.borderClipPath=void 0}else if(p<d&&p<h){var y;const t=p/2;c+=t,u+=t,d-=p,h-=p;const e=null===(y=g)||void 0===y?void 0:y.clone().shrink(t),a={topLeft:o>0?o-p:0,topRight:r>0?r-p:0,bottomRight:s>0?s-p:0,bottomLeft:l>0?l-p:0};this.borderClipPath=void 0,d>0&&h>0&&(null==e||(null===e||void 0===e?void 0:e.width)>0&&(null===e||void 0===e?void 0:e.height)>0)&&(Wh(i,c,u,d,h,a,e),Wh(n,c,u,d,h,a,e))}else{var v;this.borderClipPath=null!==(v=this.borderClipPath)&&void 0!==v?v:new Mc,this.borderClipPath.clear(!0),this.borderClipPath.rect(c,u,d,h),n.rect(c,u,d,h)}else{const t={topLeft:o,topRight:r,bottomRight:s,bottomLeft:l};this.borderClipPath=void 0,Wh(i,c,u,d,h,t,g)}[o,r,s,l].every((t=>0===t))?(this.hittester=(t,e)=>{const i=this.transformPoint(t,e);return this.getCachedBBox().containsPoint(i.x,i.y)},this.distanceSquared=(t,e)=>this.getCachedBBox().distanceSquared(t,e)):(this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint),this.effectiveStrokeWidth=p,this.lastUpdatePathStrokeWidth=p,this.microPixelEffectOpacity=m}computeBBox(){var t;const{x:e,y:i,width:n,height:a,clipBBox:o}=this;return null!==(t=null===o||void 0===o?void 0:o.clone())&&void 0!==t?t:new Li(e,i,n,a)}isPointInPath(t,e){return this.hittester(t,e)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,e){return this.distanceCalculator(t,e)}applyFillAlpha(t){const{fillOpacity:e,microPixelEffectOpacity:i,opacity:n}=this;t.globalAlpha*=n*e*i}renderStroke(t){const{stroke:e,effectiveStrokeWidth:i}=this;if(e&&i){const{globalAlpha:n}=t,{strokeOpacity:a,lineDash:o,lineDashOffset:r,lineCap:s,lineJoin:l,borderPath:c,borderClipPath:u,opacity:d,microPixelEffectOpacity:h}=this;u&&t.clip(u.getPath2D()),t.strokeStyle=e,t.globalAlpha*=d*a*h,t.lineWidth=i,o&&t.setLineDash(o),r&&(t.lineDashOffset=r),s&&(t.lineCap=s),l&&(t.lineJoin=l),t.stroke(c.getPath2D()),t.globalAlpha=n}}};Uh.className="Rect",ce([Dc()],Uh.prototype,"x",2),ce([Dc()],Uh.prototype,"y",2),ce([Dc()],Uh.prototype,"width",2),ce([Dc()],Uh.prototype,"height",2),ce([Dc()],Uh.prototype,"topLeftCornerRadius",2),ce([Dc()],Uh.prototype,"topRightCornerRadius",2),ce([Dc()],Uh.prototype,"bottomRightCornerRadius",2),ce([Dc()],Uh.prototype,"bottomLeftCornerRadius",2),ce([Dc()],Uh.prototype,"clipBBox",2),ce([Dc()],Uh.prototype,"crisp",2);var Kh=class extends Wl{constructor(t){super(),this.node=new ar({name:"background",zIndex:0}),this.rectNode=new Uh,this.visible=!0,this.fill="white",this.node.appendChild(this.rectNode),this.destroyFns.push(t.scene.attachNode(this.node),t.layoutService.addListener("layout-complete",(t=>this.onLayoutComplete(t))))}onLayoutComplete(t){const{width:e,height:i}=t.chart;this.rectNode.width=e,this.rectNode.height=i}};ce([pa(ba),As("node","visible")],Kh.prototype,"visible",2),ce([pa(Ba,{optional:!0}),As("rectNode","fill")],Kh.prototype,"fill",2),ce([pa(ya,{optional:!0})],Kh.prototype,"image",2);var Yh={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:Kh};function Hh(t,e,i,n){e.addEventListener(i,n),t.push((()=>e.removeEventListener(i,n)))}function Zh(t,e,i){Hh(t,e,"keydown",(t=>{"Escape"===t.key&&i(t)}))}function Xh(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)&&(t.key===e||n.some((e=>t.key===e)))}function qh(t,e,i,n){i&&Hh(t,e,"keydown",(t=>{Xh(t,n)&&i.focus()}))}function Qh(t,e,i,n,a,o){qh(t,e,a,o),qh(t,e,i,n),Hh(t,e,"keydown",(t=>{Xh(t,n,o)&&t.preventDefault()}))}var Jh={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function $h(t){const{orientation:e,toolbar:i,buttons:n,onEscape:a,onFocus:o,onBlur:r}=t,{nextKey:s,prevKey:l}=Jh[e],c=0===n.length;i.role="toolbar",i.ariaOrientation=e,i.ariaHidden=c.toString();const u=t=>{t.target&&"tabIndex"in t.target&&(n.forEach((t=>t.tabIndex=-1)),t.target.tabIndex=0)},d=[];for(let h=0;h<n.length;h++){const t=n[h-1],e=n[h],i=n[h+1];Hh(d,e,"focus",u),o&&Hh(d,e,"focus",o),r&&Hh(d,e,"blur",r),a&&Zh(d,e,a),Qh(d,e,t,l,i,s),e.tabIndex=0===h?0:-1}return d}function tp(t){const{orientation:e,menu:i,buttons:n,onEscape:a}=t,{nextKey:o,prevKey:r}=Jh[e];i.role="menu",i.ariaOrientation=e;const s=[];for(let l=0;l<n.length;l++){const t=n[(n.length+l-1)%n.length],e=n[l],i=n[(n.length+l+1)%n.length];a&&Zh(s,e,a),Qh(s,e,t,r,i,o),e.tabIndex=-1}return i.tabIndex=-1,a&&Zh(s,i,a),Hh(s,i,"keydown",(t=>{var e;t.target!==i||t.key!==o&&t.key!==r||(t.preventDefault(),null===(e=n[0])||void 0===e||e.focus())})),s}function ep(t,e){return i=>{if("true"===t.ariaDisabled)return i.preventDefault();e(i)}}function ip(t){let{orientation:e,bboxes:i,maxHeight:n,maxWidth:a,itemPaddingY:o=0,itemPaddingX:r=0,forceResult:s=!1}=t;const l="horizontal"===e,c={max:l?a:n,fn:l?t=>t.width:t=>t.height,padding:l?r:o},u={max:l?n:a,fn:l?t=>t.height:t=>t.width,padding:l?o:r};let d=0;const h=[];for(;d<i.length;){const t=np(i.slice(d),d,c,u,s);if(!t)return;d+=t.processedBBoxCount,h.push(t.pageIndices)}return function(t,e,i,n,a){let o=0,r=0;const s=t.map((t=>{"horizontal"===e&&(t=function(t){const e=[];for(const i of t[0])e.push([]);return t.forEach(((t,i)=>{t.forEach(((t,n)=>{e[n][i]=t}))})),e}(t));let s=0;const l=t.map((t=>{const e=t.map((t=>(s=Math.max(t,s),i[t])));let o=0,r=0;return e.forEach((t=>{o+=t.height+n,r=Math.max(r,t.width+a)})),{indices:t,bboxes:e,columnHeight:Math.ceil(o),columnWidth:Math.ceil(r)}}));let c=0,u=0;return l.forEach((t=>{c+=t.columnWidth,u=Math.max(u,t.columnHeight)})),o=Math.max(c,o),r=Math.max(u,r),{columns:l,startIndex:t[0][0],endIndex:s,pageWidth:c,pageHeight:u}}));return{pages:s,maxPageWidth:o,maxPageHeight:r}}(h,e,i,o,r)}function np(t,e,i,n,a){let o=function(t,e){const i=t.length;let n=0;for(let a=0;a<i;a++)if(n+=e.fn(t[a])+e.padding,n>e.max){return i/a<2?Math.ceil(i/2):a}return i}(t,i);if(o<1){if(!a)return;o=1}let r=o;for(;r>=1;){const o=ap(t,e,r,i,n,a);if(null==o&&r<=1)return;if(null==o){r--;continue}if("number"===typeof o){if(o<=1)return;r=o<r&&o>1?o:r,r--;continue}return{processedBBoxCount:o.length*o[0].length,pageIndices:o}}}function ap(t,e,i,n,a,o){const r=[];let s=0,l=0,c=[];const u=[];for(let h=0;h<t.length;h++){var d;const p=(h+i)%i;0===p&&(s+=l,l=0,c.length>0&&r.push(c),c=[]);const g=n.fn(t[h])+n.padding;u[p]=Math.max(null!==(d=u[p])&&void 0!==d?d:0,g),l=Math.max(l,a.fn(t[h])+a.padding);const f=s+l,m=!o||r.length>0;if(f>a.max&&m){c=[];break}if(u.reduce(((t,e)=>t+e),0)>n.max&&!o)return u.length<i?u.length:void 0;c.push(h+e)}return c.length>0&&r.push(c),r.length>0?r:void 0}var op=class extends ar{constructor(){super({name:"markerLabelGroup"}),this.label=new Ir,this.symbolsGroup=new ar({name:"legend-markerLabel-symbols"}),this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:t,label:e,lines:i}=this;e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1,this.symbolsGroup.append([...i,...t]),this.append([this.symbolsGroup,e])}destroy(){var t;super.destroy(),null===(t=this.proxyButton)||void 0===t||t.remove()}set markers(t){xo(this._markers,t)||(this._markers.forEach((t=>{this.removeChild(t)})),this._markers=t,this._markers.forEach((t=>{this.symbolsGroup.appendChild(t)})))}get markers(){return this._markers}set lines(t){xo(this._lines,t)||(this._lines.forEach((t=>{this.removeChild(t)})),this._lines=t,this._lines.forEach((t=>{this.symbolsGroup.appendChild(t)})))}get lines(){return this._lines}update(t){var e,i,n,a,o;const{markers:r,lines:s}=this;let l=0;for(let b=0;b<Math.max(r.length,s.length);b++){var c,u;const{length:e,spacing:i}=null!==(c=t[b])&&void 0!==c?c:0,n=r[b],a=s[b],o=null!==(u=null===n||void 0===n?void 0:n.size)&&void 0!==u?u:0;if(n){const t=n.constructor.center;n.x=(t.x-.5)*o+e/2+l,n.y=(t.y-.5)*o}a&&(a.x1=l,a.x2=l+e,a.y1=0,a.y2=0,a.markDirtyTransform()),l+=i+Math.max(e,o)}const d=t.at(-1),h=this.lines.at(-1),p=this.markers.at(-1),g=null!==h&&void 0!==h&&h.visible?h.x2:-1/0,f=(null!==(e=null===p||void 0===p?void 0:p.x)&&void 0!==e?e:0)+(null!==(i=null===p||void 0===p?void 0:p.size)&&void 0!==i?i:0)/2;if(this.label.x=Math.max(g,f)+(null!==(n=null===d||void 0===d?void 0:d.spacing)&&void 0!==n?n:0),t.length<2)return;const m=this.symbolsGroup.computeBBox(),y=Math.max(null!==(a=null===p||void 0===p?void 0:p.size)&&void 0!==a?a:0,null!==(o=null===d||void 0===d?void 0:d.length)&&void 0!==o?o:0),v=new Li(m.x+y/2,m.y,y,m.height);this.symbolsGroup.setClipRectInGroupCoordinateSpace(v)}render(t){this.markers.forEach((t=>{t.opacity=this.opacity})),this.lines.forEach((t=>{t.opacity=this.opacity})),this.label.opacity=this.opacity,super.render(t)}};op.className="MarkerLabel",ce([As("label")],op.prototype,"text",2),ce([As("label")],op.prototype,"fontStyle",2),ce([As("label")],op.prototype,"fontWeight",2),ce([As("label")],op.prototype,"fontSize",2),ce([As("label")],op.prototype,"fontFamily",2),ce([As("label","fill")],op.prototype,"color",2);var rp=class extends wn{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};ce([pa(Ba)],rp.prototype,"color",2),ce([pa(Ha,{optional:!0})],rp.prototype,"fontStyle",2),ce([pa(Za,{optional:!0})],rp.prototype,"fontWeight",2),ce([pa(Ma)],rp.prototype,"fontSize",2),ce([pa(ka)],rp.prototype,"fontFamily",2);var sp=class extends wn{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};ce([pa(Ma)],sp.prototype,"size",2),ce([pa(Ba,{optional:!0})],sp.prototype,"fill",2),ce([pa(Da,{optional:!0})],sp.prototype,"fillOpacity",2),ce([pa(Ba,{optional:!0})],sp.prototype,"stroke",2),ce([pa(Ma)],sp.prototype,"strokeWidth",2),ce([pa(Da)],sp.prototype,"strokeOpacity",2);var lp=class extends wn{constructor(t){super(),this.parent=t,this.shape=gh,this.size=15,this.padding=8}};ce([Rs({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],lp.prototype,"shape",2),ce([pa(Ma)],lp.prototype,"size",2),ce([pa(Ma)],lp.prototype,"padding",2);var cp=class extends wn{constructor(t,e,i,n){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.regionManager=i,this.cursorManager=n,this.id=si(this),this.marker=new lp(this),this.activeStyle=new sp,this.inactiveStyle=new sp,this.highlightStyle=new sp,this.label=new rp,this.group=new ar({name:"pagination"}),this.labelNode=new Ir,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new gh,this._previousButton=new gh,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const a=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(a.addListener("click",(t=>this.onPaginationClick(t))),a.addListener("hover",(t=>this.onPaginationMouseMove(t)))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach((t=>t()))}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){if(this._orientation=t,"horizontal"===t)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}get orientation(){return this._orientation}set nextButton(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))}get nextButton(){return this._nextButton}set previousButton(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){const t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:t,totalPages:e,labelNode:i,label:{color:n,fontStyle:a,fontWeight:o,fontSize:r,fontFamily:s}}=this;i.text="".concat(t+1," / ").concat(e),i.fill=n,i.fontStyle=a,i.fontWeight=o,i.fontSize=r,i.fontFamily=s}updateMarkers(){const{nextButton:t,previousButton:e,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:a,inactiveStyle:o,highlightStyle:r,highlightActive:s}=this,l=(t,e)=>e?o:t===s?r:a;this.updateMarker(t,l("next",i)),this.updateMarker(e,l("previous",n))}updateMarker(t,e){var i;const{size:n}=this.marker;t.size=n,t.fill=e.fill,t.fillOpacity=null!==(i=e.fillOpacity)&&void 0!==i?i:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){const{currentPage:t,totalPages:e}=this,i=0===e,n=t===e-1,a=0===t;this.nextButtonDisabled=n||i,this.previousButtonDisabled=a||i}nextButtonContainsPoint(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)}previousButtonContainsPoint(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)}clickNext(){this.incrementPage(),this.onPaginationChanged()}clickPrevious(){this.decrementPage(),this.onPaginationChanged()}setPage(t){t=pi(0,t,this.totalPages-1),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}onPaginationClick(t){const{offsetX:e,offsetY:i}=t;t.preventDefault(),this.nextButtonContainsPoint(e,i)?this.clickNext():this.previousButtonContainsPoint(e,i)&&this.clickPrevious()}onPaginationMouseMove(t){const{offsetX:e,offsetY:i}=t;this.nextButtonContainsPoint(e,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const t=vh(this.marker.shape||gh);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}computeBBox(){return this.group.computeBBox()}computeCSSBounds(){const t=this.group.computeTransformedBBox(),e=this._previousButton.computeTransformedBBox(),i=this._nextButton.computeTransformedBBox();return e.x-=t.x,e.y-=t.y,i.x-=t.x,i.y-=t.y,{group:t,prev:e,next:i}}};cp.className="Pagination",ce([pa(ya)],cp.prototype,"marker",2),ce([pa(ya)],cp.prototype,"activeStyle",2),ce([pa(ya)],cp.prototype,"inactiveStyle",2),ce([pa(ya)],cp.prototype,"highlightStyle",2),ce([pa(ya)],cp.prototype,"label",2);var up=class extends wn{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};ce([pa(Ma,{optional:!0})],up.prototype,"maxLength",2),ce([pa(Ba)],up.prototype,"color",2),ce([pa(Ha,{optional:!0})],up.prototype,"fontStyle",2),ce([pa(Za,{optional:!0})],up.prototype,"fontWeight",2),ce([pa(Ma)],up.prototype,"fontSize",2),ce([pa(ka)],up.prototype,"fontFamily",2),ce([pa(xa,{optional:!0})],up.prototype,"formatter",2);var dp=class extends wn{constructor(){super(...arguments),this.size=15,this.padding=8}};ce([Os((t=>{var e;return null===(e=t.parent)||void 0===e?void 0:e.onMarkerShapeChange()}))],dp.prototype,"shape",2),ce([pa(Ma)],dp.prototype,"size",2),ce([pa(Ma)],dp.prototype,"padding",2),ce([pa(Ma,{optional:!0})],dp.prototype,"strokeWidth",2),ce([pa(ba)],dp.prototype,"enabled",2);var hp=class extends wn{};ce([pa(Ma,{optional:!0})],hp.prototype,"strokeWidth",2),ce([pa(Ma,{optional:!0})],hp.prototype,"length",2);var pp=class extends wn{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new dp,this.label=new up,this.line=new hp}};ce([pa(Ma,{optional:!0})],pp.prototype,"maxWidth",2),ce([pa(Ma)],pp.prototype,"paddingX",2),ce([pa(Ma)],pp.prototype,"paddingY",2),ce([pa(ba)],pp.prototype,"showSeriesStroke",2),ce([pa(ya)],pp.prototype,"marker",2),ce([pa(ya)],pp.prototype,"label",2),ce([pa(ya)],pp.prototype,"line",2);var gp=class extends wn{};ce([pa(xa,{optional:!0})],gp.prototype,"legendItemClick",2),ce([pa(xa,{optional:!0})],gp.prototype,"legendItemDoubleClick",2);var fp="legend-visibility",mp="legend-other-series",yp=class extends wn{constructor(t){super(),this.ctx=t,this.id=si(this),this.group=new ar({name:"legend",layer:!0,zIndex:11}),this.itemSelection=xs.select(this.group,op),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new pp,this.listeners=new gp,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new cp((e=>t.updateService.update(e)),(t=>this.updatePageNumber(t)),t.regionManager,t.cursorManager),this.pagination.attachPagination(this.group),t.contextMenuRegistry.registerDefaultAction({id:fp,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),t.contextMenuRegistry.registerDefaultAction({id:mp,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)});const{Default:e,Animation:i,ContextMenu:n}=nl,a=e|i,o=e|i|n,r=t.regionManager.addRegion("legend",this.group);this.destroyFns.push(r.addListener("contextmenu",(t=>this.checkContextClick(t)),o),r.addListener("click",(t=>this.checkLegendClick(t)),a),r.addListener("dblclick",(t=>this.checkLegendDoubleClick(t)),a),r.addListener("hover",(t=>this.handleLegendMouseMove(t))),r.addListener("leave",(t=>this.handleLegendMouseExit(t)),a),r.addListener("enter",(t=>this.handleLegendMouseEnter(t)),a),t.layoutService.addListener("start-layout",(t=>this.positionLegend(t))),(()=>this.detachLegend()),t.localeManager.addListener("locale-changed",(()=>this.onLocaleChanged()))),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"".concat(this.id,"-toolbar"),classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaOrientation:"horizontal"}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:"".concat(this.id,"-pagination"),classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"})}set data(t){this._data=t,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay","".concat(this.id,"-toolbar")),this.ctx.domManager.removeChild("canvas-overlay","".concat(this.id,"-pagination")),this.destroyFns.forEach((t=>t())),this.pagination.destroy(),this.itemSelection.clear()}initLegendItemToolbar(){this.itemSelection.each(((t,e,i)=>{var n;null!==(n=t.proxyButton)&&void 0!==n||(t.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:"ag-charts-legend-item-".concat(i),textContent:this.getItemAriaText(i),parent:this.proxyLegendToolbar,focusable:t,onclick:()=>{this.doClick(t.datum),t.proxyButton.textContent=this.getItemAriaText(i,!t.datum.enabled)},onblur:()=>this.doMouseExit(),onfocus:()=>{const e=null===t||void 0===t?void 0:t.computeTransformedBBox(),i=Uu(this.ctx.focusIndicator,{bounds:e,showFocusBox:!0});this.doHover(i,t.datum),this.pagination.setPage(t.pageIndex)}}))}));const t=this.itemSelection.nodes().map((t=>t.proxyButton)).filter((t=>!!t));$h({orientation:this.getOrientation(),buttons:t,toolbar:this.proxyLegendToolbar})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(t){const{characterWidths:e}=this;if(e.has(t))return e.get(t);const i={"...":Ir.getTextSize("...",t).width};return e.set(t,i),i}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}detachLegend(){var t;null===(t=this.group.parent)||void 0===t||t.removeChild(this.group)}getItemLabel(t){const{ctx:{callbackCache:e}}=this,{formatter:i}=this.item.label;return i?e.call(i,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text}calcLayout(t,e){const{paddingX:i,paddingY:n,label:a,maxWidth:o,label:{maxLength:r=1/0,fontStyle:s,fontWeight:l,fontSize:c,fontFamily:u}}=this.item,d=[...this.data];this.reverseOrder&&d.reverse();const h=0===this.itemSelection.nodes().length;this.itemSelection.update(d),h&&this.initLegendItemToolbar();const p=[],g=Nr(a),f=null!==o&&void 0!==o?o:.8*t;if(this.itemSelection.each(((t,e)=>{var i;t.fontStyle=s,t.fontWeight=l,t.fontSize=c,t.fontFamily=u;const n=this.updateMarkerLabel(t,e,this.calcMarkerWidth()),a=null!==(i=e.itemId)&&void 0!==i?i:e.id,o=this.getItemLabel(e),d=(null!==o&&void 0!==o?o:"<unknown>").replace(/\r?\n/g," ");t.text=this.truncate(d,r,f,n,g,a),p.push(t.computeBBox())})),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return{};const m=this.size,y=this.oldSize;m[0]=t,m[1]=e,m[0]===y[0]&&m[1]===y[1]||(y[0]=m[0],y[1]=m[1]);const{pages:v,maxPageHeight:b,maxPageWidth:x}=this.updatePagination(p,t,e),k=this.pages;this.pages=v,this.maxPageSize=[x-i,b-n];const S=this.pagination.currentPage,w=this.pages[S];return this.pages.length<1||!w?(this.visible=!1,{oldPages:k}):(this.visible=!0,this.updatePositions(S),this.update(),{oldPages:k})}calcSymbolsLengths(t){var e,i,n;const{showSeriesStroke:a,marker:o,line:r}=this.item,s=null!==(e=o.enabled)&&void 0!==e?e:a&&(null===(i=t.marker.enabled)||void 0===i||i),l=s?o.size:0,c=!(!t.line||!a);return{markerEnabled:s,markerLength:l,lineEnabled:c,lineLength:c?null!==(n=r.length)&&void 0!==n?n:25:0}}calcMarkerWidth(){let t=0;return this.itemSelection.each(((e,i)=>{i.symbols.forEach((e=>{const{lineLength:i,markerLength:n}=this.calcSymbolsLengths(e);t=Math.max(t,i,n)}))})),t}updateMarkerLabel(t,e,i){const{marker:n,paddingX:a}=this.item,o=[];let r=a;if(t.markers.length!==e.symbols.length&&t.lines.length!==e.symbols.length){const i=[],a=[];e.symbols.forEach((t=>{const{shape:e=t.marker.shape}=n,o=vh(e);a.push(new Ms),i.push(new o)})),t.markers=i,t.lines=a}return e.symbols.forEach(((e,a)=>{var s;const l=null!==(s=e.marker.padding)&&void 0!==s?s:n.padding,{markerEnabled:c,lineEnabled:u}=this.calcSymbolsLengths(e);t.markers[a].size=c||!u?n.size:0,o.push({length:i,spacing:l}),(c||u)&&(r+=l+i)})),t.update(o),r}truncate(t,e,i,n,a,o){const r=t.split("");let s=!1;t.length>e&&(t="".concat(t.substring(0,e)),s=!0);if(Math.floor(n+Ir.getTextSize(t,a).width)>i){let e="";const o=this.getCharacterWidths(a);let l=n+o["..."];for(const t of r){if(o[t]||(o[t]=Ir.getTextSize(t,a).width),l+=o[t],l>i)break;e+=t}t=e,s=!0}return s?(t+="...",this.truncatedItems.add(o)):this.truncatedItems.delete(o),t}updatePagination(t,e,i){const n=this.getOrientation(),a=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:o,maxPageHeight:r,maxPageWidth:s,paginationBBox:l,paginationVertical:c}=this.calculatePagination(t,e,i),u=o.findIndex((t=>t.endIndex>=a));this.pagination.currentPage=pi(0,u,o.length-1);const{paddingX:d,paddingY:h}=this.item,p=s-d,g=r-h;let f=0,m=-l.y-this.item.marker.size/2;c?m+=g+8:(f+=-l.x+p+8,m+=(g-l.height)/2),this.pagination.translationX=f,this.pagination.translationY=m,this.pagination.update(),this.pagination.updateMarkers();let y=0;return this.itemSelection.each(((t,e,i)=>{var n,a;i>(null!==(n=null===(a=o[y])||void 0===a?void 0:a.endIndex)&&void 0!==n?n:1/0)&&y++,t.pageIndex=y})),{maxPageHeight:r,maxPageWidth:s,pages:o}}updatePaginationProxyButtons(t){var e;this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const i=(null!==(e=null===t||void 0===t?void 0:t.length)&&void 0!==e?e:this.pages.length)>1,n=this.pages.length>1;if(i!==n)if(n){var a;this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:"".concat(this.id,"-prev-page"),textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.previousButton,onclick:()=>this.pagination.clickPrevious()}),null!==(a=this.proxyNextButton)&&void 0!==a||(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:"".concat(this.id,"-next-page"),textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.nextButton,onclick:()=>this.pagination.clickNext()}));const{group:t,prev:e,next:i}=this.pagination.computeCSSBounds();ys(this.proxyLegendPagination,t),ys(this.proxyPrevButton,e),ys(this.proxyNextButton,i)}else{var o,r;null===(o=this.proxyNextButton)||void 0===o||o.remove(),null===(r=this.proxyPrevButton)||void 0===r||r.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0]}}calculatePagination(t,e,i){const{paddingX:n,paddingY:a}=this.item,o=this.getOrientation(),r=["left","right"].includes(this.position);let s=this.pagination.computeBBox(),l=new Li(0,0,0,0),c=[],u=0,d=0,h=0;const p=void 0!==this.maxWidth&&void 0!==this.maxHeight;do{var g,f,m;if(h++>10){ye.warn("unable to find stable legend layout.");break}s=l;const y=e-(r?0:s.width),v=ip({orientation:o,bboxes:t,maxHeight:i-(r?s.height:0),maxWidth:y,itemPaddingY:a,itemPaddingX:n,forceResult:p});c=null!==(g=null===v||void 0===v?void 0:v.pages)&&void 0!==g?g:[],u=null!==(f=null===v||void 0===v?void 0:v.maxPageWidth)&&void 0!==f?f:0,d=null!==(m=null===v||void 0===v?void 0:v.maxPageHeight)&&void 0!==m?m:0;const b=c.length;if(this.pagination.visible=b>1,this.pagination.totalPages=b,this.pagination.update(),l=this.pagination.computeBBox(),!this.pagination.visible)break}while((y=l).width!==s.width||y.height!==s.height);var y;return{maxPageWidth:u,maxPageHeight:d,pages:c,paginationBBox:s,paginationVertical:r}}updatePositions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{item:{paddingY:e},itemSelection:i,pages:n}=this;if(n.length<1||!n[t])return;const{columns:a,startIndex:o,endIndex:r}=n[t];let s=0,l=0;const c=a.length,u=a[0].indices.length,d="horizontal"===this.getOrientation(),h=a[0].bboxes[0].height+e,p=[];i.each(((t,e,i)=>{var n,g;if(i<o||i>r)return void(t.visible=!1);const f=i-o;let m=0,y=0;d?(m=f%c,y=Math.floor(f/c)):(m=Math.floor(f/u),y=f%u),t.visible=!0;const v=a[m];if(!v)return;l=Math.floor(h*y),s=Math.floor(null!==(n=p[y])&&void 0!==n?n:0),p[y]=(null!==(g=p[y])&&void 0!==g?g:0)+v.columnWidth,t.translationX=s,t.translationY=l;const{width:b,height:x}=t.computeBBox();ys(t.proxyButton,{x:s,y:l,width:b,height:x})}))}updatePageNumber(t){const{pages:e}=this,{startIndex:i,endIndex:n}=e[t];0===i?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(6)}update(){const{label:{color:t}}=this.item;this.itemSelection.each(((e,i)=>{i.symbols.forEach(((t,i)=>{const n=e.markers[i],a=e.lines[i];if(n){const{strokeWidth:e,fill:i,stroke:a,fillOpacity:o,strokeOpacity:r}=this.getMarkerStyles(t);n.fill=i,n.stroke=a,n.strokeWidth=e,n.fillOpacity=o,n.strokeOpacity=r}if(a){const e=this.getLineStyles(t);a.stroke=e.stroke,a.strokeOpacity=e.strokeOpacity,a.strokeWidth=e.strokeWidth,a.lineDash=e.lineDash}})),e.opacity=i.enabled?1:.5,e.color=t})),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:t}=this;this.ctx.contextMenuRegistry.setActionVisiblity(fp,t),this.ctx.contextMenuRegistry.setActionVisiblity(mp,t)}getLineStyles(t){var e,i;const{stroke:n,strokeOpacity:a=1,strokeWidth:o,lineDash:r}=null!==(e=t.line)&&void 0!==e?e:{},s=Math.min(2,null!==o&&void 0!==o?o:1);return{stroke:n,strokeOpacity:a,strokeWidth:null!==(i=this.item.line.strokeWidth)&&void 0!==i?i:s,lineDash:r}}getMarkerStyles(t){var e;const{fill:i,stroke:n,strokeOpacity:a=1,fillOpacity:o=1,strokeWidth:r}=t.marker,s=Math.min(2,null!==r&&void 0!==r?r:1);return{fill:i,stroke:n,strokeOpacity:a,fillOpacity:o,strokeWidth:null!==(e=this.item.marker.strokeWidth)&&void 0!==e?e:s}}getDatumForPoint(t,e){const i=[],n={dist:1/0,datum:void 0};for(const a of this.group.children){if(!a.visible)continue;if(!(a instanceof op))continue;const o=a.computeBBox();if(o.grow(this.item.paddingX/2,"horizontal"),o.grow(this.item.paddingY/2,"vertical"),o.containsPoint(t,e))return a.datum;const r=t-o.x-this.item.paddingX/2,s=e-o.y-this.item.paddingY/2,l=r**2+s**2;r>=0&&s>=0&&l<n.dist&&(n.dist=l,n.datum=a.datum),i.push(o)}if(Li.merge(i).containsPoint(t,e))return n.datum}computePagedBBox(){const t=this.group.computeBBox();if(this.pages.length<=1)return t;const[e,i]=this.maxPageSize;return t.height=Math.max(i,t.height),t.width=Math.max(e,t.width),t}contextToggleVisibility(t){const e=this.data.find((e=>e.itemId===t.itemId));this.doClick(e)}contextToggleOtherSeries(t){const e=this.data.find((e=>e.itemId===t.itemId));this.doDoubleClick(e)}checkContextClick(t){var e;const i=this.getDatumForPoint(t.offsetX,t.offsetY);this.preventHidingAll&&null!==(e=this.contextMenuDatum)&&void 0!==e&&e.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(fp):this.ctx.contextMenuRegistry.enableAction(fp),this.ctx.contextMenuRegistry.dispatchContext("legend",t,{legendItem:i})}checkLegendClick(t){const e=this.getDatumForPoint(t.offsetX,t.offsetY);this.doClick(e)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap((t=>t.getLegendData("category"))).filter((t=>t.enabled)).length}doClick(t){const{listeners:{legendItemClick:e},ctx:{chartService:i,highlightManager:n},preventHidingAll:a,toggleSeries:o}=this;if(!t)return!1;const{id:r,itemId:s,enabled:l}=t,c=i.series.find((t=>t.id===r));if(!c)return!1;let u=l;if(o){if(u=!l,a&&!u){this.getVisibleItemCount()<2&&(u=!0)}const e=u?"ariaAnnounceVisible":"ariaAnnounceHidden";this.ctx.ariaAnnouncementService.announceValue(e),this.ctx.chartEventManager.legendItemClick(c,s,u,t.legendItemName)}return u?n.updateHighlight(this.id,{series:c,itemId:s,datum:void 0}):n.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),null===e||void 0===e||e({type:"click",enabled:u,itemId:s,seriesId:c.id}),!0}checkLegendDoubleClick(t){const e=this.getDatumForPoint(t.offsetX,t.offsetY);this.doDoubleClick(e)&&t.preventDefault()}doDoubleClick(t){const{listeners:{legendItemDoubleClick:e},ctx:{chartService:i},toggleSeries:n}=this;if("integrated"===i.mode)return!1;if(!t)return!1;const{id:a,itemId:o,seriesId:r}=t,s=i.series.find((t=>t.id===a));if(!s)return!1;if(n){var l;const t=i.series.flatMap((t=>t.getLegendData("category"))),e=t.filter((t=>t.enabled)).length,n=t.find((t=>t.itemId===o&&t.seriesId===r));this.ctx.chartEventManager.legendItemDoubleClick(s,o,null!==(l=null===n||void 0===n?void 0:n.enabled)&&void 0!==l&&l,e,null===n||void 0===n?void 0:n.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),null===e||void 0===e||e({type:"dblclick",enabled:!0,itemId:o,seriesId:s.id}),!0}handleLegendMouseMove(t){if(!this.enabled)return;const{offsetX:e,offsetY:i}=t;t.preventDefault();const n=this.getDatumForPoint(e,i);this.doHover(t,n)}doHover(t,e){var i;const{toggleSeries:n,listeners:a}=this;if(void 0===t||void 0===e)return this.ctx.cursorManager.updateCursor(this.id),void this.ctx.highlightManager.updateHighlight(this.id);const o=e?this.ctx.chartService.series.find((t=>t.id===(null===e||void 0===e?void 0:e.id))):void 0;if(e&&this.truncatedItems.has(null!==(i=e.itemId)&&void 0!==i?i:e.id)){const{offsetX:i,offsetY:n}=t;this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:t,showArrow:!1},Ws({content:this.getItemLabel(e)}))}else this.ctx.tooltipManager.removeTooltip(this.id);(n||null!=a.legendItemClick||null!=a.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),null!==e&&void 0!==e&&e.enabled&&o?this.ctx.highlightManager.updateHighlight(this.id,{series:o,itemId:null===e||void 0===e?void 0:e.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(t){this.doMouseExit()}doMouseExit(){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),16===this.ctx.interactionManager.getState()&&this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseEnter(t){const{enabled:e,toggleSeries:i,listeners:{legendItemClick:n,legendItemDoubleClick:a}}=this,o=this.getDatumForPoint(t.offsetX,t.offsetY);e&&void 0!==o&&(i||null!=n||null!=a)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}onLocaleChanged(){this.itemSelection.each(((t,e,i)=>{let{proxyButton:n}=t;null!=n&&(n.textContent=this.getItemAriaText(i))}))}getItemAriaText(t,e){var i;const n=this.data[t],a=n&&this.getItemLabel(n);null!==(i=e)&&void 0!==i||(e=n.enabled);const o=this.ctx.localeManager;if(t>=0&&a){const i=t+1,n=this.data.length;return[o.t("ariaLabelLegendItem",{label:a,index:i,count:n}),o.t(e?"ariaAnnounceVisible":"ariaAnnounceHidden")].join("")}return o.t("ariaLabelLegendItemUnknown")}positionLegend(t){const{shrinkRect:e}=t,i=e.clone();if(!this.enabled||!this.data.length)return{...t,shrinkRect:i};const[n,a]=this.calculateLegendDimensions(e);this.group.translationX=0,this.group.translationY=0;const{oldPages:o}=this.calcLayout(n,a),r=this.computePagedBBox(),s=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return e.height-r.height;default:return e.width-r.width}};if(this.visible){let t,n;switch(this.position){case"top":case"bottom":t=(e.width-r.width)/2,n=s(),i.shrink(r.height,this.position);break;default:t=s(),n=(e.height-r.height)/2,i.shrink(r.width,this.position)}this.group.translationX=Math.floor(-r.x+e.x+t),this.group.translationY=Math.floor(-r.y+e.y+n);const a=this.group.computeTransformedBBox();a&&(ys(this.proxyLegendToolbar,a),this.proxyLegendToolbar.style.removeProperty("display")),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}else this.proxyLegendToolbar.style.display="none";if(this.updatePaginationProxyButtons(o),this.visible&&this.enabled&&this.data.length){const t=this.spacing;i.shrink(t,this.position);const e=r.clone();e.x+=this.group.translationX,e.y+=this.group.translationY}return{...t,shrinkRect:i}}calculateLegendDimensions(t){const{width:e,height:i}=t,n=e/i;let a,o;switch(this.position){case"top":case"bottom":const t=n<1?Math.min(.5,1/n*.2):.2;a=this.maxWidth?Math.min(this.maxWidth,e):e,o=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*t);break;default:const r=n>1?Math.min(.5,.25*n):.25;a=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*r),o=this.maxHeight?Math.min(this.maxHeight,i):i}return[a,o]}};yp.className="Legend",ce([pa(ba)],yp.prototype,"toggleSeries",2),ce([pa(ya)],yp.prototype,"pagination",2),ce([pa(ya)],yp.prototype,"item",2),ce([pa(ya)],yp.prototype,"listeners",2),ce([Os((t=>t.updateGroupVisibility())),pa(ba)],yp.prototype,"enabled",2),ce([pa(Ya)],yp.prototype,"position",2),ce([pa(Ma,{optional:!0})],yp.prototype,"maxWidth",2),ce([pa(Ma,{optional:!0})],yp.prototype,"maxHeight",2),ce([pa(ba,{optional:!0})],yp.prototype,"reverseOrder",2),ce([pa(no(["horizontal","vertical"],"an orientation"),{optional:!0})],yp.prototype,"orientation",2),ce([pa(ba,{optional:!0})],yp.prototype,"preventHidingAll",2),ce([pa(Ma)],yp.prototype,"spacing",2);var vp={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:yp,packageType:"community"},bp=class extends Wl{constructor(t){super(),this.ctx=t,this.localeText=void 0}};ce([Os((t=>{t.ctx.localeManager.setLocaleText(t.localeText)})),pa(va,{optional:!0})],bp.prototype,"localeText",2),ce([Os((t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)})),pa(xa,{optional:!0})],bp.prototype,"getLocaleText",2);var xp={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:bp},kp=class extends Lc{constructor(){super(...arguments),this.zIndex=3,this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)}get height(){return this._height}layout(t,e){this.centerX=t,this.centerY=e}static align(t,e,i,n,a,o,r,s){const l=t.strokeWidth/2,c=t.align(i+a*r)+l,u=c+t.align(i+a*r,a*(s-r))-2*l,d=t.align(n+o/2)+l;t.layout(c,d),e.layout(u,d)}computeBBox(){const{centerX:t,centerY:e,width:i,height:n}=this;return new Li(t-i/2,e-n/2,i,n)}computeTransformedBBox(){return super.computeTransformedBBox()}isPointInPath(t,e){const i=this.transformPoint(t,e);return this.computeBBox().containsPoint(i.x,i.y)}updatePath(){var t,e;const{centerX:i,centerY:n,path:a,strokeWidth:o,gripLineGap:r,gripLineLength:s}=this,l=null!==(t=null===(e=this.layerManager)||void 0===e||null===(e=e.canvas)||void 0===e?void 0:e.pixelRatio)&&void 0!==t?t:1;a.clear();const c=Math.floor(this.width/2*l)/l,u=Math.floor(this.height/2*l)/l;a.moveTo(i-c,n-u),a.lineTo(i+c,n-u),a.lineTo(i+c,n+u),a.lineTo(i-c,n+u),a.closePath();const d=Math.floor((r+o)/2*l)/l,h=Math.floor(s/2*l)/l;a.moveTo(i-d,n-h),a.lineTo(i-d,n+h),a.moveTo(i+d,n-h),a.lineTo(i+d,n+h)}};kp.className="RangeHandle",ce([pa(Ba)],kp.prototype,"_fill",2),ce([pa(Ba)],kp.prototype,"_stroke",2),ce([pa(Ma)],kp.prototype,"_strokeWidth",2),ce([pa(Wa)],kp.prototype,"_lineCap",2),ce([pa(Ma)],kp.prototype,"_width",2),ce([pa(Ma)],kp.prototype,"_gripLineGap",2),ce([pa(Ma)],kp.prototype,"_gripLineLength",2),ce([pa(Ma)],kp.prototype,"_height",2);var Sp=class extends Lc{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n,this.dirtyPath=!0}update(t,e){this.min=isNaN(t)?this.min:t,this.max=isNaN(e)?this.max:e,this.dirtyPath=!0}computeBBox(){const{x:t,y:e,width:i,height:n}=this;return new Li(t,e,i,n)}computeVisibleRangeBBox(){const{x:t,y:e,width:i,height:n,min:a,max:o}=this,r=t+i*a;return new Li(r,e,t+i*o-r,n)}updatePath(){const{path:t,x:e,y:i,width:n,height:a,min:o,max:r,strokeWidth:s}=this,l=s/2;t.clear();const c=this.align(e)+l,u=this.align(i)+l,d=c+this.align(e,n)-2*l,h=u+this.align(i,a)-2*l;t.moveTo(c,u),t.lineTo(d,u),t.lineTo(d,h),t.lineTo(c,h),t.closePath();const p=this.align(e+n*o)+l,g=p+this.align(e+n*o,n*(r-o))-2*l;t.moveTo(p,u),t.lineTo(p,h),t.lineTo(g,h),t.lineTo(g,u),t.closePath()}};Sp.className="RangeMask";var wp=class extends ar{constructor(t){super({name:"rangeSelectorGroup",layer:!0,zIndex:12}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new ar({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(t)}layout(t,e,i,n,a,o){this.x=t,this.y=e,this.width=i,this.height=n,this.lOffset=a,this.rOffset=o,this.background.translationX=t,this.background.translationY=e}updateBackground(t,e){null!=t&&this.background.removeChild(t),null!=e&&this.background.appendChild(e)}computeBBox(){const{x:t,y:e,width:i,height:n,lOffset:a,rOffset:o}=this;return new Li(t-a,e,i+(a+o),n)}},Mp=class extends Wl{constructor(t){super(),this.ctx=t,this.miniChart=void 0,this.enabled=!1,this.mask=new Sp,this.minHandle=new kp,this.maxHandle=new kp,this.maskVisibleRange={computeBBox:()=>this.mask.computeVisibleRangeBBox(),computeTransformedBBox:()=>this.mask.computeVisibleRangeBBox()},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new wp([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const e=t.regionManager.addRegion("navigator",this.rangeSelector);this.destroyFns.push(t.scene.attachNode(this.rangeSelector),e.addListener("hover",(t=>this.onHover(t)),25),e.addListener("drag-start",(t=>this.onDragStart(t)),25),e.addListener("drag",(t=>this.onDrag(t)),25),e.addListener("drag-end",(()=>this.onDragEnd()),25),e.addListener("leave",(t=>this.onLeave(t)),25),this.ctx.localeManager.addListener("locale-changed",(()=>this.updateZoom())),t.zoomManager.addListener("zoom-change",(t=>this.onZoomChange(t)))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.minHandle,onchange:t=>this.onMinSliderChange(t)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maskVisibleRange,onchange:t=>this.onPanSliderChange(t)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maxHandle,onchange:t=>this.onMaxSliderChange(t)})],$h({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push((()=>{this.proxyNavigatorElements.forEach((t=>t.remove())),this.proxyNavigatorToolbar.remove()}))}updateBackground(t,e){var i;null===(i=this.rangeSelector)||void 0===i||i.updateBackground(t,e)}updateGroupVisibility(){const{enabled:t}=this;null!=this.rangeSelector&&t!==this.rangeSelector.visible&&(this.rangeSelector.visible=t,t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}async performLayout(t){const{shrinkRect:e}=t;if(this.enabled){const t=this.height+this.spacing;e.shrink(t,"bottom"),this.y=e.y+e.height+this.spacing}else this.y=0;return{...t,shrinkRect:e}}async performCartesianLayout(t){const{x:e,width:i}=t.seriesRect;if(this.enabled){const{y:t,height:n}=this;this.layoutNodes(e,t,i,n),ys(this.proxyNavigatorToolbar,{x:e,y:t,width:i,height:n}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=e,this.width=i}onHover(t){if(!this.enabled)return;const{mask:e,minHandle:i,maxHandle:n}=this,{offsetX:a,offsetY:o}=t;i.containsPoint(a,o)||n.containsPoint(a,o)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):e.computeVisibleRangeBBox().containsPoint(a,o)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(t){if(!this.enabled)return;const{mask:e,minHandle:i,maxHandle:n,x:a,width:o,_min:r}=this,{offsetX:s,offsetY:l}=t;i.zIndex<n.zIndex?n.containsPoint(s,l)?this.dragging="max":i.containsPoint(s,l)&&(this.dragging="min"):i.containsPoint(s,l)?this.dragging="min":n.containsPoint(s,l)&&(this.dragging="max"),null==this.dragging&&e.computeVisibleRangeBBox().containsPoint(s,l)&&(this.dragging="pan",this.panStart=(s-a)/o-r),null!=this.dragging&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(t){if(!this.enabled||null==this.dragging)return;const{dragging:e,minRange:i,panStart:n,x:a,width:o}=this;let{_min:r,_max:s}=this;const{offsetX:l}=t,c=(l-a)/o;if("min"===e)r=pi(0,c,s-i);else if("max"===e)s=pi(r+i,c,1);else if("pan"===e&&null!=n){const t=s-r;r=pi(0,c-n,1-t),s=r+t}this._min=r,this._max=s,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(t){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(t){const{x:e}=t;e&&(this._min=e.min,this._max=e.max,this.updateNodes(e.min,e.max))}onPanSliderChange(t){const e=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=pi(0,e,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(t){const e=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(e,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(t){const e=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(e,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(t,e){this.proxyNavigatorElements[1].value="".concat(Math.round(100*t)),this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:t,max:e})}setSliderRatioClamped(t,e,i){const n=this.getSliderRatio(t),a=pi(e,n,i);return a!==n&&this.setSliderRatio(t,a),a}setSliderRatio(t,e){const i=Math.round(100*e);t.value="".concat(i),t.ariaValueText=Mi(i)}getSliderRatio(t){return parseFloat(t.value)/100}layoutNodes(t,e,i,n){const{rangeSelector:a,mask:o,minHandle:r,maxHandle:s,_min:l,_max:c}=this;a.layout(t,e,i,n,r.width/2,s.width/2),o.layout(t,e,i,n),kp.align(r,s,t,e,i,n,l,c),l+(c-l)/2<.5?(r.zIndex=3,s.zIndex=4):(r.zIndex=4,s.zIndex=3),[r,this.maskVisibleRange,s].forEach(((i,n)=>{const a=i.computeBBox(),o={x:a.x-t,y:a.y-e,height:a.height,width:a.width};ys(this.proxyNavigatorElements[n],o)}))}updateNodes(t,e){this.mask.update(t,e)}updateZoom(){if(!this.enabled)return;const{_min:t,_max:e}=this,i=this.ctx.zoomManager.getZoom();if(null==t||null==e)return;return this.setPanSliderValue(t,e),this.setSliderRatio(this.proxyNavigatorElements[0],t),this.setSliderRatio(this.proxyNavigatorElements[2],e),this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:e},y:null===i||void 0===i?void 0:i.y},!1,(t=>{null==this.min&&null==this.max||ye.warnOnce("Could not apply [navigator.min] or [navigator.max] as [".concat(t,"] has modified the initial zoom state."))}))}};ce([pa(ya,{optional:!0})],Mp.prototype,"miniChart",2),ce([pa(ba),Os((t=>t.updateGroupVisibility()))],Mp.prototype,"enabled",2),ce([pa(Ma)],Mp.prototype,"height",2),ce([pa(Ma)],Mp.prototype,"spacing",2),ce([Rs({newValue(t){this._min=t,this.updateZoom()}}),pa(fa(Da,Ta("max")),{optional:!0})],Mp.prototype,"min",2),ce([Rs({newValue(t){this._max=t,this.updateZoom()}}),pa(fa(Da,Aa("min")),{optional:!0})],Mp.prototype,"max",2);var Dp={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:Mp,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function Lp(t){let{takeColors:e}=t;const{fills:[i],strokes:[n]}=e(1);return{fill:i,stroke:n}}function Cp(t){return{marker:Lp(t)}}var Ip=(t=>(t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=17]="LARGE",t))(Ip||{}),Np=(t=>(t.NORMAL="normal",t.BOLD="bold",t.BOLDER="bolder",t.LIGHTER="lighter",t))(Np||{}),Ep=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(Ep||{}),Tp=(t=>(t.CATEGORY="category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(Tp||{}),Ap=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(Ap||{}),Rp=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(Rp||{}),Op=Symbol("is-dark-theme"),Pp=Symbol("default-font"),Bp=Symbol("default-label-colour"),zp=Symbol("default-inverted-label-colour"),_p=Symbol("default-inside-series-label-colour"),Fp=Symbol("default-muted-label-colour"),Gp=Symbol("default-axis-grid-colour"),jp=Symbol("default-axis-line-colour"),Vp=Symbol("default-cross-lines-colour"),Wp=Symbol("default-background-colour"),Up=Symbol("default-shadow-colour"),Kp=Symbol("default-colours"),Yp=Symbol("default-padding"),Hp=Symbol("default-caption-layout-style"),Zp=Symbol("default-caption-alignment"),Xp=Symbol("palette-up-stroke"),qp=Symbol("palette-down-stroke"),Qp=Symbol("palette-up-fill"),Jp=Symbol("palette-down-fill"),$p=Symbol("palette-neutral-stroke"),tg=Symbol("palette-neutral-fill"),eg=Symbol("default-polar-series-stroke"),ig=Symbol("default-diverging-series-colour-range"),ng=Symbol("default-hierarchy-fills"),ag=Symbol("default-hierarchy-strokes"),og=Symbol("default-annotation-stroke"),rg=Symbol("default-annotation-background-fill"),sg=Symbol("default-annotation-handle-fill"),lg=Symbol("default-toolbar-position"),cg=Symbol("default-gridline-enabled");function ug(t,e,i,n,a){const{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:s}=a,l=(n,a,o)=>{i.animate({id:"".concat(t,"_").concat(e,"_").concat(a.id,"_").concat(n),groupId:t,from:0,to:1,ease:zn,collapsable:!1,onUpdate(t,e){e&&"removed"!==n||(a.path.clear(!0),o(t,a),a.checkPathDirty())},onStop(){"added"===n&&(a.path.clear(!0),o(1,a),a.checkPathDirty())},phase:Xn[n]})};for(const c of n)i.isSkipped()||(l("removed",c,s),l("updated",c,r)),l("added",c,o)}var dg=null;function hg(t){var e;if(null!=t)return""===t?"":(null!==(e=dg)&&void 0!==e||(dg=ps("div")),dg.textContent=String(t),dg.innerHTML)}function pg(t,e,i){let{id:n}=t;for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];Qn(n,e,i,o,{opacity:0},{opacity:1},{phase:"trailing"})}function gg(t,e,i){let{id:n}=t;for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];Qn(n,e,i,o,{opacity:1},{opacity:0},{phase:"remove"})}function fg(t){return{opacity:1}}var mg=class extends wn{constructor(){super(...arguments),this._dirty=3}markDirty(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._dirty<e&&(this._dirty=e)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},yg=class extends mg{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};ce([pa(ba),Ii({redraw:3})],yg.prototype,"enabled",2),ce([pa(Ba),Ii({redraw:3})],yg.prototype,"color",2),ce([pa(Sa),Ii({redraw:3})],yg.prototype,"xOffset",2),ce([pa(Sa),Ii({redraw:3})],yg.prototype,"yOffset",2),ce([pa(Ma),Ii({redraw:3})],yg.prototype,"blur",2);var vg=ro((t=>yh(t)||"function"===typeof t&&Object.create(t.prototype)instanceof eh),"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),bg=class extends mg{constructor(){super(...arguments),this.enabled=!0,this.shape=ih,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:t,shape:e,fill:i,fillOpacity:n,stroke:a,strokeWidth:o,strokeOpacity:r}=this;return{size:t,shape:e,fill:i,fillOpacity:n,stroke:a,strokeWidth:o,strokeOpacity:r}}getDiameter(){return this.size+this.strokeWidth}};ce([pa(ba),Ii({redraw:3})],bg.prototype,"enabled",2),ce([pa(vg),Ii({redraw:3})],bg.prototype,"shape",2),ce([pa(Ma),Ii({redraw:3})],bg.prototype,"size",2),ce([pa(Ba,{optional:!0}),Ii({redraw:3})],bg.prototype,"fill",2),ce([pa(Da),Ii({redraw:3})],bg.prototype,"fillOpacity",2),ce([pa(Ba,{optional:!0}),Ii({redraw:3})],bg.prototype,"stroke",2),ce([pa(Ma),Ii({redraw:3})],bg.prototype,"strokeWidth",2),ce([pa(Da),Ii({redraw:3})],bg.prototype,"strokeOpacity",2),ce([pa(xa,{optional:!0}),Ii({redraw:3})],bg.prototype,"itemStyler",2);var xg=class extends wn{constructor(){super(...arguments),this.enabled=!1}};ce([pa(ba)],xg.prototype,"enabled",2);var kg=class extends wn{constructor(){super(...arguments),this.enabled=!0,this.interaction=new xg,this.position=new Us,this.range=void 0}toTooltipHtml(t,e){return this.renderer?Ws(this.renderer(e),t):Ws(t)}};ce([pa(ba)],kg.prototype,"enabled",2),ce([pa(ba,{optional:!0})],kg.prototype,"showArrow",2),ce([pa(xa,{optional:!0})],kg.prototype,"renderer",2),ce([pa(ya)],kg.prototype,"interaction",2),ce([pa(ya)],kg.prototype,"position",2),ce([pa(eo,{optional:!0})],kg.prototype,"range",2);var Sg=no(["linear","smooth","step"],"a line style"),wg=no(["start","middle","end"]),Mg=class extends wn{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};ce([pa(Sg)],Mg.prototype,"type",2),ce([pa(Da)],Mg.prototype,"tension",2),ce([pa(wg)],Mg.prototype,"position",2);var Dg=class extends Ih{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Mg,this.shadow=new yg,this.marker=new bg,this.label=new Er,this.tooltip=new kg,this.connectMissingData=!1}};function Lg(t,e,i){let{id:n}=t;const a={phase:i?Xn[i]:"trailing"};for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];Qn(n,"markers",e,r,{opacity:0},{opacity:1},a),r.forEach((t=>t.cleanup()))}function Cg(t,e){let{id:i}=t;for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];Qn(i,"markers",e,a,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),a.forEach((t=>t.cleanup()))}function Ig(t,e){let{id:i,nodeDataDependencies:n}=t;const a=n.seriesRectWidth;for(var o=arguments.length,r=new Array(o>2?o-2:0),s=2;s<o;s++)r[s-2]=arguments[s];qn(i,"markers",e,r,{fromFn:(t,e)=>{var i,n;const o=null!==(i=null===(n=e.midPoint)||void 0===n?void 0:n.x)&&void 0!==i?i:a;let r=pi(0,Vn(o/a),1);return isNaN(r)&&(r=0),{scalingX:0,scalingY:0,delay:r,duration:Wn,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Ng(t){return{opacity:1,scalingX:1,scalingY:1}}function Eg(t,e){var i,n,a,o;return{translationX:null!==(i=null===(n=e.point)||void 0===n?void 0:n.x)&&void 0!==i?i:NaN,translationY:null!==(a=null===(o=e.point)||void 0===o?void 0:o.y)&&void 0!==a?a:NaN}}function Tg(t,e){const i=(e,i)=>{const n=t[i][e];return Array.isArray(n)?n[0]:n},n=e=>{const{xValue:n}=e;return t.moved[n]?{point:i(n,"moved"),status:"updated"}:t.removed[n]?{point:i(n,"removed"),status:"removed"}:t.added[n]?{point:i(n,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(t,i)=>{var a,o,r,s;const{status:l,point:c}=n(i);if("unknown"===l)return{opacity:0};const u={translationX:null!==(a=null===c||void 0===c||null===(o=c.from)||void 0===o?void 0:o.x)&&void 0!==a?a:t.translationX,translationY:null!==(r=null===c||void 0===c||null===(s=c.from)||void 0===s?void 0:s.y)&&void 0!==r?r:t.translationY,opacity:t.opacity,phase:Xn[l]};var d,h;return"added"===e?{...u,opacity:0,translationX:null===c||void 0===c||null===(d=c.to)||void 0===d?void 0:d.x,translationY:null===c||void 0===c||null===(h=c.to)||void 0===h?void 0:h.y,phase:Xn.added}:("added"===l&&(u.opacity=0),u)},toFn:(t,i)=>{const{status:a,point:o}=n(i);if("unknown"===a)return{opacity:0};const r={translationX:i.point.x,translationY:i.point.y,opacity:1,phase:Xn[a]};var s,l;return"removed"===a||"removed"===e?{...r,translationX:null===o||void 0===o||null===(s=o.to)||void 0===s?void 0:s.x,translationY:null===o||void 0===o||null===(l=o.to)||void 0===l?void 0:l.y,opacity:0,phase:Xn.removed}:r}}}function Ag(t,e){let{datumIndex:i}=e;const n=t.getNodeData();if(void 0===n)return;const a=n[i];if(void 0===a||void 0===a.point)return;const o=t.getFormattedMarkerStyle(a).size,r=o/2,{x:s,y:l}=t.contentGroup.inverseTransformPoint(a.point.x-r,a.point.y-r);return new Li(s,l,o,o)}ce([pa(ka)],Dg.prototype,"xKey",2),ce([pa(ka,{optional:!0})],Dg.prototype,"xName",2),ce([pa(ka)],Dg.prototype,"yKey",2),ce([pa(ka,{optional:!0})],Dg.prototype,"yName",2),ce([pa(Ma,{optional:!0})],Dg.prototype,"normalizedTo",2),ce([pa(Ba)],Dg.prototype,"fill",2),ce([pa(Da)],Dg.prototype,"fillOpacity",2),ce([pa(Ba)],Dg.prototype,"stroke",2),ce([pa(Ma)],Dg.prototype,"strokeWidth",2),ce([pa(Da)],Dg.prototype,"strokeOpacity",2),ce([pa(Ka)],Dg.prototype,"lineDash",2),ce([pa(Ma)],Dg.prototype,"lineDashOffset",2),ce([pa(ya)],Dg.prototype,"interpolation",2),ce([pa(ya)],Dg.prototype,"shadow",2),ce([pa(ya)],Dg.prototype,"marker",2),ce([pa(ya)],Dg.prototype,"label",2),ce([pa(ya)],Dg.prototype,"tooltip",2),ce([pa(ba)],Dg.prototype,"connectMissingData",2);var Rg=.05;function Og(t){return t.reduce(((t,e)=>{let{min:i,max:n}=t;return(null==i||i.point.x>e.point.x)&&(i=e),(null==n||n.point.x<e.point.x)&&(n=e),{min:i,max:n}}),{})}function Pg(t,e,i){const n=(e.y-t.y)/(e.x-t.x);return{x:i,y:(i-t.x)*n+t.y}}function Bg(t,e,i,n){let a=-1,o=0;const r=[];for(;o<t.length;)t[o].change!==e?t[o].change!==i?(r.length>0&&(n(r,a,o),r.length=0),a=o,o++):o++:(r.push(t[o]),o++);r.length>0&&n(r,a,o)}function zg(t,e){Bg(t,"out","in",((i,n,a)=>{var o,r;-1===n&&t[a]?i.forEach((e=>e.to=t[a].from)):a===t.length&&t[n]?i.forEach((e=>e.to=t[n].from)):"intersect"===e&&null!==(o=t[n])&&void 0!==o&&o.from&&null!==(r=t[a])&&void 0!==r&&r.from?i.forEach((e=>e.to=Pg(t[n].from,t[a].from,e.from.x))):i.forEach((t=>t.to=t.from))})),Bg(t,"in","out",((i,n,a)=>{var o,r;-1===n&&t[a]?i.forEach((e=>e.from=t[a].to)):a===t.length&&t[n]?i.forEach((e=>e.from=t[n].to)):"intersect"===e&&null!==(o=t[n])&&void 0!==o&&o.to&&null!==(r=t[a])&&void 0!==r&&r.to?i.forEach((e=>e.from=Pg(t[n].to,t[a].to,e.to.x))):i.forEach((t=>t.from=t.to))}))}function _g(t,e,i){const n=isNaN(t.x)?e.x:t.x,a=isNaN(t.y)?e.y:t.y,o=e.x-t.x,r=e.y-t.y;return{x:n+(isNaN(o)?0:o*i),y:a+(isNaN(r)?0:r*i)}}var Fg={start:0,middle:.5,end:1};function Gg(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{path:a}=e;var o;if("smooth"===(null===i||void 0===i?void 0:i.type))!function(t,e,i,n){const a=Array.isArray(e)?e:Array.from(e);if(0===a.length)return;if(n?t.lineTo(a[0].x,a[0].y):t.moveTo(a[0].x,a[0].y),a.length<=1)return;const o=a.map(((t,e)=>{const i=0===e?t:a[e-1],n=e===a.length-1?t:a[e+1],o=0===e||e===a.length-1;if(Math.sign(i.y-t.y)===Math.sign(n.y-t.y))return 0;if(!o){const e=Math.abs(i.y-n.y),a=Math.abs(t.y-i.y)/e,o=Math.abs(t.y-n.y)/e;if(a<=Rg||1-a<=Rg||o<=Rg||1-o<=Rg)return 0}return(n.y-i.y)/(n.x-i.x)}));0===o[1]&&(o[0]*=2),0===o[o.length-2]&&(o[o.length-1]*=2);for(let r=1;r<a.length;r+=1){const e=a[r-1],n=o[r-1],s=a[r],l=o[r],c=s.x-e.x,u=s.y-e.y;let d=c*i/3,h=c*n*i/3,p=c*i/3,g=c*l*i/3;0===l&&Math.abs(h)>Math.abs(u)&&(d*=Math.abs(u/h),h=Math.sign(h)*Math.abs(u)),0===n&&Math.abs(g)>Math.abs(u)&&(p*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),t.cubicCurveTo(e.x+d,e.y+h,s.x-p,s.y-g,s.x,s.y)}}(a,t,null!==(o=i.tension)&&void 0!==o?o:1,n);else if("step"===(null===i||void 0===i?void 0:i.type)){var r;!function(t,e,i,n){let a;for(const s of e){if(null!=a){var o,r;const e=a.x<s.x?i:1-i,n=(s.x-a.x)*e+a.x;t.lineTo(n,null!==(o=null===(r=a)||void 0===r?void 0:r.y)&&void 0!==o?o:s.y),t.lineTo(n,s.y),t.lineTo(s.x,s.y)}else n?t.lineTo(s.x,s.y):t.moveTo(s.x,s.y);a=s}}(a,t,Fg[null!==(r=i.position)&&void 0!==r?r:"end"],n)}else!function(t,e,i){let n=i;for(const{x:a,y:o}of e)n?t.lineTo(a,o):(t.moveTo(a,o),n=!0)}(a,t,n)}function jg(t,e){let i,n;const a=[],o=()=>{null!=n&&(a.push(n),n=void 0)};for(const l of t){const{from:t,to:a}=l,c=e[l.change];if(null==c||null==t||null==a)continue;const u=_g(t,a,c);var r;if(!1===l.moveTo)null!==(r=n)&&void 0!==r||(n=[]),n.push(u);else if(!0!==l.moveTo&&i){if(i){var s;const t="in"===l.moveTo?c:1-c,{x:e,y:a}=_g(i,u,t);null!==(s=n)&&void 0!==s||(n=[]),n.push({x:e,y:a}),o(),n=[u]}}else o(),n=[u];i=u}return o(),a}function Vg(t,e,i,n){jg(t,e).forEach((t=>{Gg(t,i,n)}))}function Wg(t,e){let{id:i,visible:n,nodeDataDependencies:a}=t;const{seriesRectWidth:o,seriesRectHeight:r}=a;for(var s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];Qn(i,"path_properties",e,l,{clipX:0},{clipX:o},{phase:"initial",start:{clipMode:"normal",clipY:r,visible:n},finish:{clipMode:void 0,visible:n}})}function Ug(t,e,i){let{id:n}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"add";for(var o=arguments.length,r=new Array(o>4?o-4:0),s=4;s<o;s++)r[s-4]=arguments[s];Qn(n,e,i,r,{opacity:0},{opacity:1},{phase:a})}function Kg(t,e,i){let{id:n}=t;for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];Qn(n,e,i,o,{opacity:1},{opacity:0},{phase:"remove"})}function Yg(t){return e=>({opacity:t.getOpacity(),clipScalingX:1,clipMode:void 0})}function Hg(t,e){let{nodeDataDependencies:i}=t;const n=t=>isFinite(t)?t:0;e.clipX=n(i.seriesRectWidth),e.clipY=n(i.seriesRectHeight)}function Zg(t){return"continuous"===t.type||"log"===t.type}function Xg(t){return"category"===t.type}function qg(t,e){return t.domain.length===e.domain.length&&t.range.length===e.range.length&&t.domain.every(((t,i)=>t===e.domain[i]))&&t.range.every(((t,i)=>t===e.range[i]))}function Qg(t,e){return void 0===t||void 0===e?void 0!==t||void 0!==e:Zg(t)&&Zg(e)?t.type===e.type&&qg(t,e):!(!Xg(t)||!Xg(e))&&qg(t,e)}function*Jg(t){let e=-1,i=0;for(const{point:n}of t){if(n.moveTo){const t=e>=0?{start:e,end:i}:void 0;e=i,i=e,void 0!==t&&(yield t)}i+=1}-1!==e&&(yield{start:e,end:i})}function $g(t,e){let{start:i,end:n}=e;return function*(){for(let e=i;e<n;e+=1)yield t[e].point}()}function tf(t,e){let{start:i,end:n}=e;return function*(){for(let e=n-1;e>=i;e-=1)yield t[e].point}()}function ef(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),"continuous"===e.type&&"number"===typeof t){return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0]}if("log"===e.type&&"number"===typeof t)return e.convert(t);const i=e.domain.findIndex((e=>e===t));return i>=0?e.range[i]:NaN}function nf(t,e){const i=Number(t),n=Number(e);return isNaN(i)||isNaN(n)?t===e:Math.abs(n-i)<.25}function af(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?Boolean(t):t?"in":"out"}function of(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{backfillSplitMode:n="intersect"}=i,a=e=>{var i,n;return{x:ef(null!==(i=e.xValue)&&void 0!==i?i:NaN,t.scales.x),y:ef(null!==(n=e.yValue)&&void 0!==n?n:NaN,t.scales.y)}},o=t=>{var i,n;return{x:ef(null!==(i=t.xValue)&&void 0!==i?i:NaN,e.scales.x),y:ef(null!==(n=t.yValue)&&void 0!==n?n:NaN,e.scales.y)}},r=[],s={added:{},moved:{},removed:{}},l=function(t,e,i){var n,a;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move";t&&(isNaN(t.point.x)||isNaN(t.point.y))&&(t=e);const l={from:null===(n=t)||void 0===n?void 0:n.point,to:null===e||void 0===e?void 0:e.point,moveTo:af(null===(a=t)||void 0===a?void 0:a.point.moveTo,null===e||void 0===e?void 0:e.point.moveTo),change:o};"move"===o?(s.moved[i]=l,p++,g++):"in"===o?(s.added[i]=l,g++):"out"===o&&(s.removed[i]=l,p++),r.push(l)},{min:c,max:u}=Og(e.nodeData),{min:d,max:h}=Og(t.nodeData);let p=0,g=0;for(;p<e.nodeData.length||g<t.nodeData.length;){var f,m,y,v;const i=e.nodeData[p],n=t.nodeData[g],r=i?a(i):void 0,s=n?o(n):void 0,b=void 0;if(r&&nf(r.x,null===n||void 0===n?void 0:n.point.x))l(i,n,n.xValue,"move");else if(r&&r.x<(null!==(f=null===d||void 0===d?void 0:d.point.x)&&void 0!==f?f:-1/0))l(i,b,i.xValue,"out");else if(r&&r.x>(null!==(m=null===h||void 0===h?void 0:h.point.x)&&void 0!==m?m:1/0))l(i,b,i.xValue,"out");else if(s&&s.x<(null!==(y=null===c||void 0===c?void 0:c.point.x)&&void 0!==y?y:-1/0))l(b,n,n.xValue,"in");else if(s&&s.x>(null!==(v=null===u||void 0===u?void 0:u.point.x)&&void 0!==v?v:1/0))l(b,n,n.xValue,"in");else if(r&&r.x<(null===n||void 0===n?void 0:n.point.x))l(i,b,i.xValue,"out");else if(s&&s.x<(null===i||void 0===i?void 0:i.point.x))l(b,n,n.xValue,"in");else if(i)l(i,b,i.xValue,"out");else{if(!n)throw new Error("Unable to process points");l(b,n,n.xValue,"in")}}return zg(r,n),{result:r,resultMap:s}}function rf(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{backfillSplitMode:a="intersect",multiDatum:o=!1}=n,r=[],s={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let u,d;const h=(t,e)=>{var i;const n=c[e.change];var a;o?(null!==(a=(i=l[n])[t])&&void 0!==a||(i[t]=[]),l[n][t].push(e)):s[n][t]=e;u=e,d=Fr(t)};let p=0,g=0,f=!1;for(;p<e.nodeData.length||g<t.nodeData.length;){const n=e.nodeData[p],a=t.nodeData[g],s=Fr(null===n||void 0===n?void 0:n.xValue),l=Fr(null===a||void 0===a?void 0:a.xValue);let c;var m;if(s===l)c={change:"move",moveTo:af(null!==(m=n.point.moveTo)&&void 0!==m&&m,a.point.moveTo),from:n.point,to:a.point},h(null===n||void 0===n?void 0:n.xValue,c),p++,g++;else if(null!==i&&void 0!==i&&i.removed.has(String(s))){var y;c={change:"out",moveTo:null!==(y=n.point.moveTo)&&void 0!==y&&y,from:n.point},h(null===n||void 0===n?void 0:n.xValue,c),p++}else if(null!==i&&void 0!==i&&i.added.has(String(l))){var v;c={change:"in",moveTo:null!==(v=a.point.moveTo)&&void 0!==v&&v,to:a.point},h(null===a||void 0===a?void 0:a.xValue,c),g++}else if(o&&u&&d===s)c={...u},h(null===n||void 0===n?void 0:n.xValue,c),p++;else{if(!o||!u||d!==l){f=!0;break}c={...u},h(null===a||void 0===a?void 0:a.xValue,c),g++}r.push(c)}let b=-1/0;return f||(f=r.some((t=>{const{change:e,to:{x:i=-1/0}={}}=t;if("out"===e)return;const n=i<b;return b=i,n}))),f?{result:void 0,resultMap:void 0}:(zg(r,a),{result:r,resultMap:o?l:s})}function sf(t,e,i){let n="updated";const a=t=>t.visible;if(!a(e)&&a(t))n="added";else if(a(e)&&!a(t))n="removed";else for(let c=0;c<i.length;c++){var o,r,s,l;if("move"!==i[c].change)break;if((null===(o=i[c].from)||void 0===o?void 0:o.x)!==(null===(r=i[c].to)||void 0===r?void 0:r.x))break;if((null===(s=i[c].from)||void 0===s?void 0:s.y)!==(null===(l=i[c].to)||void 0===l?void 0:l.y))break;if(c===i.length-1)return"no-op"}return n}function lf(t,e){const i="none"===e?"updated":t,n={fromFn:e=>{let n;return n="removed"===t?{finish:{visible:!1}}:"added"===t?{start:{visible:!0}}:{},{phase:Xn[i],...n}},toFn:t=>({phase:Xn[i]})};return"fade"===e?{fromFn:e=>({opacity:"added"===t?0:e.opacity,...n.fromFn(e)}),toFn:e=>({opacity:"removed"===t?0:1,...n.toFn(e)})}:n}function cf(t,e,i,n,a,o){const r=sf(t,e,i);return{status:r,path:{addPhaseFn:(t,e)=>{o(i,{move:1,in:t},e,a)},updatePhaseFn:(t,e)=>{o(i,{move:t},e,a)},removePhaseFn:(t,e)=>{o(i,{move:0,out:t},e,a)}},pathProperties:lf(r,n)}}function uf(t,e,i,n){var a,o,r;const s="category"===(null===(a=t.scales.x)||void 0===a?void 0:a.type);if(s!==("category"===(null===(o=e.scales.x)||void 0===o?void 0:o.type)))return;const{result:l,resultMap:c}=s?rf(t,e,i):of(t,e);let u="updated";if(e.visible&&!t.visible?u="removed":!e.visible&&t.visible&&(u="added"),void 0===l||void 0===c)return;const d=null===(r=null===i||void 0===i?void 0:i.changed)||void 0===r||r||function(t,e){return!Qg(t.scales.x,e.scales.x)||!Qg(t.scales.y,e.scales.y)}(t,e)||"updated"!==u;return{...cf(t,e,l,"fade",n,Vg),marker:Tg(c,u),hasMotion:d}}var df=(t=>(t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label",t))(df||{});function hf(t){const{points:e,phantomPoints:i}=t.fillData;return{top:e,bottom:i}}function pf(t,e,i){return{scales:e.scales,nodeData:i[t],visible:e.visible}}function gf(t,e,i,n,a){const o=jg(t,i),r=jg(e,i);if(o.length===r.length)for(let s=0;s<o.length;s+=1){const t=o[s],e=r[s].reverse();Gg(t,n,a,!1),Gg(e,n,a,!0),n.path.closePath()}}function ff(t,e,i,n,a,o){const r=sf(t,e,i);return{status:r,path:{addPhaseFn:(t,e)=>{gf(i,n,{move:1,in:t},e,o)},updatePhaseFn:(t,e)=>{gf(i,n,{move:t},e,o)},removePhaseFn:(t,e)=>{gf(i,n,{move:0,out:t},e,o)}},pathProperties:lf(r,a)}}function mf(t,e,i,n){var a,o;const r="category"===(null===(a=t.scales.x)||void 0===a?void 0:a.type),s="category"===(null===(o=e.scales.x)||void 0===o?void 0:o.type);if(r!==s)return;let l="updated";e.visible&&!t.visible?l="removed":!e.visible&&t.visible&&(l="added");const{resultMap:c}=r?rf(t,e,i,{backfillSplitMode:"static",multiDatum:!0}):of(t,e,{backfillSplitMode:"static"}),{top:u,bottom:d}=r?function(t,e,i){const n=hf(e),a=hf(t),o={multiDatum:!0};return{top:rf(pf("top",t,a),pf("top",e,n),i,o),bottom:rf(pf("bottom",t,a),pf("bottom",e,n),i,o)}}(t,e,i):function(t,e){const i=hf(e),n=hf(t);return{top:of(pf("top",t,n),pf("top",e,i)),bottom:of(pf("bottom",t,n),pf("bottom",e,i))}}(t,e);if(void 0===c||void 0===u.result||void 0===d.result)return;const h=u.result,p=d.result,g=!!e.stackVisible&&t.stackVisible,f=ff(t,e,h,p,g?"none":"fade",n),m=Tg(c,l);return{status:f.status,fill:f,marker:m}}var yf=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Dh,directionNames:Lh,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:Yg({getOpacity:()=>this.getOpacity()}),label:fg,marker:(t,e)=>({opacity:1,scalingX:1,scalingY:1,...Eg(0,e)})}}),this.properties=new Dg}async processData(t){var e,i;if(null==this.data||!this.properties.isValid())return;const{data:n,visible:a,seriesGrouping:{groupIndex:o=this.id,stackCount:r=1}={}}=this,{xKey:s,yKey:l,connectMissingData:c,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=null===(e=this.axes.x)||void 0===e?void 0:e.scale,p=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{isContinuousX:g,xScaleType:f,yScaleType:m}=this.getScaleInformation({xScale:h,yScale:p}),y={value:"area-stack-".concat(o,"-yValue"),values:"area-stack-".concat(o,"-yValues"),valuesTrailing:"area-stack-".concat(o,"-yValues-trailing"),marker:"area-stack-".concat(o,"-yValues-marker")},v={values:"area-stack-".concat(o,"-yValues-prev"),valuesTrailing:"area-stack-".concat(o,"-yValues-trailing-prev")},b=[];qi(u)&&(b.push(yd(Object.values(y),u,"range")),b.push(yd(Object.values(v),u,"range"))),!g&&d&&this.processedData&&b.push(Ld(this.processedData)),d&&b.push(xd());const x={invalidValue:null};c&&r>1&&(x.invalidValue=0),a||(x.forceValue=0),await this.requestDataModel(t,n,{props:[Rd(s,f,{id:"xValue"}),Od(l,m,{id:"yValueRaw",...x}),...Fd(l,{id:"yValueContinuity",...x,groupId:"area-stack-".concat(o,"-yValues-continuity")}),Od(l,m,{id:"yValue",...x,groupId:y.value}),..._d(l,"window-trailing","current",{id:"yValueStart",...x,groupId:y.valuesTrailing},m),..._d(l,"window","current",{id:"yValueEnd",...x,groupId:y.values},m),..._d(l,"normal","current",{id:"yValueCumulative",...x,groupId:y.marker},m),..._d(l,"window","last",{id:"yValuePreviousEnd",...x,groupId:v.values},m),..._d(l,"window-trailing","last",{id:"yValuePreviousStart",...x,groupId:v.valuesTrailing},m),...b],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:n}=this;if(!e||!i||0===e.data.length)return[];const a=n.x,o=n.y,r=i.resolveProcessedDataDefById(this,"xValue"),s=i.getDomain(this,"xValue","key",e),l=i.getDomain(this,"yValueEnd","value",e);if("x"===t)return"key"===(null===r||void 0===r?void 0:r.def.type)&&"category"===r.def.valueType?s:bu(yo(s),a);if(o instanceof _h||o instanceof Fh)return bu(l,o);return bu([l[0]>0?0:l[0],l[1]<0?0:l[1]],o)}async createNodeData(){var t;const{axes:e,data:i,processedData:{data:n}={},dataModel:a}=this,o=e.x,r=e.y;if(!o||!r||!i||!a||!this.properties.isValid())return;const{yKey:s,xKey:l,marker:c,label:u,fill:d,stroke:h,connectMissingData:p}=this.properties,{scale:g}=o,{scale:f}=r,{isContinuousY:m}=this.getScaleInformation({xScale:g,yScale:f}),y=(null!==(t=g.bandwidth)&&void 0!==t?t:0)/2,v=a.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative","yValueContinuity","yValue"]),b=(t,e,i)=>{let n;return(qi(this.properties.normalizedTo)?m&&zr(i):!isNaN(i))&&(n=e),{x:g.convert(t)+y,y:f.convert(n),size:c.size}},x=s,k=[],S=[],{visibleSameStackCount:w}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),M={itemId:x,fillData:{itemId:x,points:[],phantomPoints:[]},strokeData:{itemId:x,points:[]},labelData:k,nodeData:S,scales:this.calculateScaling(),visible:this.visible,stackVisible:w>0},D=M.fillData.points,L=M.fillData.phantomPoints,C=M.strokeData.points;let I,N,E=-1,T=!0;return null===n||void 0===n||n.forEach((t=>{const{keys:e,keys:[i],datum:n,values:o}=t;o.forEach(((t,o)=>{E++;const r=n[o],m=a.resolveProcessedDataDefsValues(v,{keys:e,values:t}),{yValueRaw:w,yValueCumulative:M,yValueContinuity:A}=m,{yValueStart:R,yValueEnd:O,yValuePreviousStart:P,yValuePreviousEnd:B,yValue:z}=m,_=null!=w,F=b(i,+M,w);var G,j,V;_&&c&&S.push({index:E,series:this,itemId:x,datum:r,midPoint:{x:F.x,y:F.y},cumulativeValue:O,yValue:w,xValue:i,yKey:s,xKey:l,point:F,fill:null!==(G=c.fill)&&void 0!==G?G:d,stroke:null!==(j=c.stroke)&&void 0!==j?j:h,strokeWidth:null!==(V=c.strokeWidth)&&void 0!==V?V:this.getStrokeWidth(this.properties.strokeWidth)});if(_&&u){const t=this.getLabelText(u,{value:w,datum:r,xKey:l,yKey:s,xName:this.properties.xName,yName:this.properties.yName},(t=>cn(t)?t.toFixed(2):String(t)));k.push({index:E,series:this,itemId:s,datum:r,x:F.x,y:F.y,label:t?{text:t,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontSize:u.fontSize,fontFamily:u.fontFamily,textAlign:"center",textBaseline:"bottom",fill:u.color}:void 0})}if(_||!p){_||(T=!0);const t=!T&&!p;t&&!1===N&&!0===A?(D.push({point:{x:F.x,y:f.convert(O),moveTo:!1},yValue:w,xValue:i}),L.push({point:{x:F.x,y:f.convert(R),moveTo:!1},yValue:w,xValue:i}),C.push({point:{x:F.x,y:f.convert(O),moveTo:!1},yValue:w,xValue:i}),T=!0):t&&!0===N&&!1===A&&(D.push({point:{x:g.convert(I)+y,y:f.convert(B),moveTo:!0},yValue:w,xValue:i}),L.push({point:{x:g.convert(I)+y,y:f.convert(P),moveTo:!0},yValue:w,xValue:i}),C.push({point:{x:g.convert(I)+y,y:f.convert(B),moveTo:!0},yValue:w,xValue:i}),T=!1),D.push({point:{x:F.x,y:f.convert(M),moveTo:T},yValue:w,xValue:i}),L.push({point:{x:F.x,y:f.convert(M-z),moveTo:T},yValue:w,xValue:i}),C.push({point:{x:F.x,y:f.convert(M),moveTo:T},yValue:w,xValue:i}),T=!_}I=i,N=A}))})),M}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(vh(t))}async updatePathNodes(t){const{opacity:e,visible:i,animationEnabled:n}=t,[a,o]=t.paths,r=this.getStrokeWidth(this.properties.strokeWidth);o.setProperties({tag:1,fill:void 0,lineJoin:o.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:r,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i}),a.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:e,visible:i||n,strokeWidth:r}),Hg(this,o),Hg(this,a)}async updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){const{points:i,phantomPoints:n}=e.fillData,[a]=t,{interpolation:o}=this.properties;a.path.clear(!0);for(const r of Jg(i))Gg($g(i,r),a,o,!1),Gg(tf(n,r),a,o,!0),a.path.closePath();a.checkPathDirty()}updateStrokePath(t,e){const{points:i}=e.strokeData,[,n]=t,{path:a}=n,{interpolation:o}=this.properties;a.clear(!0);for(const r of Jg(i))Gg($g(i,r),n,o);n.checkPathDirty()}async updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,marker:o,fill:r,stroke:s,strokeWidth:l,fillOpacity:c,strokeOpacity:u,highlightStyle:d}=this.properties,h=fn(i&&d.item,o.getStyle(),{fill:r,stroke:s,strokeWidth:l,fillOpacity:c,strokeOpacity:u});e.each(((t,e)=>{this.updateMarkerStyle(t,o,{datum:e,highlighted:i,xKey:n,yKey:a},h)})),i||this.properties.marker.markClean()}async updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,(t=>{t.tag=3}))}async updateLabelNodes(t){const{labelSelection:e}=t,{enabled:i,fontStyle:n,fontWeight:a,fontSize:o,fontFamily:r,color:s}=this.properties.label;e.each(((t,e)=>{const{x:l,y:c,label:u}=e;u&&i&&this.visible?(t.fontStyle=n,t.fontWeight=a,t.fontSize=o,t.fontFamily=r,t.textAlign=u.textAlign,t.textBaseline=u.textBaseline,t.text=u.text,t.x=l,t.y=c-10,t.fill=s,t.visible=!0):t.visible=!1}))}getTooltipHtml(t){const{id:e,axes:i,dataModel:n}=this,{xKey:a,xName:o,yName:r,tooltip:s,marker:l}=this.properties,{yKey:c,xValue:u,yValue:d,datum:h,itemId:p}=t,g=i.x,f=i.y;if(!this.properties.isValid()||!(g&&f&&cn(d))||!n)return js;const m=g.formatDatum(u),y=f.formatDatum(d),v=hg(r),b=hg(m+": "+y),x=fn({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:k}=this.getMarkerStyle(l,{datum:t,xKey:a,yKey:c,highlighted:!1},x);return s.toTooltipHtml({title:v,content:b,backgroundColor:k},{datum:h,itemId:p,xKey:a,xName:o,yKey:c,yName:r,color:k,title:v,seriesId:e})}getLegendData(t){var e,i,n,a,o;if(null===(e=this.data)||void 0===e||!e.length||!this.properties.isValid()||!this.properties.showInLegend||"category"!==t)return[];const{yKey:r,yName:s,fill:l,stroke:c,fillOpacity:u,strokeOpacity:d,strokeWidth:h,lineDash:p,marker:g,visible:f,legendItemName:m}=this.properties,y=!g.enabled||void 0===g.fill;return[{legendType:t,id:this.id,itemId:r,seriesId:this.id,enabled:f,label:{text:null!==(i=null!==m&&void 0!==m?m:s)&&void 0!==i?i:r},symbols:[{marker:{shape:g.shape,fill:y?l:g.fill,fillOpacity:y?u:g.fillOpacity,stroke:null!==(n=g.stroke)&&void 0!==n?n:c,strokeOpacity:null!==(a=g.strokeOpacity)&&void 0!==a?a:d,strokeWidth:null!==(o=g.strokeWidth)&&void 0!==o?o:0,enabled:g.enabled||h<=0},line:{stroke:c,strokeOpacity:d,strokeWidth:h,lineDash:p}}],legendItemName:m}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:n,paths:a}=t,{animationManager:o}=this.ctx;this.updateAreaPaths(a,n),Wg(this,o,...a),ss([e],Eg),Ig(this,o,e),pg(this,"labels",o,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e;const{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:a,contextData:o,paths:r,previousContextData:s}=t,[l,c]=r;if(null==l&&null==c)return;super.resetAllAnimation(t);const u=()=>{this.updateAreaPaths(r,o),this.updateStrokePath(r,o)};if(null==o||null==s)return u(),Lg(this,i,"added",n),Ug(this,"fill_path_properties",i,"add",l),Ug(this,"stroke",i,"trailing",c),void pg(this,"labels",i,a);const d=mf(o,s,null===(e=this.processedData)||void 0===e||null===(e=e.reduced)||void 0===e?void 0:e.diff,this.properties.interpolation);if(void 0===d)return i.skipCurrentBatch(),void u();"no-op"!==d.status&&(Lg(this,i,void 0,n),qn(this.id,"fill_path_properties",i,[l],d.fill.pathProperties),ug(this.id,"fill_path_update",i,[l],d.fill.path),this.updateStrokePath(r,o),Ug(this,"stroke",i,"trailing",c),pg(this,"labels",i,a))}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ar}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=t;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,highlighted:!0})}computeFocusBounds(t){return Ag(this,t)}};yf.className="AreaSeries",yf.type="area";var vf={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:yf,stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Up,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Pp,color:Bp}}},paletteFactory:t=>{const{marker:e}=Cp(t);return{fill:e.fill,stroke:e.stroke,marker:e}}};function*bf(t){for(const e of t.children)yield e}function xf(t,e){for(const i of e){const e=i.datum;void 0===e?ye.error("undefined datum"):t.addValue(i,e)}}function kf(t,e){const{x:i,y:n}=t.contentGroup.transformPoint(e.x,e.y),{nearest:a,distanceSquared:o}=t.getQuadTree().find(i,n);if(void 0!==a)return{datum:a.value,distance:Math.sqrt(o)}}var Sf=class extends Ih{constructor(){super(...arguments),this.direction="vertical"}};ce([pa($a)],Sf.prototype,"direction",2);var wf=class extends Nh{constructor(){super(...arguments),this.groupScale=new ha,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){const t=this.getCategoryDirection();return this.axes[t]}updateGroupScale(t){const{groupScale:e,smallestDataInterval:i,ctx:{seriesStateManager:n}}=this,a=t.scale,o=fo.is(a)?a.calcBandwidth(i):a.bandwidth,r=[],{index:s,visibleGroupCount:l}=n.getVisiblePeerGroupIndex(this);for(let c=0;c<l;c++)r.push(String(c));e.domain=r,e.range=[0,null!==o&&void 0!==o?o:0],t instanceof El?e.paddingInner=t.groupPaddingInner:e.padding=t instanceof Vl?.1:0,e.round=0!==e.padding;return{barWidth:e.bandwidth>=1?e.bandwidth:e.rawBandwidth,groupIndex:s}}resolveKeyDirection(t){return"x"===this.getBarDirection()?"x"===t?"y":"x":t}initQuadTree(t){xf(t,this.datumNodesIter())}pickNodeClosestDatum(t){return kf(this,t)}},Mf=class extends Er{constructor(){super(...arguments),this.placement="inside"}};ce([pa(to)],Mf.prototype,"placement",2);var Df=class extends Sf{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new yg,this.label=new Mf,this.tooltip=new kg}};function Lf(t){let{rect:e,config:i}=t;const{crisp:n=!0,fill:a,stroke:o,strokeWidth:r,fillOpacity:s,strokeOpacity:l,lineDash:c,lineDashOffset:u,fillShadow:d,cornerRadius:h=0,topLeftCornerRadius:p=!0,topRightCornerRadius:g=!0,bottomRightCornerRadius:f=!0,bottomLeftCornerRadius:m=!0,visible:y=!0}=i;e.crisp=n,e.fill=a,e.stroke=o,e.strokeWidth=r,e.fillOpacity=s,e.strokeOpacity=l,e.lineDash=c,e.lineDashOffset=u,e.fillShadow=d,e.topLeftCornerRadius=p?h:0,e.topRightCornerRadius=g?h:0,e.bottomRightCornerRadius=f?h:0,e.bottomLeftCornerRadius=m?h:0,e.visible=y}function Cf(t){var e,i,n,a,o,r,s,l,c,u,d,h,p,g,f,m;let{datum:y,isHighlighted:v,style:b,highlightStyle:x,itemStyler:k,seriesId:S,ctx:{callbackCache:w},...M}=t;const{fill:D,fillOpacity:L,stroke:C,strokeWidth:I,strokeOpacity:N,lineDash:E,lineDashOffset:T,cornerRadius:A=0}=fn(v&&x,b),{fillShadow:R,topLeftCornerRadius:O=!0,topRightCornerRadius:P=!0,bottomRightCornerRadius:B=!0,bottomLeftCornerRadius:z=!0}=b;let _;return k&&(_=w.call(k,{datum:y.datum,xKey:y.xKey,fill:D,fillOpacity:L,stroke:C,strokeWidth:I,strokeOpacity:N,lineDash:E,lineDashOffset:T,cornerRadius:A,highlighted:v,seriesId:S,...M})),{fill:null!==(e=null===(i=_)||void 0===i?void 0:i.fill)&&void 0!==e?e:D,fillOpacity:null!==(n=null===(a=_)||void 0===a?void 0:a.fillOpacity)&&void 0!==n?n:L,stroke:null!==(o=null===(r=_)||void 0===r?void 0:r.stroke)&&void 0!==o?o:C,strokeWidth:null!==(s=null===(l=_)||void 0===l?void 0:l.strokeWidth)&&void 0!==s?s:I,strokeOpacity:null!==(c=null===(u=_)||void 0===u?void 0:u.strokeOpacity)&&void 0!==c?c:N,lineDash:null!==(d=null===(h=_)||void 0===h?void 0:h.lineDash)&&void 0!==d?d:E,lineDashOffset:null!==(p=null===(g=_)||void 0===g?void 0:g.lineDashOffset)&&void 0!==p?p:T,cornerRadius:null!==(f=null===(m=_)||void 0===m?void 0:m.cornerRadius)&&void 0!==f?f:A,topLeftCornerRadius:O,topRightCornerRadius:P,bottomRightCornerRadius:B,bottomLeftCornerRadius:z,fillShadow:R}}function If(t,e,i,n){if(null!=e){const[t,i]=e;if(0!==t||1!==i)return!1}if(fo.is(t)){const e=t.calcBandwidth(n)-t.calcBandwidth(i);if(e>0&&e<1)return!1}return!0}ce([pa(ka)],Df.prototype,"xKey",2),ce([pa(ka,{optional:!0})],Df.prototype,"xName",2),ce([pa(ka)],Df.prototype,"yKey",2),ce([pa(ka,{optional:!0})],Df.prototype,"yName",2),ce([pa(ka,{optional:!0})],Df.prototype,"stackGroup",2),ce([pa(Sa,{optional:!0})],Df.prototype,"normalizedTo",2),ce([pa(Ba)],Df.prototype,"fill",2),ce([pa(Da)],Df.prototype,"fillOpacity",2),ce([pa(Ba)],Df.prototype,"stroke",2),ce([pa(Ma)],Df.prototype,"strokeWidth",2),ce([pa(Da)],Df.prototype,"strokeOpacity",2),ce([pa(Ka)],Df.prototype,"lineDash",2),ce([pa(Ma)],Df.prototype,"lineDashOffset",2),ce([pa(Ma)],Df.prototype,"cornerRadius",2),ce([pa(ba,{optional:!0})],Df.prototype,"crisp",2),ce([pa(xa,{optional:!0})],Df.prototype,"itemStyler",2),ce([pa(ya,{optional:!0})],Df.prototype,"shadow",2),ce([pa(ya)],Df.prototype,"label",2),ce([pa(ya)],Df.prototype,"tooltip",2);var Nf=t=>{var e;return vi(null!==(e=t.yValue)&&void 0!==e?e:0)};function Ef(t,e,i){const{startingX:n,startingY:a}=function(t,e){const i=e[t?"y":"x"];let n=1/0,a=0;if(!i)return{startingX:n,startingY:a};t?a=i.scale.convert(fo.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(fo.is(i.scale)?0:Math.min(...i.range));return{startingX:n,startingY:a}}(t,e);return{isVertical:t,calculate:(e,i)=>{let o=t?e.x:n,r=t?a:e.y,s=t?e.width:0,l=t?0:e.height;const{opacity:c}=e;let u;return i&&(isNaN(o)||isNaN(r))&&(({x:o,y:r}=i),s=t?i.width:0,l=t?0:i.height,t&&!Nf(i)?r+=i.height:!t&&Nf(i)&&(o+=i.width)),u=null==e.clipBBox?void 0:Nf(e)?t?new Li(o,r-l,s,l):new Li(o-s,r,s,l):new Li(o,r,s,l),{x:o,y:r,width:s,height:l,clipBBox:u,opacity:c}},mode:i}}function Tf(t,e){return{isVertical:t,calculate:e=>({x:t?e.x:e.x+e.width/2,y:t?e.y+e.height/2:e.y,width:t?e.width:0,height:t?0:e.height,clipBBox:e.clipBBox,opacity:e.opacity}),mode:e}}function Af(t){const e=t=>null==t||isNaN(t.x)||isNaN(t.y);return{toFn:(i,n,a)=>{let o;return o="removed"===a&&null==i.datum&&"fade"===t.mode?{...Rf(i,n),opacity:0}:"removed"===a||e(n)?t.calculate(n,i.previousDatum):{x:n.x,y:n.y,width:n.width,height:n.height,clipBBox:n.clipBBox,opacity:n.opacity},o},fromFn:(i,n,a)=>{let o;"updated"===a&&e(n)?a="removed":"updated"===a&&e(i.previousDatum)&&(a="added"),o="added"===a&&null==i.previousDatum&&"fade"===t.mode?{...Rf(i,n),opacity:0}:"unknown"===a||"added"===a?t.calculate(n,i.previousDatum):{x:i.x,y:i.y,width:i.width,height:i.height,clipBBox:i.clipBBox,opacity:i.opacity};const r=Xn[a];return{...o,phase:r}}}}function Rf(t,e){let{x:i,y:n,width:a,height:o,clipBBox:r,opacity:s}=e;return{x:i,y:n,width:a,height:o,clipBBox:r,opacity:s}}function Of(t,e,i){if(void 0===t)return;const{x:n,y:a,width:o,height:r}=t;return e.inverseTransformBBox(new Li(n,a,o,r)).clip(i)}function Pf(t,e,i){if(e.enabled&&i){const{x:n,y:a,text:o,textAlign:r,textBaseline:s}=i,{color:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h}=e;t.setProperties({visible:!0,x:n,y:a,text:o,fill:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h,textAlign:r,textBaseline:s})}else t.visible=!1}function Bf(t){let{isPositive:e,isVertical:i,placement:n,padding:a=0,rect:o}=t,r=o.x+o.width/2,s=o.y+o.height/2,l="center",c="middle";switch(n){case"start":i?(s=e?o.y+o.height+a:o.y-a,c=e?"top":"bottom"):(r=e?o.x-a:o.x+o.width+a,l=e?"start":"end");break;case"outside":case"end":i?(s=e?o.y-a:o.y+o.height+a,c=e?"bottom":"top"):(r=e?o.x+o.width+a:o.x-a,l=e?"start":"end")}return{x:r,y:s,textAlign:l,textBaseline:c}}var zf=class extends wf{constructor(t){super({moduleCtx:t,directionKeys:Dh,directionNames:Lh,pickModes:[3,0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Rf,label:fg}}),this.properties=new Df}async processData(t){var e,i,n,a;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:o=this.id}={},data:r=[]}=this,{xKey:s,yKey:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=null===(e=this.getCategoryAxis())||void 0===e?void 0:e.scale,h=null===(i=this.getValueAxis())||void 0===i?void 0:i.scale,{isContinuousX:p,xScaleType:g,yScaleType:f}=this.getScaleInformation({xScale:d,yScale:h}),m="bar-stack-".concat(o,"-yValues"),y="".concat(m,"-trailing"),v=[];cn(c)&&v.push(yd([m,y],Math.abs(c),"range")),u&&this.processedData&&v.push(Ld(this.processedData)),u&&v.push(xd());const b=this.visible?{}:{forceValue:0},{processedData:x}=await this.requestDataModel(t,r,{props:[Rd(s,g,{id:"xValue"}),Od(l,f,{id:"yValue-raw",invalidValue:null,...b}),..._d(l,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:m,separateNegative:!0,...b},f),..._d(l,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:y,separateNegative:!0,...b},f),...p?[pd,gd]:[],...v],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=null===(n=x.reduced)||void 0===n?void 0:n.smallestKeyInterval,this.largestDataInterval=null===(a=x.reduced)||void 0===a?void 0:a.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i,smallestDataInterval:n}=this;if(!e||!i||0===e.data.length)return[];const a=this.getCategoryAxis(),o=this.getValueAxis(),r=i.resolveProcessedDataDefById(this,"xValue"),s=i.getDomain(this,"xValue","key",e),l=i.getDomain(this,"yValue-end","value",e);if(t===this.getCategoryDirection()){var c;if("key"===(null===r||void 0===r?void 0:r.def.type)&&"category"===r.def.valueType)return s;const t=cn(n)?.5*n:0,e=null!==(c=yo(s))&&void 0!==c?c:[NaN,NaN];return bu([e[0]+-t,e[1]+t],a)}if(this.getValueAxis()instanceof _h)return bu(l,o);return bu([Math.min(0,l[0]),Math.max(0,l[1])],o)}async createNodeData(){const{dataModel:t}=this,e=this.getCategoryAxis(),i=this.getValueAxis();if(!t||!e||!i||!this.properties.isValid())return;const n=e.scale,a=i.scale,{xKey:o,yKey:r,xName:s,yName:l,fill:c,stroke:u,strokeWidth:d,cornerRadius:h,legendItemName:p,label:g}=this.properties,f=i.isReversed(),{barWidth:m,groupIndex:y}=this.updateGroupScale(e),v=fo.is(n)?-.5*m:0,b=t.resolveProcessedDataIndexById(this,"xValue"),x=t.resolveProcessedDataIndexById(this,"yValue-raw"),k=t.resolveProcessedDataIndexById(this,"yValue-start"),S=t.resolveProcessedDataIndexById(this,"yValue-end"),w=t.resolveProcessedDataIndexById(this,"yValue-range"),M=!this.ctx.animationManager.isSkipped(),D={itemId:r,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible||M},{groupScale:L,processedData:C}=this;return null===C||void 0===C||C.data.forEach((t=>{let{keys:e,datum:i,values:M,aggValues:C}=t;M.forEach(((t,M)=>{var I;const N=e[b],E=n.convert(N),T=+t[S],A=+t[k],R=t[x],O=R>=0&&!Object.is(R,-0),P=O!==f,B=null!==(I=null===C||void 0===C?void 0:C[w][O?1:0])&&void 0!==I?I:0,z=E+L.convert(String(y))+v;if(isNaN(T))return;const _=a.convert(T),F=a.convert(A),G="x"===this.getBarDirection(),j=a.convert(B),V=a.convert(0),W={x:G?Math.min(_,F):z,y:G?z:Math.min(_,F),width:G?Math.abs(F-_):m,height:G?m:Math.abs(F-_)},U=new Li(W.x,W.y,W.width,W.height),K={x:G?Math.min(V,j):z,y:G?z:Math.min(V,j),width:G?Math.abs(V-j):m,height:G?m:Math.abs(V-j),clipBBox:U},{fontStyle:Y,fontWeight:H,fontSize:Z,fontFamily:X,color:q,placement:Q}=g,J=this.getLabelText(this.properties.label,{datum:i[M],value:R,xKey:o,yKey:r,xName:s,yName:l,legendItemName:p},(t=>cn(t)?t.toFixed(2):String(t))),$=J?{text:J,fill:q,fontStyle:Y,fontWeight:H,fontSize:Z,fontFamily:X,...Bf({isPositive:O,isVertical:!G,placement:Q,rect:W})}:void 0,tt=this.shouldFlipXY()?W.height:W.width,et={series:this,itemId:r,datum:i[M],valueIndex:M,cumulativeValue:T,xValue:N,yValue:R,yKey:r,xKey:o,capDefaults:{lengthRatioMultiplier:tt,lengthMax:tt},x:K.x,y:K.y,width:K.width,height:K.height,midPoint:{x:W.x+W.width/2,y:W.y+W.height/2},fill:c,stroke:u,opacity:1,strokeWidth:d,cornerRadius:h,topLeftCornerRadius:G!==P,topRightCornerRadius:P,bottomRightCornerRadius:G===P,bottomLeftCornerRadius:!P,clipBBox:U,label:$,missing:null==R};D.nodeData.push(et),D.labelData.push(et)}))})),D}nodeFactory(){return new Uh}async updateDatumSelection(t){return t.datumSelection.update(t.nodeData,(t=>{t.tag=0}),(t=>Cd(t.xValue,t.valueIndex)))}async updateDatumNodes(t){var e;if(!this.properties.isValid())return;const{yKey:i,stackGroup:n,fill:a,fillOpacity:o,stroke:r,strokeWidth:s,strokeOpacity:l,lineDash:c,lineDashOffset:u,itemStyler:d,shadow:h,highlightStyle:{item:p}}=this.properties,g=this.axes.x,f=null!==(e=this.properties.crisp)&&void 0!==e?e:If(null===g||void 0===g?void 0:g.scale,null===g||void 0===g?void 0:g.visibleRange,this.smallestDataInterval,this.largestDataInterval),m="x"===this.getCategoryDirection();t.datumSelection.each(((e,g)=>{var y,v,b,x;const k={fill:a,stroke:r,fillOpacity:o,strokeOpacity:l,lineDash:c,lineDashOffset:u,fillShadow:h,strokeWidth:this.getStrokeWidth(s),cornerRadius:g.cornerRadius,topLeftCornerRadius:g.topLeftCornerRadius,topRightCornerRadius:g.topRightCornerRadius,bottomRightCornerRadius:g.bottomRightCornerRadius,bottomLeftCornerRadius:g.bottomLeftCornerRadius},S=m?(null!==(y=null===(v=g.clipBBox)||void 0===v?void 0:v.width)&&void 0!==y?y:g.width)>0:(null!==(b=null===(x=g.clipBBox)||void 0===x?void 0:x.height)&&void 0!==b?b:g.height)>0,w=Cf({datum:g,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:p,yKey:i,style:k,itemStyler:d,stackGroup:n});w.crisp=f,w.visible=S,Lf({rect:e,config:w})}))}async updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,(t=>{t.tag=1,t.pointerEvents=1}))}async updateLabelNodes(t){t.labelSelection.each(((t,e)=>{Pf(t,this.properties.label,e.label)}))}getTooltipHtml(t){var e,i;const{id:n,processedData:a,ctx:{callbackCache:o}}=this,r=this.getCategoryAxis(),s=this.getValueAxis();if(!a||!this.properties.isValid()||!r||!s)return js;const{xKey:l,yKey:c,xName:u,yName:d,fill:h,stroke:p,strokeWidth:g,tooltip:f,itemStyler:m,stackGroup:y,legendItemName:v}=this.properties,{xValue:b,yValue:x,datum:k,itemId:S}=t,w=r.formatDatum(b),M=s.formatDatum(x),D=hg(d),L=hg(w+": "+M);let C;var I;m&&(C=o.call(m,{seriesId:n,datum:k,xKey:l,yKey:c,stackGroup:y,fill:h,stroke:p,strokeWidth:this.getStrokeWidth(g),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:null!==(I=this.properties.lineDash)&&void 0!==I?I:[],lineDashOffset:this.properties.lineDashOffset}));const N=null!==(e=null===(i=C)||void 0===i?void 0:i.fill)&&void 0!==e?e:h;return f.toTooltipHtml({title:D,content:L,backgroundColor:N},{seriesId:n,itemId:S,datum:k,xKey:l,yKey:c,xName:u,yName:d,stackGroup:y,title:D,color:N,legendItemName:v,...this.getModuleTooltipParams()})}getLegendData(t){var e,i;const{showInLegend:n}=this.properties;if("category"!==t||null===(e=this.data)||void 0===e||!e.length||!this.properties.isValid()||!n)return[];const{yKey:a,yName:o,fill:r,stroke:s,strokeWidth:l,fillOpacity:c,strokeOpacity:u,legendItemName:d,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:a,seriesId:this.id,enabled:h,label:{text:null!==(i=null!==d&&void 0!==d?d:o)&&void 0!==i?i:a},symbols:[{marker:{fill:r,fillOpacity:c,stroke:s,strokeWidth:l,strokeOpacity:u}}],legendItemName:d}]}animateEmptyUpdateReady(t){let{datumSelection:e,labelSelection:i,annotationSelections:n}=t;const a=Af(Ef(this.isVertical(),this.axes,"normal"));qn(this.id,"nodes",this.ctx.animationManager,[e],a),pg(this,"labels",this.ctx.animationManager,i),pg(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(t){var e,i;const{datumSelection:n,labelSelection:a,annotationSelections:o,previousContextData:r}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const s=null===(e=this.processedData)||void 0===e||null===(e=e.reduced)||void 0===e?void 0:e.diff,l=null==r?"fade":"normal",c=Af(Ef(this.isVertical(),this.axes,l));qn(this.id,"nodes",this.ctx.animationManager,[n],c,((t,e)=>Cd(e.xValue,e.valueIndex)),s);(null===(i=null===s||void 0===s?void 0:s.changed)||void 0===i||i)&&(pg(this,"labels",this.ctx.animationManager,a),pg(this,"annotations",this.ctx.animationManager,...o))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(t){var e;let{datumIndex:i,seriesRect:n}=t;return Of(null===(e=this.contextNodeData)||void 0===e?void 0:e.nodeData[i].clipBBox,this.contentGroup,n)}};zf.className="BarSeries",zf.type="bar";var _f={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:zf,stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:t=>"horizontal"===(null===t||void 0===t?void 0:t.direction),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:Pp,color:_p,placement:"inside"},shadow:{enabled:!1,color:Up,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:Lp},Ff=t=>{const e=Gi.fromString(t),[i,n,a]=Gi.RGBtoOKLCH(e.r,e.g,e.b);return{l:i,c:n,h:a,a:e.a}},Gf=1e-6,jf=t=>t.c<Gf||t.l<Gf||t.l>1-Gf,Vf=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Ff)}update(){const{domain:t,range:e}=this;t.length<2&&(ye.warnOnce("`colorDomain` should have at least 2 values."),0===t.length?t.push(0,1):1===t.length&&t.push(t[0]+1));for(let i=1;i<t.length;i++){if(t[i-1]>=t[i]){ye.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort(((t,e)=>t-e));break}}if(e.length<t.length)for(let i=e.length;i<t.length;i++)e.push(e.length>0?e[0]:"black");this.parsedRange=this.range.map(Ff)}convert(t){this.refresh();const{domain:e,range:i,parsedRange:n}=this,a=e[0],o=e.at(-1),r=i[0],s=i[i.length-1];if(t<=a)return r;if(t>=o)return s;let l,c;if(2===e.length){const e=(t-a)/(o-a),n=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(e*(i.length-1)),i.length-2),c=(e-l*n)/n}else{for(l=0;l<e.length-2&&!(t<e[l+1]);l++);const i=e[l];c=(t-i)/(e[l+1]-i)}return((t,e,i)=>{let n;if(i=pi(0,i,1),jf(t))n=e.h;else if(jf(e))n=t.h;else{const a=t.h;let o=e.h;const r=e.h-t.h;r>180?o-=360:r<-180&&(o+=360),n=a*(1-i)+o*i}const a=t.c*(1-i)+e.c*i,o=t.l*(1-i)+e.l*i,r=t.a*(1-i)+e.a*i;return Gi.fromOKLCH(o,a,n,r)})(n[l],n[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&ye.warnOnce("Expected update to not invalidate scale"))}};ce([ua],Vf.prototype,"domain",2),ce([ua],Vf.prototype,"range",2);var Wf=class extends bg{constructor(){super(...arguments),this.maxSize=30}};ce([pa(Ma),Ii({redraw:3})],Wf.prototype,"maxSize",2),ce([pa(Fa,{optional:!0}),Ii({redraw:3})],Wf.prototype,"domain",2);var Uf=class extends Er{constructor(){super(...arguments),this.placement="top"}};ce([pa(io)],Uf.prototype,"placement",2);var Kf=class extends Ih{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new Uf,this.tooltip=new kg,this.marker=new Wf}};ce([pa(ka)],Kf.prototype,"xKey",2),ce([pa(ka)],Kf.prototype,"yKey",2),ce([pa(ka)],Kf.prototype,"sizeKey",2),ce([pa(ka,{optional:!0})],Kf.prototype,"labelKey",2),ce([pa(ka,{optional:!0})],Kf.prototype,"colorKey",2),ce([pa(ka,{optional:!0})],Kf.prototype,"xName",2),ce([pa(ka,{optional:!0})],Kf.prototype,"yName",2),ce([pa(ka,{optional:!0})],Kf.prototype,"sizeName",2),ce([pa(ka,{optional:!0})],Kf.prototype,"labelName",2),ce([pa(ka,{optional:!0})],Kf.prototype,"colorName",2),ce([pa(Fa,{optional:!0})],Kf.prototype,"colorDomain",2),ce([pa(za)],Kf.prototype,"colorRange",2),ce([pa(ka,{optional:!0})],Kf.prototype,"title",2),ce([Es("marker.shape")],Kf.prototype,"shape",2),ce([Es("marker.size")],Kf.prototype,"size",2),ce([Es("marker.maxSize")],Kf.prototype,"maxSize",2),ce([Es("marker.domain",{optional:!0})],Kf.prototype,"domain",2),ce([Es("marker.fill",{optional:!0})],Kf.prototype,"fill",2),ce([Es("marker.fillOpacity")],Kf.prototype,"fillOpacity",2),ce([Es("marker.stroke",{optional:!0})],Kf.prototype,"stroke",2),ce([Es("marker.strokeWidth")],Kf.prototype,"strokeWidth",2),ce([Es("marker.strokeOpacity")],Kf.prototype,"strokeOpacity",2),ce([Es("marker.itemStyler",{optional:!0})],Kf.prototype,"itemStyler",2),ce([pa(ya)],Kf.prototype,"label",2),ce([pa(ya)],Kf.prototype,"tooltip",2);var Yf=class extends Ch{constructor(t,e,i,n){super(t,e,i,n),this.sizeKey=n.properties.sizeKey}},Hf=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Dh,directionNames:Lh,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:fg,marker:Ng}}),this.NodeEvent=Yf,this.properties=new Kf,this.sizeScale=new Oh,this.colorScale=new Vf}async processData(t){var e,i,n;if(!this.properties.isValid()||null==this.data||!this.visible)return;const a=null===(e=this.axes.x)||void 0===e?void 0:e.scale,o=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:r,yScaleType:s}=this.getScaleInformation({xScale:a,yScale:o}),l=this.colorScale.type,c=this.sizeScale.type,{xKey:u,yKey:d,sizeKey:h,labelKey:p,colorDomain:g,colorRange:f,colorKey:m,marker:y}=this.properties,{dataModel:v,processedData:b}=await this.requestDataModel(t,this.data,{props:[Rd(u,r,{id:"xKey-raw"}),Rd(d,s,{id:"yKey-raw"}),...p?[Rd(p,"band",{id:"labelKey-raw"})]:[],Od(u,r,{id:"xValue"}),Od(d,s,{id:"yValue"}),Od(h,c,{id:"sizeValue"}),...m?[Od(m,l,{id:"colorValue"})]:[],...p?[Od(p,"band",{id:"labelValue"})]:[]]}),x=v.resolveProcessedDataIndexById(this,"sizeValue"),k=null!==(n=b.domain.values[x])&&void 0!==n?n:[];if(this.sizeScale.domain=y.domain?y.domain:k,m){var S;const t=v.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=null!==(S=null!==g&&void 0!==g?g:b.domain.values[t])&&void 0!==S?S:[],this.colorScale.range=f,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n="x"===t?"xValue":"yValue",a=e.resolveProcessedDataDefById(this,n),o=e.getDomain(this,n,"value",i);if("value"===(null===a||void 0===a?void 0:a.def.type)&&"category"===(null===a||void 0===a?void 0:a.def.valueType))return o;const r=this.axes[t];return bu(yo(o),r)}async createNodeData(){var t,e;const{axes:i,dataModel:n,processedData:a,colorScale:o,sizeScale:r}=this,{xKey:s,yKey:l,sizeKey:c,labelKey:u,xName:d,yName:h,sizeName:p,labelName:g,label:f,colorKey:m,marker:y,visible:v}=this.properties,b=vh(y.shape),{placement:x}=f,k=i.x,S=i.y;if(!(n&&a&&v&&k&&S))return;const w=n.resolveProcessedDataIndexById(this,"xValue"),M=n.resolveProcessedDataIndexById(this,"yValue"),D=c?n.resolveProcessedDataIndexById(this,"sizeValue"):-1,L=m?n.resolveProcessedDataIndexById(this,"colorValue"):-1,C=u?n.resolveProcessedDataIndexById(this,"labelValue"):-1,I=k.scale,N=S.scale,E=(null!==(t=I.bandwidth)&&void 0!==t?t:0)/2,T=(null!==(e=N.bandwidth)&&void 0!==e?e:0)/2,A=[];r.range=[y.size,y.maxSize];const R=f.getFont();for(const{values:P,datum:B}of null!==(O=a.data)&&void 0!==O?O:[]){var O;const t=P[w],e=P[M],i=I.convert(t)+E,n=N.convert(e)+T,a=this.getLabelText(f,{value:u?P[C]:e,datum:B,xKey:s,yKey:l,sizeKey:c,labelKey:u,xName:d,yName:h,sizeName:p,labelName:g}),v=Ir.getTextSize(String(a),R),k=c?r.convert(P[D]):y.size,S=m?o.convert(P[L]):void 0;A.push({series:this,itemId:l,yKey:l,xKey:s,datum:B,xValue:t,yValue:e,sizeValue:P[D],point:{x:i,y:n,size:k},midPoint:{x:i,y:n},fill:S,label:{text:a,...v},marker:b,placement:x})}return{itemId:l,nodeData:A,labelData:A,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t,e;return null!==(t=null===(e=this.contextNodeData)||void 0===e?void 0:e.labelData)&&void 0!==t?t:[]}markerFactory(){const{shape:t}=this.properties.marker;return new(vh(t))}async updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?e:[];return i.update(n,void 0,(t=>Cd([t.xValue,t.yValue,t.label.text])))}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,sizeKey:o,labelKey:r,marker:s}=this.properties,{size:l,shape:c,fill:u,fillOpacity:d,stroke:h,strokeWidth:p,strokeOpacity:g}=fn(i&&this.properties.highlightStyle.item,s.getStyle()),f={size:l,shape:c,fill:u,fillOpacity:d,stroke:h,strokeWidth:p,strokeOpacity:g};this.sizeScale.range=[s.size,s.maxSize],e.each(((t,e)=>{this.updateMarkerStyle(t,s,{datum:e,highlighted:i,xKey:n,yKey:a,sizeKey:o,labelKey:r},f)})),i||this.properties.marker.markClean()}async updateLabelSelection(t){var e,i;const n=this.properties.label.enabled&&null!==(e=null===(i=this.chart)||void 0===i?void 0:i.placeLabels().get(this))&&void 0!==e?e:[];return t.labelSelection.update(n.map((t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}}))))}async updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each(((t,i)=>{var n,a,o,r;t.text=i.label.text,t.fill=e.color,t.x=null!==(n=null===(a=i.point)||void 0===a?void 0:a.x)&&void 0!==n?n:0,t.y=null!==(o=null===(r=i.point)||void 0===r?void 0:r.y)&&void 0!==o?o:0,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"}))}getTooltipHtml(t){var e;const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return js;const{xKey:a,yKey:o,sizeKey:r,labelKey:s,xName:l,yName:c,sizeName:u,labelName:d,marker:h,tooltip:p}=this.properties,g=null!==(e=this.properties.title)&&void 0!==e?e:c,f=fn({fill:t.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:m="gray"}=this.getMarkerStyle(h,{datum:t,highlighted:!1,xKey:a,yKey:o,sizeKey:r,labelKey:s},f),{datum:y,xValue:v,yValue:b,sizeValue:x,label:{text:k},itemId:S}=t,w=hg(i.formatDatum(v)),M=hg(n.formatDatum(b));let D="<b>".concat(hg(null!==l&&void 0!==l?l:a),"</b>: ").concat(w,"<br><b>").concat(hg(null!==c&&void 0!==c?c:o),"</b>: ").concat(M);return r&&(D+="<br><b>".concat(hg(null!==u&&void 0!==u?u:r),"</b>: ").concat(hg(String(x)))),s&&(D="<b>".concat(hg(null!==d&&void 0!==d?d:s),"</b>: ").concat(hg(k),"<br>")+D),p.toTooltipHtml({title:g,content:D,backgroundColor:m},{datum:y,itemId:S,xKey:a,xName:l,yKey:o,yName:c,sizeKey:r,sizeName:u,labelKey:s,labelName:d,title:g,color:m,seriesId:this.id})}getLegendData(){var t,e;if(null===(t=this.data)||void 0===t||!t.length||!this.properties.isValid())return[];const{yKey:i,yName:n,title:a,marker:o,visible:r}=this.properties,{shape:s,fill:l,stroke:c,fillOpacity:u,strokeOpacity:d,strokeWidth:h}=o;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:r,label:{text:null!==(e=null!==a&&void 0!==a?a:n)&&void 0!==e?e:i},symbols:[{marker:{shape:s,fill:null!==l&&void 0!==l?l:"rgba(0, 0, 0, 0)",stroke:null!==c&&void 0!==c?c:"rgba(0, 0, 0, 0)",fillOpacity:null!==u&&void 0!==u?u:1,strokeOpacity:null!==d&&void 0!==d?d:1,strokeWidth:null!==h&&void 0!==h?h:0}}]}]}animateEmptyUpdateReady(t){let{markerSelection:e,labelSelection:i}=t;Cg(this,this.ctx.animationManager,e),pg(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ar}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,sizeKey:n,labelKey:a}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,sizeKey:n,labelKey:a,highlighted:!1})}computeFocusBounds(t){return Ag(this,t)}};Hf.className="BubbleSeries",Hf.type="bubble";var Zf={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:Hf,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Pp,color:Bp}}},paletteFactory:Lp},Xf=class extends Ih{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new yg,this.label=new Er,this.tooltip=new kg}};ce([pa(ka)],Xf.prototype,"xKey",2),ce([pa(ka,{optional:!0})],Xf.prototype,"yKey",2),ce([pa(ka,{optional:!0})],Xf.prototype,"xName",2),ce([pa(ka,{optional:!0})],Xf.prototype,"yName",2),ce([pa(Ba,{optional:!0})],Xf.prototype,"fill",2),ce([pa(Da)],Xf.prototype,"fillOpacity",2),ce([pa(Ba,{optional:!0})],Xf.prototype,"stroke",2),ce([pa(Ma)],Xf.prototype,"strokeWidth",2),ce([pa(Da)],Xf.prototype,"strokeOpacity",2),ce([pa(Ka)],Xf.prototype,"lineDash",2),ce([pa(Ma)],Xf.prototype,"lineDashOffset",2),ce([pa(Ma)],Xf.prototype,"cornerRadius",2),ce([pa(ba)],Xf.prototype,"areaPlot",2),ce([pa(Ia,{optional:!0})],Xf.prototype,"bins",2),ce([pa(no(["count","sum","mean"],"a histogram aggregation"))],Xf.prototype,"aggregation",2),ce([pa(Ma,{optional:!0})],Xf.prototype,"binCount",2),ce([pa(ya)],Xf.prototype,"shadow",2),ce([pa(ya)],Xf.prototype,"label",2),ce([pa(ya)],Xf.prototype,"tooltip",2);var qf=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Dh,directionNames:Lh,pickModes:[3,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Rf,label:fg}}),this.properties=new Xf,this.calculatedBins=[]}deriveBins(t){const e=Wo(t[0],t[1],10),i=Ko(t[0],t[1],10),[n]=e;return[[n-i,n],...e.map((t=>[t,t+i]))]}calculateNiceBins(t,e){const i=Math.floor(t[0]),n=t[1],a=e||1,{start:o,binSize:r}=this.calculateNiceStart(i,n,a);return this.getBins(o,n,r,a)}getBins(t,e,i,n){const a=[],o=this.calculatePrecision(i);for(let r=0;r<n;r++){const s=Math.round((t+r*i)*o)/o;let l=Math.round((t+(r+1)*i)*o)/o;r===n-1&&(l=Math.max(l,e)),a[r]=[s,l]}return a}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){const n=Math.abs(e-t)/i,a=Math.floor(Math.log10(n)),o=Math.pow(10,a);return{start:Math.floor(t/o)*o,binSize:n}}async processData(t){var e,i;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:n,yKey:a,areaPlot:o,aggregation:r}=this.properties,s=null===(e=this.axes.x)||void 0===e?void 0:e.scale,l=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:c,yScaleType:u}=this.getScaleInformation({yScale:l,xScale:s}),d=[Rd(n,c),fd];if(a){let t=ld("groupAgg");"count"===r||("sum"===r?t=rd("groupAgg"):"mean"===r&&(t=cd("groupAgg"))),o&&(t=ud("groupAgg",t)),d.push(Od(a,u,{invalidValue:void 0}),t)}else{let t=ld("groupAgg");o&&(t=ud("groupAgg",t)),d.push(t)}!this.ctx.animationManager.isSkipped()&&this.processedData&&d.push(Ld(this.processedData,!1)),await this.requestDataModel(t,this.data,{props:d,groupByFn:t=>{var e;const i=bu(t.domain.keys[0]);if(0===i.length)return t.domain.groups=[],()=>[];const n=ln(this.properties.binCount)?this.calculateNiceBins(i,this.properties.binCount):null!==(e=this.properties.bins)&&void 0!==e?e:this.deriveBins(i),a=n.length;return this.calculatedBins=[...n],t=>{const e=t.keys[0];for(let i=0;i<a;i++){const t=n[i];if(e>=t[0]&&e<t[1])return t;if(i===a-1&&e<=t[1])return t}return[]}}}),this.animationState.transition("updateData")}getSeriesDomain(t){var e,i,n,a;const{processedData:o,dataModel:r}=this;if(!o||!r||!this.calculatedBins.length)return[];const s=r.getDomain(this,"groupAgg","aggregate",o),l=null===(e=this.calculatedBins)||void 0===e?void 0:e[0][0],c=null===(i=this.calculatedBins)||void 0===i?void 0:i[(null!==(n=null===(a=this.calculatedBins)||void 0===a?void 0:a.length)&&void 0!==n?n:0)-1][1];return bu("x"===t?[l,c]:s)}async createNodeData(){var t;const{id:e,axes:i,processedData:n,ctx:{callbackCache:a}}=this,o=i.x,r=i.y;if(!o||!r)return;const{scale:s}=o,{scale:l}=r,{xKey:c,yKey:u,xName:d,yName:h,fill:p,stroke:g,strokeWidth:f,cornerRadius:m}=this.properties,{formatter:y=t=>String(t.value),fontStyle:v,fontWeight:b,fontSize:x,fontFamily:k,color:S}=this.properties.label,w=[],M={itemId:null!==(t=this.properties.yKey)&&void 0!==t?t:this.id,nodeData:w,labelData:w,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return this.visible&&n&&"grouped"===n.type?(n.data.forEach((t=>{const{aggValues:[[i,n]]=[[0,0]],datum:o,datum:{length:M},keys:D,keys:[L,C]}=t,I=s.convert(L),N=s.convert(C),E=i+n,T=l.convert(0),A=l.convert(E),R=Math.abs(N-I),O=Math.abs(A-T),P=Math.min(I,N),B=Math.min(T,A);let z;var _;0!==E&&(z={text:null!==(_=a.call(y,{value:E,datum:o,seriesId:e,xKey:c,yKey:u,xName:d,yName:h}))&&void 0!==_?_:String(E),fontStyle:v,fontWeight:b,fontSize:x,fontFamily:k,fill:S,x:P+R/2,y:B+O/2});const F={x:P+R/2,y:B+O/2},G=r.isReversed();w.push({series:this,datum:o,aggregatedValue:E,frequency:M,domain:D,yKey:u,xKey:c,x:P,y:B,xValue:I,yValue:A,width:R,height:O,midPoint:F,fill:p,stroke:g,cornerRadius:m,topLeftCornerRadius:!G,topRightCornerRadius:!G,bottomRightCornerRadius:G,bottomLeftCornerRadius:G,opacity:1,strokeWidth:f,label:z})})),w.sort(((t,e)=>t.x-e.x)),M):M}nodeFactory(){return new Uh}async updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t;return i.update(e,(t=>{t.tag=0,t.crisp=!0}),(t=>t.domain.join("_")))}async updateDatumNodes(t){const{isHighlight:e}=t,{fillOpacity:i,strokeOpacity:n,lineDash:a,lineDashOffset:o,shadow:r,highlightStyle:{item:{fill:s,fillOpacity:l=i,stroke:c,strokeWidth:u}}}=this.properties;t.datumSelection.each(((t,d,h)=>{var p,g;const{cornerRadius:f,topLeftCornerRadius:m,topRightCornerRadius:y,bottomRightCornerRadius:v,bottomLeftCornerRadius:b}=d,x=e&&void 0!==u?u:d.strokeWidth,k=e?l:i;t.fill=null!==(p=e?s:void 0)&&void 0!==p?p:d.fill,t.stroke=null!==(g=e?c:void 0)&&void 0!==g?g:d.stroke,t.fillOpacity=k,t.strokeOpacity=n,t.strokeWidth=x,t.lineDash=a,t.lineDashOffset=o,t.topLeftCornerRadius=m?f:0,t.topRightCornerRadius=y?f:0,t.bottomRightCornerRadius=v?f:0,t.bottomLeftCornerRadius=b?f:0,t.fillShadow=r,t.zIndex=e?Vd.highlightedZIndex:h,t.visible=d.height>0}))}async updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,(t=>{t.tag=1,t.pointerEvents=1,t.textAlign="center",t.textBaseline="middle"}))}async updateLabelNodes(t){const e=this.isLabelEnabled();t.labelSelection.each(((t,i)=>{const n=i.label;n&&e?(t.text=n.text,t.x=n.x,t.y=n.y,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.fill,t.visible=!0):t.visible=!1}))}initQuadTree(t){xf(t,bf(this.contentGroup.children[0]))}pickNodeClosestDatum(t){return kf(this,t)}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return js;const{xKey:n,yKey:a,xName:o,yName:r,fill:s,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:u,frequency:d,domain:[h,p],itemId:g}=t,f="".concat(hg(null!==o&&void 0!==o?o:n),": ").concat(e.formatDatum(h)," - ").concat(e.formatDatum(p));let m=a?"<b>".concat(hg(null!==r&&void 0!==r?r:a)," (").concat(l,")</b>: ").concat(i.formatDatum(u),"<br>"):"";m+="<b>Frequency</b>: ".concat(d);const y={title:f,backgroundColor:s,content:m};return c.toTooltipHtml(y,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},itemId:g,xKey:n,xName:o,yKey:a,yName:r,color:s,title:f,seriesId:this.id})}getLegendData(t){var e,i;if(null===(e=this.data)||void 0===e||!e.length||"category"!==t)return[];const{xKey:n,yName:a,fill:o,fillOpacity:r,stroke:s,strokeWidth:l,strokeOpacity:c,visible:u}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:u,label:{text:null!==(i=null!==a&&void 0!==a?a:n)&&void 0!==i?i:"Frequency"},symbols:[{marker:{fill:null!==o&&void 0!==o?o:"rgba(0, 0, 0, 0)",stroke:null!==s&&void 0!==s?s:"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:c,strokeWidth:l}}]}]}animateEmptyUpdateReady(t){let{datumSelection:e,labelSelection:i}=t;const n=Af(Ef(!0,this.axes,"normal"));qn(this.id,"datums",this.ctx.animationManager,[e],n),pg(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){var e;const i=null===(e=this.processedData)||void 0===e||null===(e=e.reduced)||void 0===e?void 0:e.diff,n=Af(Ef(!0,this.axes,"normal"));qn(this.id,"datums",this.ctx.animationManager,[t.datumSelection],n,((t,e)=>Cd(e.domain)),i),pg(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(t){var e;let{datumIndex:i,seriesRect:n}=t;return Of(null===(e=this.contextNodeData)||void 0===e?void 0:e.nodeData[i],this.contentGroup,n)}};qf.className="HistogramSeries",qf.type="histogram";var Qf={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:qf,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:Pp,color:_p},shadow:{enabled:!1,color:Up,xOffset:3,yOffset:3,blur:5}}},paletteFactory:t=>{let{takeColors:e}=t;const{fills:[i],strokes:[n]}=e(1);return{fill:i,stroke:n}}},Jf=class extends Ih{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Mg,this.marker=new bg,this.label=new Er,this.tooltip=new kg,this.connectMissingData=!1}};ce([pa(ka)],Jf.prototype,"xKey",2),ce([pa(ka)],Jf.prototype,"yKey",2),ce([pa(ka,{optional:!0})],Jf.prototype,"xName",2),ce([pa(ka,{optional:!0})],Jf.prototype,"yName",2),ce([pa(ka,{optional:!0})],Jf.prototype,"stackGroup",2),ce([pa(Ma,{optional:!0})],Jf.prototype,"normalizedTo",2),ce([pa(ka,{optional:!0})],Jf.prototype,"title",2),ce([pa(Ba)],Jf.prototype,"stroke",2),ce([pa(Ma)],Jf.prototype,"strokeWidth",2),ce([pa(Da)],Jf.prototype,"strokeOpacity",2),ce([pa(Ka)],Jf.prototype,"lineDash",2),ce([pa(Ma)],Jf.prototype,"lineDashOffset",2),ce([pa(ya)],Jf.prototype,"interpolation",2),ce([pa(ya)],Jf.prototype,"marker",2),ce([pa(ya)],Jf.prototype,"label",2),ce([pa(ya)],Jf.prototype,"tooltip",2),ce([pa(ba)],Jf.prototype,"connectMissingData",2);var $f=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Dh,directionNames:Lh,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:Yg({getOpacity:()=>this.getOpacity()}),label:fg,marker:(t,e)=>({opacity:1,scalingX:1,scalingY:1,...Eg(0,e)})}}),this.properties=new Jf}async processData(t){var e,i;if(null==this.data||!this.properties.isValid())return;const{data:n,visible:a,seriesGrouping:{groupIndex:o=this.id,stackCount:r=1}={}}=this,{xKey:s,yKey:l,connectMissingData:c,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=null===(e=this.axes.x)||void 0===e?void 0:e.scale,p=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{isContinuousX:g,xScaleType:f,yScaleType:m}=this.getScaleInformation({xScale:h,yScale:p}),y={invalidValue:null};c&&r>1&&(y.invalidValue=0),a||(y.forceValue=0);const v=[];if(g||v.push(Rd(s,f,{id:"xKey"})),v.push(Od(s,f,{id:"xValue"}),Od(l,m,{id:"yValueRaw",...y,invalidValue:void 0})),r>1){const t=["line-stack-".concat(o,"-yValues"),"line-stack-".concat(o,"-yValues-trailing"),"line-stack-".concat(o,"-yValues-marker")];v.push(..._d(l,"window","current",{id:"yValueEnd",...y,groupId:t[0]},m),..._d(l,"window-trailing","current",{id:"yValueStart",...y,groupId:t[1]},m),..._d(l,"normal","current",{id:"yValueCumulative",...y,groupId:t[2]},m)),qi(u)&&v.push(yd([t[0],t[1],t[2]],u,"range"))}d&&(v.push(xd(g?["xValue"]:void 0)),this.processedData&&v.push(Ld(this.processedData))),await this.requestDataModel(t,n,{props:v}),this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:n}=this;if(!e||!i||0===e.data.length)return[];const a=n.x,o=n.y,r=i.resolveProcessedDataDefById(this,"xValue");if("x"===t){const t=i.getDomain(this,"xValue","value",e);return"value"===(null===r||void 0===r?void 0:r.def.type)&&"category"===r.def.valueType?t:bu(yo(t),a)}var s,l;return bu((null!==(s=null===(l=this.seriesGrouping)||void 0===l?void 0:l.stackCount)&&void 0!==s?s:1)>1?i.getDomain(this,"yValueEnd","value",e):i.getDomain(this,"yValueRaw","value",e),o)}async createNodeData(){var t,e,i,n,a;const{processedData:o,dataModel:r,axes:s}=this,l=s.x,c=s.y;if(!o||!r||!l||!c)return;const{xKey:u,yKey:d,xName:h,yName:p,marker:g,label:f,connectMissingData:m,legendItemName:y}=this.properties,v=(null!==(t=null===(e=this.seriesGrouping)||void 0===e?void 0:e.stackCount)&&void 0!==t?t:1)>1,b=l.scale,x=c.scale,k=(null!==(i=b.bandwidth)&&void 0!==i?i:0)/2,S=(null!==(n=x.bandwidth)&&void 0!==n?n:0)/2,w=[],M=g.enabled?g.size:0,D=r.resolveProcessedDataIndexById(this,"xValue"),L=r.resolveProcessedDataIndexById(this,"yValueRaw"),C=v?r.resolveProcessedDataIndexById(this,"yValueCumulative"):L,I=v?r.resolveProcessedDataIndexById(this,"yValueEnd"):void 0;let N=!0;return null===(a=o.data)||void 0===a||a.forEach((t=>{let{datum:e,values:i}=t;const n=i[D],a=i[L],o=i[C],r=null!=I?i[I]:void 0;if(null==a)return void(N||(N=!m));const s=b.convert(n)+k;if(isNaN(s))return void(N||(N=!m));const l=x.convert(o)+S,c=this.getLabelText(f,{value:a,datum:e,xKey:u,yKey:d,xName:h,yName:p,legendItemName:y},(t=>cn(t)?t.toFixed(2):String(t)));w.push({series:this,datum:e,yKey:d,xKey:u,point:{x:s,y:l,moveTo:N,size:M},midPoint:{x:s,y:l},cumulativeValue:r,yValue:a,xValue:n,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:c?{text:c,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0}),N=!1})),{itemId:d,nodeData:w,labelData:w,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(vh(t))}async updatePathNodes(t){const{paths:[e],opacity:i,visible:n,animationEnabled:a}=t;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),a||(e.visible=n),Hg(this,e)}async updateMarkerSelection(t){let{nodeData:e}=t;const{markerSelection:i}=t,{shape:n,enabled:a}=this.properties.marker;return e=n&&a?e:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(e,void 0,(t=>Cd(t.xValue)))}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,stroke:o,strokeWidth:r,strokeOpacity:s,marker:l,highlightStyle:c}=this.properties,u=fn(i&&c.item,l.getStyle(),{stroke:o,strokeWidth:r,strokeOpacity:s}),d=this.ctx.animationManager.isSkipped();e.each(((t,e)=>{this.updateMarkerStyle(t,l,{datum:e,highlighted:i,xKey:n,yKey:a},u,{applyTranslation:d})})),i||l.markClean()}async updateLabelSelection(t){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])}async updateLabelNodes(t){const{enabled:e,fontStyle:i,fontWeight:n,fontSize:a,fontFamily:o,color:r}=this.properties.label;t.labelSelection.each(((t,s)=>{const{point:l,label:c}=s;s&&c&&e?(t.fontStyle=i,t.fontWeight=n,t.fontSize=a,t.fontFamily=o,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=l.x,t.y=l.y-10,t.fill=r,t.visible=!0):t.visible=!1}))}getTooltipHtml(t){var e;const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return js;const{xKey:a,yKey:o,xName:r,yName:s,strokeWidth:l,marker:c,tooltip:u}=this.properties,{datum:d,xValue:h,yValue:p,itemId:g}=t,f=i.formatDatum(h),m=n.formatDatum(p),y=hg(null!==(e=this.properties.title)&&void 0!==e?e:s),v=hg(f+": "+m),b=fn({fill:c.stroke},c.getStyle(),{strokeWidth:l}),{fill:x}=this.getMarkerStyle(c,{datum:t,xKey:a,yKey:o,highlighted:!1},b);return u.toTooltipHtml({title:y,content:v,backgroundColor:x},{datum:d,itemId:g,xKey:a,xName:r,yKey:o,yName:s,title:y,color:x,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(t){var e,i,n,a,o,r,s,l,c,u;if(null===(e=this.data)||void 0===e||!e.length||!this.properties.isValid()||"category"!==t)return[];const{yKey:d,yName:h,stroke:p,strokeOpacity:g,strokeWidth:f,lineDash:m,title:y,marker:v,visible:b,legendItemName:x}=this.properties,k="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:d,legendItemName:x,seriesId:this.id,enabled:b,label:{text:null!==(i=null!==(n=null!==x&&void 0!==x?x:y)&&void 0!==n?n:h)&&void 0!==i?i:d},symbols:[{marker:{shape:v.shape,fill:null!==(a=v.fill)&&void 0!==a?a:k,stroke:null!==(o=null!==(r=v.stroke)&&void 0!==r?r:p)&&void 0!==o?o:k,fillOpacity:null!==(s=v.fillOpacity)&&void 0!==s?s:1,strokeOpacity:null!==(l=null!==(c=v.strokeOpacity)&&void 0!==c?c:g)&&void 0!==l?l:1,strokeWidth:null!==(u=v.strokeWidth)&&void 0!==u?u:0,enabled:v.enabled},line:{stroke:null!==p&&void 0!==p?p:k,strokeOpacity:g,strokeWidth:f,lineDash:m}}]}]}async updatePaths(t){this.updateLinePaths(t.paths,t.contextData)}updateLinePaths(t,e){const{interpolation:i}=this.properties,{nodeData:n}=e,[a]=t;a.path.clear(!0);for(const o of Jg(n))Gg($g(n,o),a,i);a.checkPathDirty()}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n,contextData:a,paths:o}=t,{animationManager:r}=this.ctx;this.updateLinePaths(o,a),Wg(this,r,...o),ss([e],Eg),Ig(this,r,e),pg(this,"labels",r,i),pg(this,"annotations",r,...n)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateLinePaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e;const{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:a,annotationSelections:o,contextData:r,paths:s,previousContextData:l}=t,[c]=s;super.resetAllAnimation(t);const u=()=>{this.updateLinePaths(s,r)};if(null==r||null==l)return u(),Lg(this,i,"added",n),Ug(this,"path_properties",i,"add",c),pg(this,"labels",i,a),void pg(this,"annotations",i,...o);const d=uf(r,l,null===(e=this.processedData)||void 0===e||null===(e=e.reduced)||void 0===e?void 0:e.diff,this.properties.interpolation);if(void 0===d)return i.skipCurrentBatch(),void u();"no-op"!==d.status&&(Lg(this,i,void 0,n),qn(this.id,"path_properties",i,[c],d.pathProperties),ug(this.id,"path_update",i,[c],d.path),d.hasMotion&&(pg(this,"labels",i,a),pg(this,"annotations",i,...o)))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new ar}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,highlighted:!0})}computeFocusBounds(t){return Ag(this,t)}};$f.className="LineSeries",$f.type="line";var tm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:$f,stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Pp,color:Bp}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{const{marker:e}=Cp(t);return{stroke:e.fill,marker:e}}},em=class extends Er{constructor(){super(...arguments),this.placement="top"}};ce([pa(io)],em.prototype,"placement",2);var im=class extends Ih{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new em,this.tooltip=new kg,this.marker=new bg}};ce([pa(ka)],im.prototype,"xKey",2),ce([pa(ka)],im.prototype,"yKey",2),ce([pa(ka,{optional:!0})],im.prototype,"labelKey",2),ce([pa(ka,{optional:!0})],im.prototype,"colorKey",2),ce([pa(ka,{optional:!0})],im.prototype,"xName",2),ce([pa(ka,{optional:!0})],im.prototype,"yName",2),ce([pa(ka,{optional:!0})],im.prototype,"labelName",2),ce([pa(ka,{optional:!0})],im.prototype,"colorName",2),ce([pa(Fa,{optional:!0})],im.prototype,"colorDomain",2),ce([pa(za)],im.prototype,"colorRange",2),ce([pa(ka,{optional:!0})],im.prototype,"title",2),ce([Es("marker.shape")],im.prototype,"shape",2),ce([Es("marker.size")],im.prototype,"size",2),ce([Es("marker.fill")],im.prototype,"fill",2),ce([Es("marker.fillOpacity")],im.prototype,"fillOpacity",2),ce([Es("marker.stroke")],im.prototype,"stroke",2),ce([Es("marker.strokeWidth")],im.prototype,"strokeWidth",2),ce([Es("marker.strokeOpacity")],im.prototype,"strokeOpacity",2),ce([Es("marker.itemStyler",{optional:!0})],im.prototype,"itemStyler",2),ce([pa(ya)],im.prototype,"label",2),ce([pa(ya)],im.prototype,"tooltip",2);var nm=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Dh,directionNames:Lh,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Ng,label:fg}}),this.properties=new im,this.colorScale=new Vf}async processData(t){var e,i;if(!this.properties.isValid()||null==this.data||!this.visible)return;const n=null===(e=this.axes.x)||void 0===e?void 0:e.scale,a=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:o,yScaleType:r}=this.getScaleInformation({xScale:n,yScale:a}),s=this.colorScale.type,{xKey:l,yKey:c,labelKey:u,colorKey:d,colorDomain:h,colorRange:p}=this.properties,{dataModel:g,processedData:f}=await this.requestDataModel(t,this.data,{props:[Rd(l,o,{id:"xKey-raw"}),Rd(c,r,{id:"yKey-raw"}),...u?[Rd(u,"band",{id:"labelKey-raw"})]:[],Od(l,o,{id:"xValue"}),Od(c,r,{id:"yValue"}),...d?[Od(d,s,{id:"colorValue"})]:[],...u?[Od(u,"band",{id:"labelValue"})]:[]]});if(d){var m;const t=g.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=null!==(m=null!==h&&void 0!==h?h:f.domain.values[t])&&void 0!==m?m:[],this.colorScale.range=p,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n="x"===t?"xValue":"yValue",a=e.resolveProcessedDataDefById(this,n),o=e.getDomain(this,n,"value",i);if("value"===(null===a||void 0===a?void 0:a.def.type)&&"category"===(null===a||void 0===a?void 0:a.def.valueType))return o;const r=this.axes[t];return bu(yo(o),r)}async createNodeData(){var t,e;const{axes:i,dataModel:n,processedData:a,colorScale:o}=this,{xKey:r,yKey:s,labelKey:l,colorKey:c,xName:u,yName:d,labelName:h,marker:p,label:g,visible:f}=this.properties,{placement:m}=g,y=vh(p.shape),v=i.x,b=i.y;if(!(n&&a&&f&&v&&b))return;const x=n.resolveProcessedDataIndexById(this,"xValue"),k=n.resolveProcessedDataIndexById(this,"yValue"),S=c?n.resolveProcessedDataIndexById(this,"colorValue"):-1,w=l?n.resolveProcessedDataIndexById(this,"labelValue"):-1,M=v.scale,D=b.scale,L=(null!==(t=M.bandwidth)&&void 0!==t?t:0)/2,C=(null!==(e=D.bandwidth)&&void 0!==e?e:0)/2,I=[],N=g.getFont();for(const{values:T,datum:A}of null!==(E=a.data)&&void 0!==E?E:[]){var E;const t=T[x],e=T[k],i=M.convert(t)+L,n=D.convert(e)+C,a=this.getLabelText(g,{value:l?T[w]:e,datum:A,xKey:r,yKey:s,labelKey:l,xName:u,yName:d,labelName:h}),f=Ir.getTextSize(a,N),v=c?o.convert(T[S]):void 0;I.push({series:this,itemId:s,yKey:s,xKey:r,datum:A,xValue:t,yValue:e,capDefaults:{lengthRatioMultiplier:p.getDiameter(),lengthMax:1/0},point:{x:i,y:n,size:p.size},midPoint:{x:i,y:n},fill:v,label:{text:a,...f},marker:y,placement:m})}return{itemId:s,nodeData:I,labelData:I,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t,e;return null!==(t=null===(e=this.contextNodeData)||void 0===e?void 0:e.labelData)&&void 0!==t?t:[]}markerFactory(){const{shape:t}=this.properties.marker;return new(vh(t))}async updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,labelKey:o,marker:r,highlightStyle:s}=this.properties,l=fn(i&&s.item,r.getStyle());e.each(((t,e)=>{this.updateMarkerStyle(t,r,{datum:e,highlighted:i,xKey:n,yKey:a,labelKey:o},l)})),i||r.markClean()}async updateLabelSelection(t){var e,i;const n=this.isLabelEnabled()&&null!==(e=null===(i=this.chart)||void 0===i?void 0:i.placeLabels().get(this))&&void 0!==e?e:[];return t.labelSelection.update(n.map((t=>{let{datum:e,x:i,y:n}=t;return{...e,point:{x:i,y:n,size:e.point.size},placement:"top"}})),(t=>{t.pointerEvents=1}))}async updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each(((t,i)=>{var n,a,o,r;t.text=i.label.text,t.fill=e.color,t.x=null!==(n=null===(a=i.point)||void 0===a?void 0:a.x)&&void 0!==n?n:0,t.y=null!==(o=null===(r=i.point)||void 0===r?void 0:r.y)&&void 0!==o?o:0,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"}))}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return js;const{xKey:n,yKey:a,labelKey:o,xName:r,yName:s,labelName:l,title:c=s,marker:u,tooltip:d}=this.properties,{datum:h,xValue:p,yValue:g,label:f,itemId:m}=t,y=fn({fill:t.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:v="gray"}=this.getMarkerStyle(u,{datum:t,highlighted:!1,xKey:n,yKey:a,labelKey:o},y),b=hg(e.formatDatum(p)),x=hg(i.formatDatum(g));let k="<b>".concat(hg(null!==r&&void 0!==r?r:n),"</b>: ").concat(b,"<br><b>").concat(hg(null!==s&&void 0!==s?s:a),"</b>: ").concat(x);return o&&(k="<b>".concat(hg(null!==l&&void 0!==l?l:o),"</b>: ").concat(hg(f.text),"<br>")+k),d.toTooltipHtml({title:c,content:k,backgroundColor:v},{datum:h,itemId:m,xKey:n,xName:r,yKey:a,yName:s,labelKey:o,labelName:l,title:c,color:v,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(t){var e,i,n,a,o,r;const{yKey:s,yName:l,title:c,marker:u,visible:d}=this.properties,{fill:h,stroke:p,fillOpacity:g,strokeOpacity:f,strokeWidth:m}=u;return null!==(e=this.data)&&void 0!==e&&e.length&&this.properties.isValid()&&"category"===t?[{legendType:"category",id:this.id,itemId:s,seriesId:this.id,enabled:d,label:{text:null!==(i=null!==c&&void 0!==c?c:l)&&void 0!==i?i:s},symbols:[{marker:{shape:u.shape,fill:null!==(n=null!==(a=u.fill)&&void 0!==a?a:h)&&void 0!==n?n:"rgba(0, 0, 0, 0)",stroke:null!==(o=null!==(r=u.stroke)&&void 0!==r?r:p)&&void 0!==o?o:"rgba(0, 0, 0, 0)",fillOpacity:null!==g&&void 0!==g?g:1,strokeOpacity:null!==f&&void 0!==f?f:1,strokeWidth:null!==m&&void 0!==m?m:0}}]}]:[]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n}=t;Cg(this,this.ctx.animationManager,e),pg(this,"labels",this.ctx.animationManager,i),pg(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ar}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(t){return Ag(this,t)}};nm.className="ScatterSeries",nm.type="scatter";var am={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:nm,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Pp,color:Bp}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:Lp},om=class t{constructor(t,e,i,n){this.startAngle=t,this.endAngle=e,this.innerRadius=i,this.outerRadius=n}clone(){const{startAngle:e,endAngle:i,innerRadius:n,outerRadius:a}=this;return new t(e,i,n,a)}[ci](e,i){return new t(this.startAngle*(1-i)+e.startAngle*i,this.endAngle*(1-i)+e.endAngle*i,this.innerRadius*(1-i)+e.innerRadius*i,this.outerRadius*(1-i)+e.outerRadius*i)}};function rm(t){let{startAngle:e,endAngle:i,innerRadius:n,outerRadius:a}=t,o=1/0,r=1/0,s=-1/0,l=-1/0;const c=(t,e)=>{o=Math.min(t,o),r=Math.min(e,r),s=Math.max(t,s),l=Math.max(e,l)};return c(n*Math.cos(e),n*Math.sin(e)),c(n*Math.cos(i),n*Math.sin(i)),c(a*Math.cos(e),a*Math.sin(e)),c(a*Math.cos(i),a*Math.sin(i)),cr(0,e,i)&&c(a,0),cr(.5*Math.PI,e,i)&&c(0,a),cr(Math.PI,e,i)&&c(-a,0),cr(1.5*Math.PI,e,i)&&c(0,-a),new Li(o,r,s-o,l-r)}function sm(t,e,i){const n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:a,outerRadius:o}=i;if(i.startAngle===i.endAngle||n<Math.min(a,o)||n>Math.max(a,o))return!1;const r=lr(i.startAngle),s=lr(i.endAngle),l=Math.atan2(e,t);return r<s?l<=s&&l>=r:l<=s&&l>=-Math.PI||l>=r&&l<=Math.PI}function lm(t,e){const{startAngle:i,endAngle:n,innerRadius:a,outerRadius:o}=e,r={x:o*Math.cos(i),y:o*Math.sin(i)},s={x:o*Math.cos(n),y:o*Math.sin(n)},l=0===a?{x:0,y:0}:{x:a*Math.cos(i),y:a*Math.sin(i)},c=0===a?{x:0,y:0}:{x:a*Math.cos(n),y:a*Math.sin(n)};return xc(t.start.x,t.start.y,t.end.x,t.end.y,r.x,r.y,l.x,l.y)||xc(t.start.x,t.start.y,t.end.x,t.end.y,s.x,s.y,c.x,c.y)||wc(0,0,o,i,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function cm(t,e){const i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},a={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height};return lm({start:i,end:n},e)||lm({start:a,end:o},e)}function um(t,e,i,n){if(0===i&&0===n)return 0;if(Math.asin(Math.abs(1*i)/(t+1*i))+Math.asin(Math.abs(1*n)/(t+1*n))-e<0)return 1;let a=0,o=1;for(let r=0;r<8;r+=1){const r=(a+o)/2;Math.asin(Math.abs(r*i)/(t+r*i))+Math.asin(Math.abs(r*n)/(t+r*n))-e<0?a=r:o=r}return a}var dm=1e-6;function hm(t,e){return pr(t,e)<dm?e:rr(t-e)+e}function pm(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(e-t)>=2*Math.PI?2*Math.PI:rr(e-t);return{startAngle:t=hm(t,i),endAngle:e=t+n}}function gm(t,e,i,n,a,o){const r=Math.sin(o),s=Math.cos(o),l=t**2+e**2-i**2;let c=NaN,u=NaN,d=NaN,h=NaN;if(s>.5){const i=r/s,n=1+i**2,a=-2*(t+e*i),o=a**2-4*n*l;if(o<0)return;const p=(-a+Math.sqrt(o))/(2*n),g=(-a-Math.sqrt(o))/(2*n);c=p,u=p*i,d=g,h=g*i}else{const i=s/r,n=1+i**2,a=-2*(e+t*i),o=a**2-4*n*l;if(o<0)return;const p=(-a+Math.sqrt(o))/(2*n),g=(-a-Math.sqrt(o))/(2*n);c=p*i,u=p,d=g*i,h=g}const p=d*s+h*r,g=c*s+u*r>0?hm(Math.atan2(u-e,c-t),n):NaN,f=p>0?hm(Math.atan2(h-e,d-t),n):NaN;return g>=n&&g<=a?g:f>=n&&f<=a?f:void 0}function fm(t,e,i,n,a,o){const r=Math.hypot(t,e),s=r-(r**2-i**2+o**2)/(2*r),l=Math.atan2(e,t),c=Math.acos(-s/i),u=hm(l+c,n),d=hm(l-c,n);return u>=n&&u<=a?u:d>=n&&d<=a?d:void 0}var mm=class{constructor(t,e,i,n,a){this.cx=t,this.cy=e,this.r=i,this.a0=n,this.a1=a,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){null==t||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){null==t||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},ym=class extends Lc{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return rm(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:t}=this;return{innerRadius:Math.max(Math.min(this.innerRadius,this.outerRadius)+t,0),outerRadius:Math.max(Math.max(this.innerRadius,this.outerRadius)-t,0)}}normalizedClipSector(){const{clipSector:t}=this;if(null==t)return;const{startAngle:e,endAngle:i}=pm(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:a}=this.normalizedRadii(),o=pm(t.startAngle,t.endAngle,e);return new om(Math.max(e,o.startAngle),Math.min(i,o.endAngle),Math.max(n,t.innerRadius),Math.min(a,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,e,i,n,a,o,r,s){if(t<=0)return;const{startAngle:l,endAngle:c}=pm(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:d}=this.normalizedRadii(),h=this.normalizedClipSector();if(s&&u<=0)return;const p=this.getAngleOffset(u),g=this.getAngleOffset(d),f=s?this.getAngleOffset(u+t):this.getAngleOffset(d-t),m=r?l+f+e:c-f-e,y=s?u+t:d-t,v=y*Math.cos(m),b=y*Math.sin(m);if(null!=h){const t=1e-6;if(!r&&!(m>=l-t&&m<=h.endAngle-t))return;if(r&&!(m>=h.startAngle+t&&m<=c-t))return;if(s&&!(y>=h.innerRadius-t))return;if(!s&&!(y<=h.outerRadius+t))return}const x=new mm(v,b,t,i,n);if(null!=h){let e,c;if(s?(x.clipStart(gm(v,b,t,i,n,h.endAngle-p)),x.clipEnd(gm(v,b,t,i,n,h.startAngle+p))):(x.clipStart(gm(v,b,t,i,n,h.startAngle+g)),x.clipEnd(gm(v,b,t,i,n,h.endAngle-g))),r?(e=fm(v,b,t,i,n,h.innerRadius),c=fm(v,b,t,i,n,h.outerRadius)):(e=fm(v,b,t,i,n,h.outerRadius),c=fm(v,b,t,i,n,h.innerRadius)),x.clipStart(e),x.clipEnd(c),null!=e){const{x:t,y:i}=x.pointAt(e),n=hm(Math.atan2(i,t),l);r?null===o||void 0===o||o.clipStart(n):a.clipEnd(n)}if(null!=c){const{x:t,y:e}=x.pointAt(c),i=hm(Math.atan2(e,t),l);r?a.clipStart(i):null===o||void 0===o||o.clipEnd(i)}}if(null!=h){const{x:t,y:e}=x.pointAt((x.a0+x.a1)/2);if(!sm(t,e,h))return}const{x:k,y:S}=x.pointAt(r===s?x.a0:x.a1),w=hm(Math.atan2(S,k),l),M=s?o:a;return r?null===M||void 0===M||M.clipStart(w):null===M||void 0===M||M.clipEnd(w),x}updatePath(){var t,e,i,n,a;const o=1e-6,{path:r,centerX:s,centerY:l,concentricEdgeInset:c,radialEdgeInset:u}=this;let{startOuterCornerRadius:d,endOuterCornerRadius:h,startInnerCornerRadius:p,endInnerCornerRadius:g}=this;const{startAngle:f,endAngle:m}=pm(this.startAngle,this.endAngle),{innerRadius:y,outerRadius:v}=this.normalizedRadii(),b=this.normalizedClipSector(),x=m-f,k=x>=2*Math.PI-o;if(r.clear(),0===this.innerRadius&&0===this.outerRadius)return;if((null!==(t=null===b||void 0===b?void 0:b.startAngle)&&void 0!==t?t:f)===(null!==(e=null===b||void 0===b?void 0:b.endAngle)&&void 0!==e?e:m))return;if(k&&null==this.clipSector&&0===d&&0===h&&0===p&&0===g)return r.moveTo(s+v*Math.cos(f),l+v*Math.sin(f)),r.arc(s,l,v,f,m),y>c&&(r.moveTo(s+y*Math.cos(m),l+y*Math.sin(m)),r.arc(s,l,y,m,f,!0)),void r.closePath();const S=this.getAngleOffset(y),w=this.getAngleOffset(v);if(x<2*w)return;const M=(null!==(i=null===b||void 0===b?void 0:b.innerRadius)&&void 0!==i?i:y)>c,D=y<c||x<2*S,L=v-y,C=Math.max(d,p,h,g),I=C>0?Math.min(L/C,1):1;d*=I,h*=I,p*=I,g*=I;const N=um(v,x-2*w,-d,-h);if(d*=N,h*=N,!D&&M){const t=um(y,x-2*S,p,g);p*=t,g*=t}else p=0,g=0;const E=Math.max(d+p,h+g),T=E>0?Math.min(L/E,1):1;d*=T,h*=T,p*=T,g*=T;let A=0,R=0;const O=d/(v-d),P=h/(v-h);if(O>=0&&O<.999999)A=Math.asin(O);else{A=x/2;const t=v/(1/Math.sin(A)+1);d=Math.min(t,d)}if(P>=0&&P<.999999)R=Math.asin(P);else{R=x/2;const t=v/(1/Math.sin(R)+1);h=Math.min(t,h)}const B=Math.asin(p/(y+p)),z=Math.asin(g/(y+g)),_=null!==(n=null===b||void 0===b?void 0:b.outerRadius)&&void 0!==n?n:v,F=this.getAngleOffset(_),G=new mm(0,0,_,f+F,m-F),j=null!==(a=null===b||void 0===b?void 0:b.innerRadius)&&void 0!==a?a:y,V=this.getAngleOffset(j),W=M?new mm(0,0,j,f+V,m-V):void 0;null!=b&&(G.clipStart(b.startAngle),G.clipEnd(b.endAngle),null===W||void 0===W||W.clipStart(b.startAngle),null===W||void 0===W||W.clipEnd(b.endAngle));const U=this.arc(d,A,f-.5*Math.PI,f+A,G,W,!0,!1),K=this.arc(h,R,m-R,m+.5*Math.PI,G,W,!1,!1),Y=this.arc(g,z,m+.5*Math.PI,m+Math.PI-z,G,W,!1,!0),H=this.arc(p,B,f+Math.PI+B,f+1.5*Math.PI,G,W,!0,!0);if(D){const t=x<.5*Math.PI?u*(1+Math.cos(x))/Math.sin(x):NaN;let e;e=t>0&&t<v?Math.max(Math.hypot(u,t),y):y;const i=f+.5*x;r.moveTo(s+e*Math.cos(i),l+e*Math.sin(i))}else if(!0===(null===H||void 0===H?void 0:H.isValid())||!0===(null===W||void 0===W?void 0:W.isValid()));else{const t=f+x/2,e=y*Math.cos(t),i=y*Math.sin(t);r.moveTo(s+e,l+i)}if(!0===(null===U||void 0===U?void 0:U.isValid())){const{cx:t,cy:e,r:i,a0:n,a1:a}=U;r.arc(s+t,l+e,i,n,a)}if(G.isValid()){const{r:t,a0:e,a1:i}=G;r.arc(s,l,t,e,i)}if(!0===(null===K||void 0===K?void 0:K.isValid())){const{cx:t,cy:e,r:i,a0:n,a1:a}=K;r.arc(s+t,l+e,i,n,a)}if(!D){if(!0===(null===Y||void 0===Y?void 0:Y.isValid())){const{cx:t,cy:e,r:i,a0:n,a1:a}=Y;r.arc(s+t,l+e,i,n,a)}if(!0===(null===W||void 0===W?void 0:W.isValid())){const{r:t,a0:e,a1:i}=W;r.arc(s,l,t,i,e,!0)}if(!0===(null===H||void 0===H?void 0:H.isValid())){const{cx:t,cy:e,r:i,a0:n,a1:a}=H;r.arc(s+t,l+e,i,n,a)}}r.closePath()}isPointInPath(t,e){var i;const n=this.transformPoint(t,e),{startAngle:a,endAngle:o,innerRadius:r,outerRadius:s}=null!==(i=this.clipSector)&&void 0!==i?i:this;return sm(n.x-this.centerX,n.y-this.centerY,{startAngle:a,endAngle:o,innerRadius:Math.min(r,s),outerRadius:Math.max(r,s)})}};ym.className="Sector",ce([Dc()],ym.prototype,"centerX",2),ce([Dc()],ym.prototype,"centerY",2),ce([Dc()],ym.prototype,"innerRadius",2),ce([Dc()],ym.prototype,"outerRadius",2),ce([Dc()],ym.prototype,"startAngle",2),ce([Dc()],ym.prototype,"endAngle",2),ce([Dc()],ym.prototype,"clipSector",2),ce([Dc()],ym.prototype,"concentricEdgeInset",2),ce([Dc()],ym.prototype,"radialEdgeInset",2),ce([Dc()],ym.prototype,"startOuterCornerRadius",2),ce([Dc()],ym.prototype,"endOuterCornerRadius",2),ce([Dc()],ym.prototype,"startInnerCornerRadius",2),ce([Dc()],ym.prototype,"endInnerCornerRadius",2);var vm={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},bm={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},xm=class extends Ys{constructor(){super(...arguments),this.showInLegend=!1}};ce([pa(ba)],xm.prototype,"showInLegend",2);var km=class extends Er{constructor(){super(...arguments),this.spacing=2}set(t,e){return super.set(t)}};ce([pa(ka)],km.prototype,"text",2),ce([pa(Sa)],km.prototype,"spacing",2);var Sm=class extends wn{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};ce([pa(Ba)],Sm.prototype,"fill",2),ce([pa(Da)],Sm.prototype,"fillOpacity",2);var wm=class extends Er{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};ce([pa(Ma)],wm.prototype,"offset",2),ce([pa(La)],wm.prototype,"minAngle",2),ce([pa(Ma)],wm.prototype,"minSpacing",2),ce([pa(Ma)],wm.prototype,"maxCollisionOffset",2),ce([pa(ba)],wm.prototype,"avoidCollisions",2);var Mm=class extends Er{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};ce([pa(Sa)],Mm.prototype,"positionOffset",2),ce([pa(Da)],Mm.prototype,"positionRatio",2);var Dm=class extends wn{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};ce([pa(za,{optional:!0})],Dm.prototype,"colors",2),ce([pa(Ma)],Dm.prototype,"length",2),ce([pa(Ma)],Dm.prototype,"strokeWidth",2);var Lm=class extends Mh{constructor(){super(...arguments),this.fills=Object.values(vm),this.strokes=Object.values(bm),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new Mn(km),this.title=new xm,this.innerCircle=new Sm,this.shadow=new yg,this.calloutLabel=new wm,this.sectorLabel=new Mm,this.calloutLine=new Dm,this.tooltip=new kg}isValid(){const t=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(ye.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};function Cm(t,e,i,n){const a=[i.convert(0),i.convert(1)],o=[n.convert(0),n.convert(1)],r=Math.PI/-2+ur(e),s=t?"initial":"update";return{nodes:{toFn:(t,e,i,n)=>{let{prevLive:o}=n,{startAngle:s,endAngle:l,innerRadius:c,outerRadius:u}=e;const{stroke:d,fill:h}=e.sectorFormat;var p,g;"removed"===i&&o?(s=null===(p=o.datum)||void 0===p?void 0:p.endAngle,l=null===(g=o.datum)||void 0===g?void 0:g.endAngle):"removed"!==i||o||(s=r,l=r);if("removed"===i){const t=(t=>{let{radius:e}=t;return{innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*e}})(e);c=t.innerRadius,u=t.outerRadius}return{startAngle:s,endAngle:l,outerRadius:u,innerRadius:c,stroke:d,fill:h}},fromFn:(e,i,n,a)=>{let{prevFromProps:l}=a,{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h}=e,{fill:p,stroke:g}=i.sectorFormat;if("unknown"===n||"added"===n&&!l)c=r,u=r,d=i.innerRadius,h=i.outerRadius;else if("added"===n&&l){var f,m,y,v;c=null!==(f=l.endAngle)&&void 0!==f?f:r,u=null!==(m=l.endAngle)&&void 0!==m?m:r,d=null!==(y=l.innerRadius)&&void 0!==y?y:i.innerRadius,h=null!==(v=l.outerRadius)&&void 0!==v?v:i.outerRadius}if("added"===n&&!t){const t=(t=>{let{radius:e}=t;return{innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*e}})(i);d=t.innerRadius,h=t.outerRadius}var b,x;"updated"===n&&(p=null!==(b=e.fill)&&void 0!==b?b:p,g=null!==(x=e.stroke)&&void 0!==x?x:g);return{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,fill:p,stroke:g,phase:s}}},innerCircle:{fromFn:(t,e)=>{var i,n,a;return{size:null!==(i=null!==(n=null===(a=t.previousDatum)||void 0===a?void 0:a.radius)&&void 0!==n?n:t.size)&&void 0!==i?i:0,phase:s}},toFn:(t,e)=>{var i;return{size:null!==(i=e.radius)&&void 0!==i?i:0}}}}}function Im(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}function Nm(t,e){const i=e.y-t.centerY,n=e.x-t.centerX,a=Math.atan2(i,n),o=t.getItemNodes();for(const r of o)if(!0!==r.datum.missing&&cr(a,r.startAngle,r.endAngle)){const t=Math.sqrt(n*n+i*i);let e=0;return t<r.innerRadius?e=r.innerRadius-t:t>r.outerRadius&&(e=t-r.outerRadius),{datum:r.datum,distance:e}}}function Em(t,e){const i=t.getNodeData();if(void 0!==i)return Tm(i[e.datumIndex],t.centerX,t.centerY)}function Tm(t,e,i){return rm(t).translate(e,i)}ce([pa(ka)],Lm.prototype,"angleKey",2),ce([pa(ka,{optional:!0})],Lm.prototype,"angleName",2),ce([pa(ka,{optional:!0})],Lm.prototype,"radiusKey",2),ce([pa(ka,{optional:!0})],Lm.prototype,"radiusName",2),ce([pa(Ma,{optional:!0})],Lm.prototype,"radiusMin",2),ce([pa(Ma,{optional:!0})],Lm.prototype,"radiusMax",2),ce([pa(ka,{optional:!0})],Lm.prototype,"calloutLabelKey",2),ce([pa(ka,{optional:!0})],Lm.prototype,"calloutLabelName",2),ce([pa(ka,{optional:!0})],Lm.prototype,"sectorLabelKey",2),ce([pa(ka,{optional:!0})],Lm.prototype,"sectorLabelName",2),ce([pa(ka,{optional:!0})],Lm.prototype,"legendItemKey",2),ce([pa(za)],Lm.prototype,"fills",2),ce([pa(za)],Lm.prototype,"strokes",2),ce([pa(Da)],Lm.prototype,"fillOpacity",2),ce([pa(Da)],Lm.prototype,"strokeOpacity",2),ce([pa(Ka)],Lm.prototype,"lineDash",2),ce([pa(Ma)],Lm.prototype,"lineDashOffset",2),ce([pa(Ma)],Lm.prototype,"cornerRadius",2),ce([pa(xa,{optional:!0})],Lm.prototype,"itemStyler",2),ce([pa(La)],Lm.prototype,"rotation",2),ce([pa(Sa)],Lm.prototype,"outerRadiusOffset",2),ce([pa(Da)],Lm.prototype,"outerRadiusRatio",2),ce([pa(Sa,{optional:!0})],Lm.prototype,"innerRadiusOffset",2),ce([pa(Da,{optional:!0})],Lm.prototype,"innerRadiusRatio",2),ce([pa(Ma)],Lm.prototype,"strokeWidth",2),ce([pa(Sa)],Lm.prototype,"sectorSpacing",2),ce([pa(Va)],Lm.prototype,"innerLabels",2),ce([pa(ya)],Lm.prototype,"title",2),ce([pa(ya)],Lm.prototype,"innerCircle",2),ce([pa(ya)],Lm.prototype,"shadow",2),ce([pa(ya)],Lm.prototype,"calloutLabel",2),ce([pa(ya)],Lm.prototype,"sectorLabel",2),ce([pa(ya)],Lm.prototype,"calloutLine",2),ce([pa(ya)],Lm.prototype,"tooltip",2);var Am=class extends bh{constructor(t){let{useLabelLayer:e=!1,pickModes:i=[3,0],canHaveAxes:n=!1,animationResetFns:a,...o}=t;super({...o,useLabelLayer:e,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n}),this.itemGroup=this.contentGroup.appendChild(new ar),this.nodeData=[],this.itemSelection=xs.select(this.itemGroup,(()=>this.nodeFactory()),!1),this.labelSelection=xs.select(this.labelGroup,(()=>this.labelFactory()),!1),this.highlightSelection=xs.select(this.highlightGroup,(()=>this.nodeFactory())),this.highlightLabelSelection=xs.select(this.highlightLabel,(()=>this.labelFactory())),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=a,this.animationState=new Bs("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),highlightMarkers:t=>this.animateReadyHighlightMarkers(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}getItemNodes(){return this.itemGroup.children}getNodeData(){return this.nodeData}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t&&this.animationState.transition("skip")}labelFactory(){const t=new Ir;return t.pointerEvents=1,t}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(t,e){return null}resetAllAnimation(){var t;const{item:e,label:i}=null!==(t=this.animationResetFns)&&void 0!==t?t:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&ss([this.itemSelection,this.highlightSelection],e),i&&ss([this.labelSelection,this.highlightLabelSelection],i),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){var e;const{item:i,label:n}=null!==(e=this.animationResetFns)&&void 0!==e?e:{};i&&ss([this.highlightSelection],i),n&&ss([this.highlightLabelSelection],n)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(t){return{seriesRect:t}}computeFocusBounds(t){var e;const i=null===(e=this.getNodeData())||void 0===e?void 0:e[t.datumIndex];if(void 0!==i)return this.itemSelection.select((t=>t instanceof Lc&&t.datum===i))[0]}},Rm=class extends Gd{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Om=class extends Am{constructor(t){super({moduleCtx:t,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:Im,label:fg}}),this.properties=new Lm,this.previousRadiusScale=new Oh,this.radiusScale=new Oh,this.calloutLabelGroup=this.contentGroup.appendChild(new ar({name:"pieCalloutLabels"})),this.calloutLabelSelection=new xs(this.calloutLabelGroup,ar),this.backgroundGroup=this.rootGroup.appendChild(new ar({name:"".concat(this.id,"-background"),layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ar({name:"".concat(this.id,"-zerosumRings")})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ih),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ih),this.innerLabelsGroup=this.contentGroup.appendChild(new ar({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new ar({name:"".concat(this.id,"-innerCircle")})),this.innerLabelsSelection=xs.select(this.innerLabelsGroup,Ir),this.innerCircleSelection=xs.select(this.innerCircleGroup,ih),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=Rm,this.angleScale=new Oh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((t=>t+Math.PI/2))}addChartEventListeners(){var t;this.destroyFns.push(null===(t=this.ctx.chartEventManager)||void 0===t?void 0:t.addListener("legend-item-click",(t=>this.onLegendItemClick(t))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.some((t=>t)))}nodeFactory(){return new ym}getSeriesDomain(t){return"x"===t?this.angleScale.domain:this.radiusScale.domain}async processData(t){if(null==this.data||!this.properties.isValid())return;let{data:e}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:a,radiusKey:o,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),u=[],d=[];l?u.push(Rd(l,"band",{id:"legendItemKey"})):r?u.push(Rd(r,"band",{id:"calloutLabelKey"})):s&&u.push(Rd(s,"band",{id:"sectorLabelKey"}));const h=this.radiusScale.type,p=this.radiusScale.type;var g,f;o&&d.push(Pd(o,{id:"radiusValue",min:null!==(g=this.properties.radiusMin)&&void 0!==g?g:0,max:this.properties.radiusMax}),Od(o,h,{id:"radiusRaw"}),bd({id:"radiusValue"},[0,1],1,null!==(f=this.properties.radiusMin)&&void 0!==f?f:0,this.properties.radiusMax));r&&d.push(Od(r,"band",{id:"calloutLabelValue"})),s&&d.push(Od(s,"band",{id:"sectorLabelValue"})),l&&d.push(Od(l,"band",{id:"legendItemValue"})),c&&this.processedData&&u.length>0&&d.push(Ld(this.processedData)),d.push(xd()),e=e.map(((t,e)=>i&&n[e]?t:{...t,[a]:0})),await this.requestDataModel(t,e,{props:[...u,Bd(a,p,{id:"angleValue",onlyPositive:!0}),Od(a,p,{id:"angleRaw"}),bd({id:"angleValue"},[0,1],0,0),...d]});for(const v of null!==(m=null===(y=this.processedData)||void 0===y||null===(y=y.defs)||void 0===y?void 0:y.values)&&void 0!==m?m:[]){var m,y;const{id:t,missing:e,property:i}=v,n=xu(this,e);"angleRaw"!==t&&n>0&&ye.warnOnce("no value was found for the key '".concat(String(i),"' on ").concat(n," data element").concat(n>1?"s":""))}this.animationState.transition("updateData")}async maybeRefreshNodeData(){var t;if(!this.nodeDataRefresh)return;const{nodeData:e=[]}=null!==(t=await this.createNodeData())&&void 0!==t?t:{};this.nodeData=e,this.nodeDataRefresh=!1}getProcessedDataIndexes(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue"),radiusIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):-1,calloutLabelIdx:this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):-1,sectorLabelIdx:this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):-1,legendItemIdx:this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):-1}}async createNodeData(){const{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:a,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!e||!i||"ungrouped"!==e.type)return;const{angleIdx:r,radiusIdx:s,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(i);let d=0,h=0;const p=e.data.map(((t,e)=>{var i;const{datum:o,values:p}=t,g=p[r],f=n.convert(d)+ur(a);d=g,h+=g;const m=n.convert(d)+ur(a),y=Math.abs(m-f),v=f+y/2,b=p[r+1],x=s>=0&&null!==(i=p[s])&&void 0!==i?i:1,k=s>=0?p[s+1]:void 0,S=u>=0?p[u]:void 0,w=this.getLabels(o,v,y,!0,p[l],p[c],S),M=this.getSectorFormat(o,e,!1);return{itemId:e,series:this,datum:o,index:e,angleValue:b,midAngle:v,midCos:Math.cos(v),midSin:Math.sin(v),startAngle:f,endAngle:m,sectorFormat:M,radiusValue:k,radius:x,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(x),0),legendItemValue:S,enabled:this.seriesItemEnabled[e],...w}}));return this.zerosumOuterRing.visible=0===h,this.zerosumInnerRing.visible=0===h&&null!=o&&1!==o&&o>0,{itemId:t,nodeData:p,labelData:p}}getLabels(t,e,i,n,a,o,r){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||s.enabled?this.properties.calloutLabelKey:void 0,d=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&i>ur(s.minAngle)&&(p.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(s,{...h,value:a}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),d&&(p.sectorLabel={text:this.getLabelText(l,{...h,value:o})}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=lr(t)- -.75*Math.PI;return e[ki(Math.floor(i/(Math.PI/2)),e.length)]}getSectorFormat(t,e,i){var n,a,o,r,s,l,c,u,d,h,p,g,f,m,y,v;const{callbackCache:b,highlightManager:x}=this.ctx,{angleKey:k,radiusKey:S,calloutLabelKey:w,sectorLabelKey:M,legendItemKey:D,fills:L,strokes:C,itemStyler:I}=this.properties,N=x.getActiveHighlight(),E=i&&(null===N||void 0===N?void 0:N.series)===this&&e===N.itemId,T=C[e%C.length],{fill:A,fillOpacity:R,stroke:O,strokeWidth:P,strokeOpacity:B,lineDash:z,lineDashOffset:_,cornerRadius:F}=fn(E&&this.properties.highlightStyle.item,{fill:L.length>0?L[e%L.length]:void 0,stroke:T,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let G;return I&&(G=b.call(I,{datum:t,angleKey:k,radiusKey:S,calloutLabelKey:w,sectorLabelKey:M,legendItemKey:D,fill:A,fillOpacity:R,stroke:O,strokeWidth:P,strokeOpacity:B,lineDash:z,lineDashOffset:_,cornerRadius:F,highlighted:E,seriesId:this.id})),{fill:null!==(n=null===(a=G)||void 0===a?void 0:a.fill)&&void 0!==n?n:A,fillOpacity:null!==(o=null===(r=G)||void 0===r?void 0:r.fillOpacity)&&void 0!==o?o:R,stroke:null!==(s=null===(l=G)||void 0===l?void 0:l.stroke)&&void 0!==s?s:O,strokeWidth:null!==(c=null===(u=G)||void 0===u?void 0:u.strokeWidth)&&void 0!==c?c:P,strokeOpacity:null!==(d=null===(h=G)||void 0===h?void 0:h.strokeOpacity)&&void 0!==d?d:B,lineDash:null!==(p=null===(g=G)||void 0===g?void 0:g.lineDash)&&void 0!==p?p:z,lineDashOffset:null!==(f=null===(m=G)||void 0===m?void 0:m.lineDashOffset)&&void 0!==f?f:_,cornerRadius:null!==(y=null===(v=G)||void 0===v?void 0:v.cornerRadius)&&void 0!==y?y:F}}getInnerRadius(){const{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){const e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e),this.nodeData=this.nodeData.map((t=>{let{radius:e,...i}=t;return{...i,radius:e,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(e),0)}}))}getTitleTranslationY(){var t,e;const i=Math.max(0,this.radiusScale.range[1]);if(0===i)return NaN;return-i-(2+(null!==(t=null===(e=this.properties.title)||void 0===e?void 0:e.spacing)&&void 0!==t?t:0))-Math.max(0,-i)}async update(t){let{seriesRect:e}=t;const{title:i}=this.properties,n={seriesRectWidth:null===e||void 0===e?void 0:e.width,seriesRectHeight:null===e||void 0===e?void 0:e.height},a=null!=Cn(this.nodeDataDependencies,n);if(a&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const t=this.getTitleTranslationY(),e=i.node.computeBBox();i.node.visible=i.enabled&&isFinite(t)&&!this.bboxIntersectsSurroundingSeries(e,0,t),i.node.translationY=isFinite(t)?t:0}for(const o of[this.zerosumInnerRing,this.zerosumOuterRing])o.fillOpacity=0,o.stroke=this.properties.calloutLabel.color,o.strokeWidth=1,o.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){const{oldTitle:t}=this,{title:e}=this.properties;if(t!==e){var i,n;if(t)null===(i=this.labelGroup)||void 0===i||i.removeChild(t.node);if(e)e.node.textBaseline="bottom",null===(n=this.labelGroup)||void 0===n||n.appendChild(e.node);this.oldTitle=e}}updateNodeMidPoint(){this.nodeData.forEach((t=>{const e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}}))}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){const{itemSelection:t,highlightSelection:e,highlightLabelSelection:i,calloutLabelSelection:n,labelSelection:a,innerLabelsSelection:o}=this,r=this.ctx.highlightManager.getActiveHighlight(),s=(null===r||void 0===r?void 0:r.series)===this?this.nodeData.filter((t=>t.itemId===(null===r||void 0===r?void 0:r.itemId))):[],l=(t,e)=>{let i=this.nodeData;e&&(i=i.map((t=>({...t,sectorFormat:{...t.sectorFormat}})))),t.update(i,void 0,(t=>this.getDatumId(t))),this.ctx.animationManager.isSkipped()&&t.cleanup()};l(t,!1),l(e,!0),n.update(this.nodeData,(t=>{const e=new Ms;e.tag=0,e.pointerEvents=1,t.appendChild(e);const i=new Ir;i.tag=1,i.pointerEvents=1,t.appendChild(i)})),a.update(this.nodeData),i.update(s),o.update(this.properties.innerLabels,(t=>{t.pointerEvents=1}))}updateInnerCircleSelection(){const{innerCircle:t}=this.properties;let e=0;const i=this.getInnerRadius();if(i>0){const t=Math.min(i,this.getOuterRadius()),n=1;e=Math.ceil(2*t+n)}const n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}async updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(null===e||void 0===e?void 0:e.series)===this,this.highlightLabel.visible=i&&(null===e||void 0===e?void 0:e.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each(((t,e)=>{var i,n;let{radius:a}=e;t.setProperties({fill:null===(i=this.properties.innerCircle)||void 0===i?void 0:i.fill,opacity:null===(n=this.properties.innerCircle)||void 0===n?void 0:n.fillOpacity,size:a})}));const n=(t,e,i,n)=>{const a=this.getSectorFormat(e.datum,e.itemId,n);e.sectorFormat.fill=a.fill,e.sectorFormat.stroke=a.stroke;const o=this.ctx.animationManager.isSkipped();o&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius),(n||o)&&(t.fill=a.fill,t.stroke=a.stroke),t.strokeWidth=a.strokeWidth,t.fillOpacity=a.fillOpacity,t.strokeOpacity=a.strokeOpacity,t.lineDash=a.lineDash,t.lineDashOffset=a.lineDashOffset,t.cornerRadius=a.cornerRadius,t.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=a.stroke?a.strokeWidth:0))/2,0);t.inset=r,t.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((t,e,i)=>n(t,e,0,!1))),this.highlightSelection.each(((t,i,a)=>{const o=(null===e||void 0===e?void 0:e.series)===this&&t.datum.itemId===e.itemId;n(t,i,0,!0),t.visible=o})),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){var t;const{calloutLine:e}=this.properties,i=e.length,n=e.strokeWidth,a=null!==(t=e.colors)&&void 0!==t?t:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((t,e)=>{const r=t.datum,{calloutLabel:s,outerRadius:l}=r;if(null!==s&&void 0!==s&&s.text&&!s.hidden&&0!==l){var c;t.visible=!0,t.strokeWidth=n,t.stroke=a[e%a.length],t.fill=void 0;const u=r.midCos*l,d=r.midSin*l;let h=r.midCos*(l+i),p=r.midSin*(l+i);if((null!==(c=s.collisionTextAlign)&&void 0!==c?c:0!==s.collisionOffsetY)&&null!=s.box){const t=s.box;let e=h,i=p;h<t.x?e=t.x:h>t.x+t.width&&(e=t.x+t.width),p<t.y?i=t.y:p>t.y+t.height&&(i=t.y+t.height);const n=e-h,a=i-p,r=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),l=r-o;l>0&&(h+=n*l/r,p+=a*l/r)}t.x1=u,t.y1=d,t.x2=h,t.y2=p}else t.visible=!1}))}getLabelOverflow(t,e,i){const n=i.x-this.centerX,a=i.x+i.width-this.centerX,o=i.y-this.centerY,r=i.y+i.height-this.centerY;let s=1;e.x+1<n?s=(e.x+e.width-n)/e.width:e.x+e.width-1>a&&(s=(a-e.x)/e.width);const l=e.y+1<o||e.y+e.height-1>r;return{textLength:1===s?t.length:Math.floor(t.length*s)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}}bboxIntersectsSurroundingSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{surroundingRadius:n}=this;if(null==n)return!1;const a=[{x:t.x+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+t.height+i},{x:t.x+e,y:t.y+t.height+i}],o=n**2;return a.some((t=>t.x**2+t.y**2>o))}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:a}=e,o=t.convert(0),r=this.nodeData,s=this.nodeData.filter((t=>{return!(!(e=t).calloutLabel||0===e.outerRadius);var e}));if(s.forEach((t=>{const e=t.calloutLabel;null!=e&&(e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0)})),s.length<=1)return;const l=s.filter((t=>t.midCos<0)).sort(((t,e)=>t.midSin-e.midSin)),c=s.filter((t=>t.midCos>=0)).sort(((t,e)=>t.midSin-e.midSin)),u=s.filter((t=>{var e;return t.midSin<0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort(((t,e)=>t.midCos-e.midCos)),d=s.filter((t=>{var e;return t.midSin>=0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort(((t,e)=>t.midCos-e.midCos)),h=new Ir,p=t=>{var e;const a=t.calloutLabel;if(null==a)return new Li(0,0,0,0);const o=t.outerRadius+i.length+n,r=t.midCos*o,s=t.midSin*o+a.collisionOffsetY;return h.text=a.text,h.x=r,h.y=s,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:null!==(e=a.collisionTextAlign)&&void 0!==e?e:a.textAlign,textBaseline:a.textBaseline}),h.computeBBox()},g=(t,e,i)=>{const n=p(t).grow(a/2),o=p(e).grow(a/2);if(n.x<o.x+o.width&&n.x+n.width>o.x&&("to-top"===i?n.y<o.y+o.height:n.y+n.height>o.y)){const t="to-top"===i?n.y-o.y-o.height:n.y+n.height-o.y;e.calloutLabel.collisionOffsetY=t}},f=t=>{const e=t.slice().sort(((t,e)=>Math.abs(t.midSin)-Math.abs(e.midSin)))[0],i=t.indexOf(e);for(let n=i-1;n>=0;n--){const e=t[n+1],i=t[n];g(e,i,"to-top")}for(let n=i+1;n<t.length;n++){const e=t[n-1],i=t[n];g(e,i,"to-bottom")}},m=t=>{const e=s.some((t=>0!==t.calloutLabel.collisionOffsetY)),i=t.map((t=>p(t))),n=i.map((t=>t.clone().grow(a/2)));let l=!1;for(let a=0;a<n.length&&!l;a++){const e=n[a];for(let i=a+1;i<t.length;i++){const t=n[i];if(e.collidesBBox(t)){l=!0;break}}}const c=r.map((t=>{const{startAngle:e,endAngle:i,outerRadius:n}=t;return{startAngle:e,endAngle:i,innerRadius:o,outerRadius:n}})),u=i.some((t=>c.some((e=>cm(t,e)))));(l||e||u)&&t.filter((t=>"center"===t.calloutLabel.textAlign)).forEach((t=>{const e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};f(l),f(c),m(u),m(d)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:o,color:r}=i,s=new Ir;this.calloutLabelSelection.selectByTag(1).forEach((n=>{var l;const{datum:c}=n,u=c.calloutLabel,d=e.convert(c.radius),h=Math.max(0,d);if(null===u||void 0===u||!u.text||0===h||u.hidden)return void(n.visible=!1);const p=h+a+o,g=c.midCos*p,f=c.midSin*p+u.collisionOffsetY,m={textAlign:null!==(l=u.collisionTextAlign)&&void 0!==l?l:u.textAlign,textBaseline:u.textBaseline};s.text=u.text,s.x=g,s.y=f,s.setFont(this.properties.calloutLabel),s.setAlign(m);const y=s.computeBBox();let v=u.text,b=!0;if(i.avoidCollisions){const{textLength:e,hasVerticalOverflow:i}=this.getLabelOverflow(u.text,y,t);v=u.text.length===e?u.text:"".concat(u.text.substring(0,e),"\u2026"),b=!i}n.text=v,n.x=g,n.y=f,n.setFont(this.properties.calloutLabel),n.setAlign(m),n.fill=r,n.visible=b}))}async computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:o,maxCollisionOffset:r,minSpacing:s}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Ir;let u;const{title:d}=this.properties;if(null!==d&&void 0!==d&&d.text&&d.enabled){const t=this.getTitleTranslationY();isFinite(t)&&(c.text=d.text,c.x=0,c.y=t,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach((i=>{var n;const d=i.calloutLabel;if(!d||0===i.outerRadius)return null;const h=i.outerRadius+a+o,p=i.midCos*h,g=i.midSin*h+d.collisionOffsetY;c.text=d.text,c.x=p,c.y=g,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!==(n=d.collisionTextAlign)&&void 0!==n?n:d.textAlign,textBaseline:d.textBaseline});const f=c.computeBBox();if(d.box=f,Math.abs(d.collisionOffsetY)>r)d.hidden=!0;else{if(u){const t=e.y-this.centerY,i=new Li(u.x-s,t,u.width+2*s,u.y+u.height+s-t);if(f.collidesBBox(i))return void(d.hidden=!0)}if(t.hideWhenNecessary){const{textLength:t,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:n}=this.getLabelOverflow(d.text,f,e),a=d.text.length>2&&t<2;if(i||a||n)return void(d.hidden=!0)}d.hidden=!1,l.push(f)}})),0===l.length?null:Li.merge(l)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:a,fontFamily:o,positionOffset:r,positionRatio:s,color:l}=this.properties.sectorLabel,c=(t,c)=>{const{sectorLabel:u,outerRadius:d}=c;let h=!1;if(u&&0!==d){const p=e*(1-s)+d*s+r;t.fill=l,t.fontStyle=n,t.fontWeight=a,t.fontSize=i,t.fontFamily=o,t.text=u.text,t.x=c.midCos*p,t.y=c.midSin*p,t.textAlign="center",t.textBaseline="middle";const g=t.computeBBox(),f=[[g.x,g.y],[g.x+g.width,g.y],[g.x+g.width,g.y+g.height],[g.x,g.y+g.height]],{startAngle:m,endAngle:y}=c,v={startAngle:m,endAngle:y,innerRadius:e,outerRadius:d};f.every((t=>{let[e,i]=t;return sm(e,i,v)}))&&(h=!0)}t.visible=h};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each(((i,n)=>{const{fontStyle:a,fontWeight:o,fontSize:r,fontFamily:s,color:l}=n;i.fontStyle=a,i.fontWeight=o,i.fontSize=r,i.fontFamily=s,i.text=n.text,i.x=0,i.y=0,i.fill=l,i.textAlign="center",i.textBaseline="alphabetic",t.push(i.computeBBox()),e.push(n.spacing)}));const i=t=>0===t?0:e[t],n=t=>t===e.length-1?0:e[t],a=t.reduce(((t,e,a)=>t+e.height+i(a)+n(a)),0),o=Math.max(...t.map((t=>t.width))),r=this.getInnerRadius(),s=Math.sqrt(Math.pow(o/2,2)+Math.pow(a/2,2))<=(r>0?r:this.getOuterRadius()),l=[];for(let c=0,u=-a/2;c<t.length;c++){const e=t[c].height+u+i(c);l.push(e),u=e+n(c)}this.innerLabelsSelection.each(((t,e,i)=>{t.y=l[i],t.visible=s}))}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(t){const{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties,{sectorLabel:o,calloutLabel:r,legendItem:s}=t;return a&&void 0!==s?s.text:i&&i!==e&&void 0!==(null===r||void 0===r?void 0:r.text)?r.text:n&&n!==e&&void 0!==(null===o||void 0===o?void 0:o.text)?o.text:void 0}pickNodeClosestDatum(t){return Nm(this,t)}getTooltipHtml(t){var e;if(!this.properties.isValid())return js;const{datum:i,angleValue:n,sectorFormat:{fill:a},itemId:o}=t,r=hg(null===(e=this.properties.title)||void 0===e?void 0:e.text),s=cn(n)?xi(n):String(n),l=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:null!==r&&void 0!==r?r:l,content:r&&l?"".concat(l,": ").concat(s):s,backgroundColor:a},{datum:i,itemId:o,title:r,color:a,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){var e;const{visible:i,processedData:n,dataModel:a}=this;if(!a||null===n||void 0===n||!n.data.length||!this.properties.isValid()||"category"!==t)return[];const{angleKey:o,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l}=this.properties;if(!l&&(!r||r===o)&&(!s||s===o))return[];const{calloutLabelIdx:c,sectorLabelIdx:u,legendItemIdx:d}=this.getProcessedDataIndexes(a),h=(null===(e=this.properties.title)||void 0===e?void 0:e.showInLegend)&&this.properties.title.text,p=[];for(let v=0;v<n.data.length;v++){var g,f;const{datum:t,values:e}=n.data[v],a=[];h&&a.push(h);const b=this.getLabels(t,2*Math.PI,2*Math.PI,!1,e[c],e[u],e[d]);if(l&&void 0!==b.legendItem)a.push(b.legendItem.text);else if(r&&r!==o&&void 0!==(null===(g=b.calloutLabel)||void 0===g?void 0:g.text)){var m;a.push(null===(m=b.calloutLabel)||void 0===m?void 0:m.text)}else if(s&&s!==o&&void 0!==(null===(f=b.sectorLabel)||void 0===f?void 0:f.text)){var y;a.push(null===(y=b.sectorLabel)||void 0===y?void 0:y.text)}if(0===a.length)continue;const x=this.getSectorFormat(t,v,!1);p.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:i&&this.seriesItemEnabled[v],label:{text:a.join(" - ")},symbols:[{marker:{fill:x.fill,stroke:x.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=l?t[l]:void 0})}return p}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendItemName:a}=t;n.id===this.id?this.toggleSeriesItem(i,e):null!=a&&this.toggleOtherSeriesItems(a,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeData[t]&&(this.nodeData[t].enabled=e),this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");null===(i=this.processedData)||void 0===i||i.data.forEach(((i,a)=>{let{values:o}=i;o[n]===t&&this.toggleSeriesItem(a,e)}))}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=Cm(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);qn(this.id,"nodes",e,[this.itemSelection,this.highlightSelection],i.nodes),qn(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),pg(this,"callout",e,this.calloutLabelSelection),pg(this,"sector",e,this.labelSelection),pg(this,"highlight",e,this.highlightLabelSelection),pg(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var t,e,i,n,a;const{itemSelection:o,highlightSelection:r,processedData:s,radiusScale:l,previousRadiusScale:c}=this,{animationManager:u}=this.ctx,d=null===s||void 0===s||null===(t=s.reduced)||void 0===t?void 0:t.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=0===(null!==(e=null===d||void 0===d?void 0:d.moved.size)&&void 0!==e?e:0),p=(null!==(i=null===s||void 0===s?void 0:s.defs.keys.length)&&void 0!==i?i:0)>0,g=null===(n=null===s||void 0===s||null===(a=s.reduced)||void 0===a||null===(a=a.animationValidation)||void 0===a?void 0:a.uniqueKeys)||void 0===n||n;h&&p&&g||this.ctx.animationManager.skipCurrentBatch();const f=Cm(!1,this.properties.rotation,l,c);qn(this.id,"nodes",u,[o,r],f.nodes,((t,e)=>this.getDatumId(e)),d),qn(this.id,"innerCircle",u,[this.innerCircleSelection],f.innerCircle),pg(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),pg(this,"sector",this.ctx.animationManager,this.labelSelection),pg(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),pg(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,radiusScale:i,previousRadiusScale:n}=this,{animationManager:a}=this.ctx,o=Cm(!1,this.properties.rotation,i,n);qn(this.id,"nodes",a,[t,e],o.nodes),qn(this.id,"innerCircle",a,[this.innerCircleSelection],o.innerCircle),gg(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),gg(this,"sector",this.ctx.animationManager,this.labelSelection),gg(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),gg(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){var e;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties;if(null!==(e=this.processedData)&&void 0!==e&&null!==(e=e.reduced)&&void 0!==e&&null!==(e=e.animationValidation)&&void 0!==e&&e.uniqueKeys)return a?t[a]:i?t[i]:n?t[n]:void 0}getDatumId(t){const{index:e}=t,i=this.getDatumIdFromData(t.datum);return null!=i?String(i):"".concat(e)}onDataChange(){var t;const{data:e,seriesItemEnabled:i}=this;this.seriesItemEnabled=null!==(t=null===e||void 0===e?void 0:e.map(((t,e)=>{var n;return null===(n=i[e])||void 0===n||n})))&&void 0!==t?t:[]}};Om.className="DonutSeries",Om.type="donut";var Pm={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Pp,color:Fp,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Pp,color:Bp,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Pp,color:_p,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Up,xOffset:3,yOffset:3,blur:5}}},Bm=t=>{let{takeColors:e,colorsCount:i}=t;const{fills:n,strokes:a}=e(i);return{fills:n,strokes:a,calloutLine:{colors:a}}},zm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:Om,tooltipDefaults:{range:"exact"},themeTemplate:{series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Pp,color:Fp,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Pp,color:Bp,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Pp,color:_p,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Up,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:Pp,color:Bp,spacing:2}}},paletteFactory:Bm},_m=class extends Ys{constructor(){super(...arguments),this.showInLegend=!1}};ce([pa(ba)],_m.prototype,"showInLegend",2);var Fm=class extends Er{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};ce([pa(Ma)],Fm.prototype,"offset",2),ce([pa(La)],Fm.prototype,"minAngle",2),ce([pa(Ma)],Fm.prototype,"minSpacing",2),ce([pa(Ma)],Fm.prototype,"maxCollisionOffset",2),ce([pa(ba)],Fm.prototype,"avoidCollisions",2);var Gm=class extends Er{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};ce([pa(Sa)],Gm.prototype,"positionOffset",2),ce([pa(Da)],Gm.prototype,"positionRatio",2);var jm=class extends wn{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};ce([pa(za,{optional:!0})],jm.prototype,"colors",2),ce([pa(Ma)],jm.prototype,"length",2),ce([pa(Ma)],jm.prototype,"strokeWidth",2);var Vm=class extends Mh{constructor(){super(...arguments),this.fills=Object.values(vm),this.strokes=Object.values(bm),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new _m,this.shadow=new yg,this.calloutLabel=new Fm,this.sectorLabel=new Gm,this.calloutLine=new jm,this.tooltip=new kg}};ce([pa(ka)],Vm.prototype,"angleKey",2),ce([pa(ka,{optional:!0})],Vm.prototype,"angleName",2),ce([pa(ka,{optional:!0})],Vm.prototype,"radiusKey",2),ce([pa(ka,{optional:!0})],Vm.prototype,"radiusName",2),ce([pa(Ma,{optional:!0})],Vm.prototype,"radiusMin",2),ce([pa(Ma,{optional:!0})],Vm.prototype,"radiusMax",2),ce([pa(ka,{optional:!0})],Vm.prototype,"calloutLabelKey",2),ce([pa(ka,{optional:!0})],Vm.prototype,"calloutLabelName",2),ce([pa(ka,{optional:!0})],Vm.prototype,"sectorLabelKey",2),ce([pa(ka,{optional:!0})],Vm.prototype,"sectorLabelName",2),ce([pa(ka,{optional:!0})],Vm.prototype,"legendItemKey",2),ce([pa(za)],Vm.prototype,"fills",2),ce([pa(za)],Vm.prototype,"strokes",2),ce([pa(Da)],Vm.prototype,"fillOpacity",2),ce([pa(Da)],Vm.prototype,"strokeOpacity",2),ce([pa(Ka)],Vm.prototype,"lineDash",2),ce([pa(Ma)],Vm.prototype,"lineDashOffset",2),ce([pa(Ma)],Vm.prototype,"cornerRadius",2),ce([pa(xa,{optional:!0})],Vm.prototype,"itemStyler",2),ce([pa(La)],Vm.prototype,"rotation",2),ce([pa(Sa)],Vm.prototype,"outerRadiusOffset",2),ce([pa(Da)],Vm.prototype,"outerRadiusRatio",2),ce([pa(Ma)],Vm.prototype,"strokeWidth",2),ce([pa(Sa)],Vm.prototype,"sectorSpacing",2),ce([pa(ya)],Vm.prototype,"title",2),ce([pa(ya)],Vm.prototype,"shadow",2),ce([pa(ya)],Vm.prototype,"calloutLabel",2),ce([pa(ya)],Vm.prototype,"sectorLabel",2),ce([pa(ya)],Vm.prototype,"calloutLine",2),ce([pa(ya)],Vm.prototype,"tooltip",2);var Wm=class extends Gd{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Um=class extends Am{constructor(t){super({moduleCtx:t,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:Im,label:fg}}),this.properties=new Vm,this.previousRadiusScale=new Oh,this.radiusScale=new Oh,this.calloutLabelGroup=this.contentGroup.appendChild(new ar({name:"pieCalloutLabels"})),this.calloutLabelSelection=new xs(this.calloutLabelGroup,ar),this.backgroundGroup=this.rootGroup.appendChild(new ar({name:"".concat(this.id,"-background"),layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ar({name:"".concat(this.id,"-zerosumRings")})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ih),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=Wm,this.angleScale=new Oh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((t=>t+Math.PI/2))}addChartEventListeners(){var t;this.destroyFns.push(null===(t=this.ctx.chartEventManager)||void 0===t?void 0:t.addListener("legend-item-click",(t=>this.onLegendItemClick(t))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.some((t=>t)))}nodeFactory(){const t=new ym;return t.miterLimit=1e9,t}getSeriesDomain(t){return"x"===t?this.angleScale.domain:this.radiusScale.domain}async processData(t){if(null==this.data||!this.properties.isValid())return;let{data:e}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:a,radiusKey:o,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),u=[],d=[];l?u.push(Rd(l,"band",{id:"legendItemKey"})):r?u.push(Rd(r,"band",{id:"calloutLabelKey"})):s&&u.push(Rd(s,"band",{id:"sectorLabelKey"}));const h=this.radiusScale.type,p=this.radiusScale.type;var g,f;o&&d.push(Pd(o,{id:"radiusValue",min:null!==(g=this.properties.radiusMin)&&void 0!==g?g:0,max:this.properties.radiusMax}),Od(o,h,{id:"radiusRaw"}),bd({id:"radiusValue"},[0,1],1,null!==(f=this.properties.radiusMin)&&void 0!==f?f:0,this.properties.radiusMax));r&&d.push(Od(r,"band",{id:"calloutLabelValue"})),s&&d.push(Od(s,"band",{id:"sectorLabelValue"})),l&&d.push(Od(l,"band",{id:"legendItemValue"})),c&&this.processedData&&u.length>0&&d.push(Ld(this.processedData)),d.push(xd()),e=e.map(((t,e)=>i&&n[e]?t:{...t,[a]:0})),await this.requestDataModel(t,e,{props:[...u,Bd(a,p,{id:"angleValue",onlyPositive:!0}),Od(a,p,{id:"angleRaw"}),bd({id:"angleValue"},[0,1],0,0),...d]});for(const v of null!==(m=null===(y=this.processedData)||void 0===y||null===(y=y.defs)||void 0===y?void 0:y.values)&&void 0!==m?m:[]){var m,y;const{id:t,missing:e,property:i}=v,n=xu(this,e);"angleRaw"!==t&&n>0&&ye.warnOnce("no value was found for the key '".concat(String(i),"' on ").concat(n," data element").concat(n>1?"s":""))}this.animationState.transition("updateData")}async maybeRefreshNodeData(){var t;if(!this.nodeDataRefresh)return;const{nodeData:e=[]}=null!==(t=await this.createNodeData())&&void 0!==t?t:{};this.nodeData=e,this.nodeDataRefresh=!1}getProcessedDataIndexes(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue"),radiusIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):-1,calloutLabelIdx:this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):-1,sectorLabelIdx:this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):-1,legendItemIdx:this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):-1}}async createNodeData(){const{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:a}=this.properties;if(!e||!i||"ungrouped"!==e.type)return;const{angleIdx:o,radiusIdx:r,calloutLabelIdx:s,sectorLabelIdx:l,legendItemIdx:c}=this.getProcessedDataIndexes(i);let u=0,d=0;const h=e.data.map(((t,e)=>{var i;const{datum:h,values:p}=t,g=p[o],f=n.convert(u)+ur(a);u=g,d+=g;const m=n.convert(u)+ur(a),y=Math.abs(m-f),v=f+y/2,b=p[o+1],x=r>=0&&null!==(i=p[r])&&void 0!==i?i:1,k=r>=0?p[r+1]:void 0,S=c>=0?p[c]:void 0,w=this.getLabels(h,v,y,!0,p[s],p[l],S),M=this.getSectorFormat(h,e,!1);return{itemId:e,series:this,datum:h,index:e,angleValue:b,midAngle:v,midCos:Math.cos(v),midSin:Math.sin(v),startAngle:f,endAngle:m,sectorFormat:M,radiusValue:k,radius:x,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(x),0),legendItemValue:S,enabled:this.seriesItemEnabled[e],...w}}));return this.zerosumOuterRing.visible=0===d,{itemId:t,nodeData:h,labelData:h}}getLabels(t,e,i,n,a,o,r){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||s.enabled?this.properties.calloutLabelKey:void 0,d=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&i>ur(s.minAngle)&&(p.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(s,{...h,value:a}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),d&&(p.sectorLabel={text:this.getLabelText(l,{...h,value:o})}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=lr(t)- -.75*Math.PI;return e[ki(Math.floor(i/(Math.PI/2)),e.length)]}getSectorFormat(t,e,i){var n,a,o,r,s,l,c,u,d,h,p,g,f,m,y,v;const{callbackCache:b,highlightManager:x}=this.ctx,{angleKey:k,radiusKey:S,calloutLabelKey:w,sectorLabelKey:M,legendItemKey:D,fills:L,strokes:C,itemStyler:I}=this.properties,N=x.getActiveHighlight(),E=i&&(null===N||void 0===N?void 0:N.series)===this&&e===N.itemId,T=C[e%C.length],{fill:A,fillOpacity:R,stroke:O,strokeWidth:P,strokeOpacity:B,lineDash:z,lineDashOffset:_,cornerRadius:F}=fn(E&&this.properties.highlightStyle.item,{fill:L.length>0?L[e%L.length]:void 0,stroke:T,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let G;return I&&(G=b.call(I,{datum:t,angleKey:k,radiusKey:S,calloutLabelKey:w,sectorLabelKey:M,legendItemKey:D,fill:A,strokeOpacity:B,stroke:O,strokeWidth:P,fillOpacity:R,lineDash:z,lineDashOffset:_,cornerRadius:F,highlighted:E,seriesId:this.id})),{fill:null!==(n=null===(a=G)||void 0===a?void 0:a.fill)&&void 0!==n?n:A,fillOpacity:null!==(o=null===(r=G)||void 0===r?void 0:r.fillOpacity)&&void 0!==o?o:R,stroke:null!==(s=null===(l=G)||void 0===l?void 0:l.stroke)&&void 0!==s?s:O,strokeWidth:null!==(c=null===(u=G)||void 0===u?void 0:u.strokeWidth)&&void 0!==c?c:P,strokeOpacity:null!==(d=null===(h=G)||void 0===h?void 0:h.strokeOpacity)&&void 0!==d?d:B,lineDash:null!==(p=null===(g=G)||void 0===g?void 0:g.lineDash)&&void 0!==p?p:z,lineDashOffset:null!==(f=null===(m=G)||void 0===m?void 0:m.lineDashOffset)&&void 0!==f?f:_,cornerRadius:null!==(y=null===(v=G)||void 0===v?void 0:v.cornerRadius)&&void 0!==y?y:F}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){const e=[0,this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e),this.nodeData=this.nodeData.map((t=>{let{radius:e,...i}=t;return{...i,radius:e,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(e),0)}}))}getTitleTranslationY(){var t,e;const i=Math.max(0,this.radiusScale.range[1]);if(0===i)return NaN;return-i-(2+(null!==(t=null===(e=this.properties.title)||void 0===e?void 0:e.spacing)&&void 0!==t?t:0))-Math.max(0,-i)}async update(t){let{seriesRect:e}=t;const{title:i}=this.properties,n={seriesRectWidth:null===e||void 0===e?void 0:e.width,seriesRectHeight:null===e||void 0===e?void 0:e.height},a=null!=Cn(this.nodeDataDependencies,n);if(a&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const t=this.getTitleTranslationY(),e=i.node.computeBBox();i.node.visible=i.enabled&&isFinite(t)&&!this.bboxIntersectsSurroundingSeries(e,0,t),i.node.translationY=isFinite(t)?t:0}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){const{oldTitle:t}=this,{title:e}=this.properties;if(t!==e){var i,n;if(t)null===(i=this.labelGroup)||void 0===i||i.removeChild(t.node);if(e)e.node.textBaseline="bottom",null===(n=this.labelGroup)||void 0===n||n.appendChild(e.node);this.oldTitle=e}}updateNodeMidPoint(){this.nodeData.forEach((t=>{const e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}}))}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){const{itemSelection:t,highlightSelection:e,highlightLabelSelection:i,calloutLabelSelection:n,labelSelection:a}=this,o=this.ctx.highlightManager.getActiveHighlight(),r=(null===o||void 0===o?void 0:o.series)===this?this.nodeData.filter((t=>t.itemId===(null===o||void 0===o?void 0:o.itemId))):[],s=(t,e)=>{let i=this.nodeData;e&&(i=i.map((t=>({...t,sectorFormat:{...t.sectorFormat}})))),t.update(i,void 0,(t=>this.getDatumId(t))),this.ctx.animationManager.isSkipped()&&t.cleanup()};s(t,!1),s(e,!0),n.update(this.nodeData,(t=>{const e=new Ms;e.tag=0,e.pointerEvents=1,t.appendChild(e);const i=new Ir;i.tag=1,i.pointerEvents=1,t.appendChild(i)})),a.update(this.nodeData),i.update(r)}async updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(null===e||void 0===e?void 0:e.series)===this,this.highlightLabel.visible=i&&(null===e||void 0===e?void 0:e.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=(t,e,i,n)=>{const a=this.getSectorFormat(e.datum,e.itemId,n);e.sectorFormat.fill=a.fill,e.sectorFormat.stroke=a.stroke;const o=this.ctx.animationManager.isSkipped();o&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius),(n||o)&&(t.fill=a.fill,t.stroke=a.stroke),t.strokeWidth=a.strokeWidth,t.fillOpacity=a.fillOpacity,t.strokeOpacity=a.strokeOpacity,t.lineDash=a.lineDash,t.lineDashOffset=a.lineDashOffset,t.cornerRadius=a.cornerRadius,t.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=a.stroke?a.strokeWidth:0))/2,0);t.inset=r,t.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((t,e,i)=>n(t,e,0,!1))),this.highlightSelection.each(((t,e,i)=>n(t,e,0,!0))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){var t;const{calloutLine:e}=this.properties,i=e.length,n=e.strokeWidth,a=null!==(t=e.colors)&&void 0!==t?t:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((t,e)=>{const r=t.datum,{calloutLabel:s,outerRadius:l}=r;if(null!==s&&void 0!==s&&s.text&&!s.hidden&&0!==l){var c;t.visible=!0,t.strokeWidth=n,t.stroke=a[e%a.length],t.fill=void 0;const u=r.midCos*l,d=r.midSin*l;let h=r.midCos*(l+i),p=r.midSin*(l+i);if((null!==(c=s.collisionTextAlign)&&void 0!==c?c:0!==s.collisionOffsetY)&&null!=s.box){const t=s.box;let e=h,i=p;h<t.x?e=t.x:h>t.x+t.width&&(e=t.x+t.width),p<t.y?i=t.y:p>t.y+t.height&&(i=t.y+t.height);const n=e-h,a=i-p,r=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),l=r-o;l>0&&(h+=n*l/r,p+=a*l/r)}t.x1=u,t.y1=d,t.x2=h,t.y2=p}else t.visible=!1}))}getLabelOverflow(t,e,i){const n=i.x-this.centerX,a=i.x+i.width-this.centerX,o=i.y-this.centerY,r=i.y+i.height-this.centerY;let s=1;e.x+1<n?s=(e.x+e.width-n)/e.width:e.x+e.width-1>a&&(s=(a-e.x)/e.width);const l=e.y+1<o||e.y+e.height-1>r;return{textLength:1===s?t.length:Math.floor(t.length*s)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}}bboxIntersectsSurroundingSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{surroundingRadius:n}=this;if(null==n)return!1;const a=[{x:t.x+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+t.height+i},{x:t.x+e,y:t.y+t.height+i}],o=n**2;return a.some((t=>t.x**2+t.y**2>o))}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:a}=e,o=t.convert(0),r=this.nodeData,s=this.nodeData.filter((t=>{return!(!(e=t).calloutLabel||0===e.outerRadius);var e}));if(s.forEach((t=>{const e=t.calloutLabel;null!=e&&(e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0)})),s.length<=1)return;const l=s.filter((t=>t.midCos<0)).sort(((t,e)=>t.midSin-e.midSin)),c=s.filter((t=>t.midCos>=0)).sort(((t,e)=>t.midSin-e.midSin)),u=s.filter((t=>{var e;return t.midSin<0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort(((t,e)=>t.midCos-e.midCos)),d=s.filter((t=>{var e;return t.midSin>=0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort(((t,e)=>t.midCos-e.midCos)),h=new Ir,p=t=>{var e;const a=t.calloutLabel;if(null==a)return new Li(0,0,0,0);const o=t.outerRadius+i.length+n,r=t.midCos*o,s=t.midSin*o+a.collisionOffsetY;return h.text=a.text,h.x=r,h.y=s,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:null!==(e=a.collisionTextAlign)&&void 0!==e?e:a.textAlign,textBaseline:a.textBaseline}),h.computeBBox()},g=(t,e,i)=>{const n=p(t).grow(a/2),o=p(e).grow(a/2);if(n.x<o.x+o.width&&n.x+n.width>o.x&&("to-top"===i?n.y<o.y+o.height:n.y+n.height>o.y)){const t="to-top"===i?n.y-o.y-o.height:n.y+n.height-o.y;e.calloutLabel.collisionOffsetY=t}},f=t=>{const e=t.slice().sort(((t,e)=>Math.abs(t.midSin)-Math.abs(e.midSin)))[0],i=t.indexOf(e);for(let n=i-1;n>=0;n--){const e=t[n+1],i=t[n];g(e,i,"to-top")}for(let n=i+1;n<t.length;n++){const e=t[n-1],i=t[n];g(e,i,"to-bottom")}},m=t=>{const e=s.some((t=>0!==t.calloutLabel.collisionOffsetY)),i=t.map((t=>p(t))),n=i.map((t=>t.clone().grow(a/2)));let l=!1;for(let a=0;a<n.length&&!l;a++){const e=n[a];for(let i=a+1;i<t.length;i++){const t=n[i];if(e.collidesBBox(t)){l=!0;break}}}const c=r.map((t=>{const{startAngle:e,endAngle:i,outerRadius:n}=t;return{startAngle:e,endAngle:i,innerRadius:o,outerRadius:n}})),u=i.some((t=>c.some((e=>cm(t,e)))));(l||e||u)&&t.filter((t=>"center"===t.calloutLabel.textAlign)).forEach((t=>{const e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};f(l),f(c),m(u),m(d)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:o,color:r}=i,s=new Ir;this.calloutLabelSelection.selectByTag(1).forEach((n=>{var l;const{datum:c}=n,u=c.calloutLabel,d=e.convert(c.radius),h=Math.max(0,d);if(null===u||void 0===u||!u.text||0===h||u.hidden)return void(n.visible=!1);const p=h+a+o,g=c.midCos*p,f=c.midSin*p+u.collisionOffsetY,m={textAlign:null!==(l=u.collisionTextAlign)&&void 0!==l?l:u.textAlign,textBaseline:u.textBaseline};s.text=u.text,s.x=g,s.y=f,s.setFont(this.properties.calloutLabel),s.setAlign(m);const y=s.computeBBox();let v=u.text,b=!0;if(i.avoidCollisions){const{textLength:e,hasVerticalOverflow:i}=this.getLabelOverflow(u.text,y,t);v=u.text.length===e?u.text:"".concat(u.text.substring(0,e),"\u2026"),b=!i}n.text=v,n.x=g,n.y=f,n.setFont(this.properties.calloutLabel),n.setAlign(m),n.fill=r,n.visible=b}))}async computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:o,maxCollisionOffset:r,minSpacing:s}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Ir;let u;const{title:d}=this.properties;if(null!==d&&void 0!==d&&d.text&&d.enabled){const t=this.getTitleTranslationY();isFinite(t)&&(c.text=d.text,c.x=0,c.y=t,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach((i=>{var n;const d=i.calloutLabel;if(!d||0===i.outerRadius)return null;const h=i.outerRadius+a+o,p=i.midCos*h,g=i.midSin*h+d.collisionOffsetY;c.text=d.text,c.x=p,c.y=g,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!==(n=d.collisionTextAlign)&&void 0!==n?n:d.textAlign,textBaseline:d.textBaseline});const f=c.computeBBox();if(d.box=f,Math.abs(d.collisionOffsetY)>r)d.hidden=!0;else{if(u){const t=e.y-this.centerY,i=new Li(u.x-s,t,u.width+2*s,u.y+u.height+s-t);if(f.collidesBBox(i))return void(d.hidden=!0)}if(t.hideWhenNecessary){const{textLength:t,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:n}=this.getLabelOverflow(d.text,f,e),a=d.text.length>2&&t<2;if(i||a||n)return void(d.hidden=!0)}d.hidden=!1,l.push(f)}})),0===l.length?null:Li.merge(l)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:a,fontFamily:o,positionOffset:r,positionRatio:s,color:l}=this.properties.sectorLabel,c=e>0,u=1===this.seriesItemEnabled.filter(Boolean).length,d=(t,d)=>{const{sectorLabel:h,outerRadius:p}=d;let g=!1;if(h&&0!==p){const f=e*(1-s)+p*s+r;t.fill=l,t.fontStyle=n,t.fontWeight=a,t.fontSize=i,t.fontFamily=o,t.text=h.text;!c&&u?(t.x=0,t.y=0):(t.x=d.midCos*f,t.y=d.midSin*f),t.textAlign="center",t.textBaseline="middle";const m=t.computeBBox(),y=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],{startAngle:v,endAngle:b}=d,x={startAngle:v,endAngle:b,innerRadius:e,outerRadius:p};y.every((t=>{let[e,i]=t;return sm(e,i,x)}))&&(g=!0)}t.visible=g};this.labelSelection.each(d),this.highlightLabelSelection.each(d)}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius()}getDatumLegendName(t){const{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties,{sectorLabel:o,calloutLabel:r,legendItem:s}=t;return a&&void 0!==s?s.text:i&&i!==e&&void 0!==(null===r||void 0===r?void 0:r.text)?r.text:n&&n!==e&&void 0!==(null===o||void 0===o?void 0:o.text)?o.text:void 0}pickNodeClosestDatum(t){return Nm(this,t)}getTooltipHtml(t){var e;if(!this.properties.isValid())return js;const{datum:i,angleValue:n,sectorFormat:{fill:a},itemId:o}=t,r=hg(null===(e=this.properties.title)||void 0===e?void 0:e.text),s=cn(n)?xi(n):String(n),l=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:null!==r&&void 0!==r?r:l,content:r&&l?"".concat(l,": ").concat(s):s,backgroundColor:a},{datum:i,itemId:o,title:r,color:a,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){var e;const{visible:i,processedData:n,dataModel:a}=this;if(!a||null===n||void 0===n||!n.data.length||"category"!==t)return[];const{angleKey:o,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l}=this.properties;if(!l&&(!r||r===o)&&(!s||s===o))return[];const{calloutLabelIdx:c,sectorLabelIdx:u,legendItemIdx:d}=this.getProcessedDataIndexes(a),h=(null===(e=this.properties.title)||void 0===e?void 0:e.showInLegend)&&this.properties.title.text,p=[];for(let v=0;v<n.data.length;v++){var g,f;const{datum:t,values:e}=n.data[v],a=[];h&&a.push(h);const b=this.getLabels(t,2*Math.PI,2*Math.PI,!1,e[c],e[u],e[d]);if(l&&void 0!==b.legendItem)a.push(b.legendItem.text);else if(r&&r!==o&&void 0!==(null===(g=b.calloutLabel)||void 0===g?void 0:g.text)){var m;a.push(null===(m=b.calloutLabel)||void 0===m?void 0:m.text)}else if(s&&s!==o&&void 0!==(null===(f=b.sectorLabel)||void 0===f?void 0:f.text)){var y;a.push(null===(y=b.sectorLabel)||void 0===y?void 0:y.text)}if(0===a.length)continue;const x=this.getSectorFormat(t,v,!1);p.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:i&&this.seriesItemEnabled[v],label:{text:a.join(" - ")},symbols:[{marker:{fill:x.fill,stroke:x.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=l?t[l]:void 0})}return p}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendItemName:a}=t;n.id===this.id?this.toggleSeriesItem(i,e):null!=a&&this.toggleOtherSeriesItems(a,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeData[t]&&(this.nodeData[t].enabled=e),this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");null===(i=this.processedData)||void 0===i||i.data.forEach(((i,a)=>{let{values:o}=i;o[n]===t&&this.toggleSeriesItem(a,e)}))}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=Cm(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);qn(this.id,"nodes",e,[this.itemSelection,this.highlightSelection],i.nodes),pg(this,"callout",e,this.calloutLabelSelection),pg(this,"sector",e,this.labelSelection),pg(this,"highlight",e,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var t,e,i,n,a;const{itemSelection:o,highlightSelection:r,processedData:s,radiusScale:l,previousRadiusScale:c}=this,{animationManager:u}=this.ctx,d=null===s||void 0===s||null===(t=s.reduced)||void 0===t?void 0:t.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=0===(null!==(e=null===d||void 0===d?void 0:d.moved.size)&&void 0!==e?e:0),p=(null!==(i=null===s||void 0===s?void 0:s.defs.keys.length)&&void 0!==i?i:0)>0,g=null===(n=null===s||void 0===s||null===(a=s.reduced)||void 0===a||null===(a=a.animationValidation)||void 0===a?void 0:a.uniqueKeys)||void 0===n||n;h&&p&&g||this.ctx.animationManager.skipCurrentBatch();const f=Cm(!1,this.properties.rotation,l,c);qn(this.id,"nodes",u,[o,r],f.nodes,((t,e)=>this.getDatumId(e)),d),pg(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),pg(this,"sector",this.ctx.animationManager,this.labelSelection),pg(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,radiusScale:i,previousRadiusScale:n}=this,{animationManager:a}=this.ctx,o=Cm(!1,this.properties.rotation,i,n);qn(this.id,"nodes",a,[t,e],o.nodes),gg(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),gg(this,"sector",this.ctx.animationManager,this.labelSelection),gg(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){var e;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties;if(null!==(e=this.processedData)&&void 0!==e&&null!==(e=e.reduced)&&void 0!==e&&null!==(e=e.animationValidation)&&void 0!==e&&e.uniqueKeys)return a?t[a]:i?t[i]:n?t[n]:void 0}getDatumId(t){const{index:e}=t,i=this.getDatumIdFromData(t.datum);return null!=i?String(i):"".concat(e)}onDataChange(){var t;const{data:e,seriesItemEnabled:i}=this;this.seriesItemEnabled=null!==(t=null===e||void 0===e?void 0:e.map(((t,e)=>{var n;return null===(n=i[e])||void 0===n||n})))&&void 0!==t?t:[]}};Um.className="PieSeries",Um.type="pie";var Km={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:Um,tooltipDefaults:{range:"exact"},themeTemplate:Pm,paletteFactory:Bm},Ym=class extends wn{constructor(t,e){super(),this.onChange=t,this.onButtonsChange=e,this.align="start",this.position="top",this.size="normal"}};ce([Os((t=>{t.onChange(t.enabled)})),pa(ba)],Ym.prototype,"enabled",2),ce([Os((t=>{t.onChange(t.enabled)})),pa(no([...$c]),{optional:!0})],Ym.prototype,"align",2),ce([Os((t=>{t.onChange(t.enabled)})),pa(no(iu),{optional:!0})],Ym.prototype,"position",2),ce([Os((t=>{t.onChange(t.enabled)})),pa(no(["small","normal"]),{optional:!0})],Ym.prototype,"size",2),ce([Os((t=>{t.onButtonsChange(t.buttons)})),pa(Ia,{optional:!0})],Ym.prototype,"buttons",2);var Hm="ag-charts-toolbar",Zm="ag-charts-toolbar__align",Xm="ag-charts-toolbar__section",qm="ag-charts-toolbar__button",Qm="ag-charts-toolbar__icon",Jm="ag-charts-toolbar__label",$m={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled"}},ty=class extends Wl{constructor(t){super(),this.ctx=t,this.enabled=!0,this.annotations=new Ym(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new Ym(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new Ym(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new Ym(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,right:new Set,bottom:new Set,left:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},right:{},bottom:{},left:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.groupDestroyFns={annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,t.domManager.addStyles(Hm,".ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity 0.2s ease-in-out,transform 0.2s ease-in-out}.ag-charts-toolbar--hidden,\n.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity 0.4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size:var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size:var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding:var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,\n.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,\n.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,\n.ag-charts-toolbar--floating-top,\n.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;overflow:hidden;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,\n.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,\n.ag-charts-toolbar--left .ag-charts-toolbar__align--end,\n.ag-charts-toolbar--right .ag-charts-toolbar__align--center,\n.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,\n.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform 0.4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font-size:var(--ag-charts-toolbar-font-size);font-weight:500;justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;transition:background-color 0.25s ease-in-out,color 0.25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:first-child{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:last-child{border-bottom-right-radius:var(--ag-charts-button-radius);border-right:var(--ag-charts-toolbar-border);border-top-right-radius:var(--ag-charts-button-radius)}.ag-charts-toolbar--left .ag-charts-toolbar__button,\n.ag-charts-toolbar--right .ag-charts-toolbar__button{border-left:var(--ag-charts-toolbar-border);border-right:var(--ag-charts-toolbar-border);border-radius:0;margin:-1px 0 0 0;max-width:100%;overflow:hidden}.ag-charts-toolbar--left .ag-charts-toolbar__button:first-child,\n.ag-charts-toolbar--right .ag-charts-toolbar__button:first-child{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar--left .ag-charts-toolbar__button:last-child,\n.ag-charts-toolbar--right .ag-charts-toolbar__button:last-child{border-bottom:var(--ag-charts-toolbar-border);border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}.ag-charts-toolbar__button--hidden-value,\n.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover{background:var(--ag-charts-toolbar-hover-color)}.ag-charts-toolbar .ag-charts-toolbar__button:focus-visible{border-left:var(--ag-charts-toolbar-border);border-color:var(--ag-charts-toolbar-focus-color);box-shadow:var(--ag-charts-focus-border-shadow);z-index:1}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);color:var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled='true']{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled='true']){cursor:pointer}.ag-charts-toolbar__icon{height:1.2em;width:1.2em}.ag-charts-toolbar__icon + .ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,\n.ag-charts-toolbar__label{pointer-events:none}"),this.elements={};for(const e of iu)this.elements[e]=t.domManager.addChild("canvas-overlay","toolbar-".concat(e)),this.renderToolbar(e);this.toggleVisibilities(),this.destroyFns.push(t.interactionManager.addListener("hover",this.onHover.bind(this),31),t.interactionManager.addListener("leave",this.onLeave.bind(this),31),t.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),t.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),t.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),t.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),t.layoutService.addListener("layout-complete",this.onLayoutComplete.bind(this)),t.localeManager.addListener("locale-changed",(()=>{this.hasNewLocale=!0})),(()=>this.destroyElements()))}destroyElements(){this.ctx.domManager.removeStyles(Hm);for(const t of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay","toolbar-".concat(t))}onHover(t){const{enabled:e,elements:i,floatingDetectionRange:n,ctx:{scene:a}}=this,{offsetY:o,sourceEvent:{target:r}}=t,{FloatingBottom:s,FloatingTop:l}=eu;if(!e)return;const c=i[s],u=i[l],d=o>c.offsetTop-n&&o<a.canvas.element.offsetHeight||r===c,h=u.offsetTop+u.offsetHeight+n,p=o>0&&o<h||r===u;this.translateFloatingElements(s,d),this.translateFloatingElements(l,p)}onLeave(t){const{enabled:e,ctx:{scene:i}}=this,{relatedElement:n,targetElement:a}=t,{FloatingBottom:o,FloatingTop:r}=eu;if(!e||a!==i.canvas.element)return;tu.some((t=>this.groupButtons[t].some((t=>t===n))))||(this.translateFloatingElements(o,!1),this.translateFloatingElements(r,!1))}onGroupChanged(t){null==this[t]||this.groupProxied.has(t)||(this.createGroup(t),this.toggleVisibilities())}onGroupButtonsChanged(t,e){this.enabled&&!this.groupProxied.has(t)&&(this.createGroupButtons(t,e),this.toggleVisibilities())}onLayoutComplete(){for(const t of iu)this.elements[t].classList.remove($m.preventFlash)}onButtonToggled(t){const{group:e,value:i,active:n,enabled:a,visible:o}=t;if(0!==this.groupButtons[e].length)for(const r of this.groupButtons[e])r.dataset.toolbarValue==="".concat(i)&&(r.ariaDisabled="".concat(!a),r.classList.toggle($m.button.hiddenToggled,!o),r.classList.toggle($m.button.active,n));else this.pendingButtonToggledEvents.push(t)}onGroupToggled(t){const{caller:e,group:i,visible:n}=t;this.toggleGroup(e,i,n),this.toggleVisibilities()}onFloatingAnchorChanged(t){const{elements:e,groupButtons:i,positions:n,horizontalSpacing:a,verticalSpacing:o,ctx:{domManager:r,toolbarManager:s}}=this,{group:l,anchor:c}=t;if(!n.floating.has(l))return;const u=e.floating;if(u.classList.contains($m.hidden))return;let d=c.y-u.offsetHeight-o,h=c.x-u.offsetWidth/2;"above"===c.position&&(d=c.y-u.offsetHeight/2,h=c.x+a);const p=r.getBoundingClientRect();d=pi(0,d,p.height-u.offsetHeight),h=pi(0,h,p.width-u.offsetWidth),u.style.top="".concat(d,"px"),u.style.left="".concat(h,"px");for(const m of i[l]){var g,f;if(m.classList.contains($m.button.hiddenToggled))return;const t=m.offsetParent;s.buttonMoved(l,m.dataset.toolbarValue,new Li(m.offsetLeft-m.offsetWidth+(null!==(g=null===t||void 0===t?void 0:t.offsetLeft)&&void 0!==g?g:0),m.offsetTop+(null!==(f=null===t||void 0===t?void 0:t.offsetTop)&&void 0!==f?f:0),m.offsetWidth,m.offsetWidth))}}onProxyGroupOptions(t){if(!this.enabled)return;const{caller:e,group:i,options:n}=t;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(e,i,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(t,e,i){var n,a;null!==(n=e)&&void 0!==n||(e=this[t].enabled),null!==(a=i)&&void 0!==a||(i=this[t].position);for(const o of iu)e&&i===o?this.positions[o].add(t):this.positions[o].delete(t)}createGroupButtons(t){var e;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const p of this.groupButtons[t])p.remove();if(this.groupButtons[t]=[],this.groupDestroyFns[t].forEach((t=>t())),this.groupDestroyFns[t]=[],0===i.length)return;const{align:n,position:a}=this[t],o=this.positionAlignments[a][n];if(!o)return;let r=0;const s=()=>{let e=o.children.item(r);return e||(e=ps("div"),o.appendChild(e),this.destroyFns.push((()=>e.remove()))),e.classList.add(Xm,$m[this[t].size]),r++,e};let l=s(),c=null===(e=i.at(0))||void 0===e?void 0:e.section;for(const p of i){c!==p.section&&(l=s()),c=p.section;const e=this.createButtonElement(t,p);l.appendChild(e),this.groupButtons[t].push(e)}let u,d;nu(a)&&(u=()=>this.translateFloatingElements(a,!0),d=()=>this.translateFloatingElements(a,!1));const h=this.computeAriaOrientation(this[t].position);this.groupDestroyFns[t]=$h({orientation:h,toolbar:o,buttons:this.groupButtons[t],onEscape:()=>{this.ctx.toolbarManager.cancel(t)},onFocus:u,onBlur:d}),this.updateToolbarAriaLabel(t,o)}computeAriaOrientation(t){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[t]}toggleGroup(t,e,i){i?this.groupCallers[e].add(t):this.groupCallers[e].delete(t)}processPendingEvents(){var t;const e=(null!==(t=this.pendingButtonToggledEvents)&&void 0!==t?t:[]).slice();for(const i of e)this.onButtonToggled(i);this.pendingButtonToggledEvents=[]}async performLayout(t){return this.enabled?(this.refreshOuterLayout(t.shrinkRect),this.refreshLocale(),t):t}async performCartesianLayout(t){this.enabled&&this.refreshInnerLayout(t.seriesRect)}refreshOuterLayout(t){const{elements:e,horizontalSpacing:i,verticalSpacing:n}=this;e.top.classList.contains($m.hidden)||t.shrink(e.top.offsetHeight+n,"top"),e.right.classList.contains($m.hidden)||t.shrink(e.right.offsetWidth+i,"right"),e.bottom.classList.contains($m.hidden)||(t.shrink(e.bottom.offsetHeight+n,"bottom"),e.bottom.style.top="".concat(t.y+t.height+n,"px")),e.left.classList.contains($m.hidden)||t.shrink(e.left.offsetWidth+i,"left")}refreshLocale(){const{groupButtons:t,groupProxied:e,hasNewLocale:i}=this;if(i){for(const i of tu){const n=e.get(i);t[i].forEach((t=>this.refreshButtonLocale(t,this[i],n))),this.updateToolbarAriaLabel(i)}this.hasNewLocale=!1}}refreshInnerLayout(t){const{elements:e,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:a}=eu;e.top.style.top="".concat(t.y-e.top.offsetHeight-i,"px"),e.top.style.left="".concat(t.x,"px"),e.top.style.width="".concat(t.width,"px"),e.bottom.style.left="".concat(t.x,"px"),e.bottom.style.width="".concat(t.width,"px"),e.right.style.top="".concat(t.y,"px"),e.right.style.right="0px",e.right.style.height="".concat(t.height,"px"),e.left.style.top="".concat(t.y,"px"),e.left.style.left="0px",e.left.style.height="".concat(t.height,"px"),e[a].style.top="".concat(t.y,"px"),e[n].style.top="".concat(t.y+t.height-e[n].offsetHeight,"px")}refreshButtonLocale(t,e,i){var n,a,o;const{dataset:{toolbarValue:r}}=t,s=null!==(n=null===i||void 0===i||null===(a=i.buttons)||void 0===a?void 0:a.find((t=>{let{value:e}=t;return e===r})))&&void 0!==n?n:null===(o=e.buttons)||void 0===o?void 0:o.find((t=>{let{value:e}=t;return e===r}));s&&this.updateButtonText(t,s)}toggleVisibilities(){if(null==this.elements)return;const t=t=>this[t].enabled&&this.groupCallers[t].size>0,e=t=>e=>"string"!==typeof e.value&&"number"!==typeof e.value||"".concat(e.value)===t.dataset.toolbarValue;for(const n of iu){const e=this.enabled&&Array.from(this.positions[n].values()).some(t);this.elements[n].classList.toggle($m.hidden,!e)}for(const n of tu){if(null==this[n])continue;const a=t(n);for(const t of this.groupButtons[n]){var i;const o=a&&(null===(i=this[n].buttons)||void 0===i?void 0:i.some(e(t)));t.classList.toggle($m.button.hiddenValue,!o)}}}translateFloatingElements(t,e){const{elements:i,verticalSpacing:n,positionAlignments:a}=this,o=i[t],r=Object.values(a[t]);o.classList.toggle($m.floatingHidden,!e);const s="floating-bottom"===t?1:-1;for(const l of r)l.style.transform=e&&""!==l.style.transform?"translateY(0)":"translateY(".concat((o.offsetHeight+n)*s,"px)")}renderToolbar(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";const e=this.elements[t];e.classList.add(Hm,$m[t],$m.preventFlash),nu(t)&&e.classList.add($m.floatingHidden);for(const i of $c){const n=ps("div");n.classList.add(Zm,$m.align[i]),e.appendChild(n),this.positionAlignments[t][i]=n}}createButtonElement(t,e){const i=ps("button");return i.classList.add(qm),i.dataset.toolbarGroup=t,i.tabIndex=-1,"string"!==typeof e.value&&"number"!==typeof e.value||(i.dataset.toolbarValue="".concat(e.value)),i.onclick=ep(i,this.onButtonPress.bind(this,t,e.value)),this.updateButtonText(i,e),this.destroyFns.push((()=>i.remove())),i}updateToolbarAriaLabel(t,e){if(!e){const{align:i,position:n}=this[t];if(!(e=this.positionAlignments[n][i]))return}e.ariaLabel=this.ctx.localeManager.t({annotations:"ariaLabelAnnotationsToolbar",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"}[t])}updateButtonText(t,e){if(e.tooltip){const i=this.ctx.localeManager.t(e.tooltip);t.title=i}let i="";if(null!=e.icon&&(i='<span class="ag-charts-icon-'.concat(e.icon," ").concat(Qm,'"></span>')),null!=e.label){const t=this.ctx.localeManager.t(e.label);i="".concat(i,'<span class="').concat(Jm,'">').concat(t,"</span>")}t.innerHTML=i;zs(t,"aria-label",e.ariaLabel?this.ctx.localeManager.t(e.ariaLabel):void 0)}onButtonPress(t,e){this.ctx.toolbarManager.pressButton(t,e)}};ce([Os((t=>{t.processPendingEvents(),t.toggleVisibilities()})),pa(ba)],ty.prototype,"enabled",2);var ey=864e5,iy=30*ey,ny={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],instanceConstructor:ty,themeTemplate:{toolbar:{enabled:!0,annotations:{enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line",tooltip:"toolbarAnnotationsTrendLine",value:"line",section:"create"},{icon:"parallel-channel",tooltip:"toolbarAnnotationsParallelChannel",value:"parallel-channel",section:"create"},{icon:"disjoint-channel",tooltip:"toolbarAnnotationsDisjointChannel",value:"disjoint-channel",section:"create"},{icon:"horizontal-line",tooltip:"toolbarAnnotationsHorizontalLine",value:"horizontal-line",section:"create"},{icon:"vertical-line",tooltip:"toolbarAnnotationsVerticalLine",value:"vertical-line",section:"create"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},annotationOptions:{enabled:!0,position:"floating",align:"start",buttons:[{icon:"line-color",tooltip:"toolbarAnnotationsColor",value:"line-color"},{icon:"lock",tooltip:"toolbarAnnotationsLock",value:"lock"},{icon:"unlock",tooltip:"toolbarAnnotationsUnlock",value:"unlock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},ranges:{enabled:!1,position:lg,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:iy},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*iy},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*iy},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(t,e)=>[new Date("".concat(new Date(e).getFullYear(),"-01-01")).getTime(),e]},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:365*ey},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(t,e)=>[t,e]}]},zoom:{enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out-alt",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in-alt",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]}}}};function ay(){for(const t of Kl.modules){if("enterprise"!==t.packageType||Eu(t)||ye.errorOnce("Unexpected enterprise module registered: "+t.identifier),"root"===t.type&&t.themeTemplate)for(const e of t.chartTypes)zu.set(e,t.themeTemplate);if("series"===t.type){if(t.chartTypes.length>1)throw new Error("AG Charts - Module definition error: ".concat(t.identifier));_u.register(t.identifier,t)}if("series-option"===t.type&&t.themeTemplate)for(const e of t.seriesTypes)_u.setThemeTemplate(e,t.themeTemplate);if("axis-option"===t.type&&t.themeTemplate)for(const e of t.axisTypes){const i=t.themeTemplate[e],n={...t.themeTemplate,...i};for(const e of t.axisTypes)delete n[e];Cu.setThemeTemplate(e,n)}"axis"===t.type&&Cu.register(t.identifier,t),"legend"===t.type&&Tu.register(t.identifier,t)}if(Kl.hasEnterpriseModules()){const t=Iu.filter((t=>{let{useCount:e}=t;return null==e||0===e}));t.length>0&&ye.errorOnce("Enterprise modules expected but not registered: ",t)}}var oy=class extends qd{async updateData(){await super.updateData();const{nodes:t}=this.getOptions();this.series.forEach((e=>{(function(t){return"sankey"===t.type||"chord"===t.type})(e)&&e.setChartNodes(t)}))}async performLayout(){const t=await super.performLayout(),{seriesArea:{padding:e},seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,o=t.clone();t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t;const r=this.series.some((t=>t.visible));i.visible=r;for(const s of[i,n,a])s.translationX=Math.floor(t.x),s.translationY=Math.floor(t.y),s.setClipRectInGroupCoordinateSpace(new Li(o.x,o.y,o.width,o.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:o,paddedRect:t,visible:r},axes:[]}),t}};oy.className="FlowProportionChart",oy.type="flow-proportion";var ry=class extends qd{constructor(t,e){super(t,e)}async performLayout(){const t=await super.performLayout(),{seriesArea:{padding:e},seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,o=t.clone();t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t;for(const r of[i,n,a])r.translationX=Math.floor(t.x),r.translationY=Math.floor(t.y);return await Promise.all(this.series.map((async e=>{await e.update({seriesRect:t})}))),i.visible=this.series[0].visible,i.setClipRectInGroupCoordinateSpace(new Li(t.x,t.y,t.width,t.height)),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:o,paddedRect:t,visible:!0},axes:[]}),t}getAriaLabel(){const t=this.getCaptionText();return"hierarchical chart, ".concat(t)}handleSeriesFocus(t,e){this.focus.series=this.series[0];const{focus:{series:i,seriesIndex:n,datumIndex:a},seriesRect:o}=this;if(void 0===i)return;const r=i.pickFocus({datumIndex:a,datumIndexDelta:e,otherIndex:n,otherIndexDelta:t,seriesRect:o});this.updatePickedFocus(r)}};ry.className="HierarchyChart",ry.type="hierarchy";var sy=class extends Ll{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(t,e){return null}};ce([pa(no(["polygon","circle"],"a polar axis shape"))],sy.prototype,"shape",2),ce([pa(Da)],sy.prototype,"innerRadiusRatio",2);var ly=class extends qd{constructor(t,e){super(t,e),this.padding=new Xl(40),this.ctx.axisManager.axisGroup.zIndex=6}async performLayout(){const t=await super.performLayout(),e=t.clone();return this.computeSeriesRect(t),await this.computeCircle(t),this.axes.forEach((t=>t.update())),this.hoverRect=t,this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:e,paddedRect:t,visible:!0},axes:[]}),t}updateAxes(t,e,i){var n,a;const o=this.axes.find((t=>"x"===t.direction)),r=this.axes.find((t=>"y"===t.direction));if(!(o instanceof sy)||!(r instanceof sy))return;const s=o.scale,l=null===(n=s.ticks)||void 0===n?void 0:n.call(s).map((t=>s.convert(t))),c=r.innerRadiusRatio;o.innerRadiusRatio=c,null===(a=o.computeRange)||void 0===a||a.call(o),o.gridLength=i,r.gridAngles=l,r.gridRange=o.range,r.range=[i,i*c],[o,r].forEach((i=>{i.translation.x=t,i.translation.y=e,i.calculateLayout()}))}computeSeriesRect(t){const{seriesArea:{padding:e}}=this;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}async computeCircle(t){var e=this;const i=this.series.filter((t=>t instanceof Am)),n=this.axes.filter((t=>t instanceof sy)),a=(t,e,n)=>{this.updateAxes(t,e,n),i.forEach((i=>{i.centerX=t,i.centerY=e,i.radius=n}));const a=i.filter((t=>"donut"===t.type||"pie"===t.type));if(a.length>1){const t=a.map((t=>{const e=t.getInnerRadius();return{series:t,innerRadius:e}})).sort(((t,e)=>t.innerRadius-e.innerRadius));t.at(-1).series.surroundingRadius=void 0;for(let e=0;e<t.length-1;e++)t[e].series.surroundingRadius=t[e+1].innerRadius}},o=t.x+t.width/2,r=t.y+t.height/2,s=Math.max(0,Math.min(t.width,t.height)/2);let l=s;a(o,r,l);const c=async function(){let{hideWhenNecessary:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=[];for(const e of[...n,...i]){const i=await e.computeLabelsBBox({hideWhenNecessary:c},t);i&&u.push(i)}if(0===u.length)return void a(o,r,s);const d=Li.merge(u),h=e.refineCircle(d,l,t);a(h.centerX,h.centerY,h.radius),h.radius!==l&&(l=h.radius)};return await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0}),{radius:l,centerX:o,centerY:r}}refineCircle(t,e,i){const n=-e,a=-e,o=e,r=e;let s=Math.max(0,n-t.x),l=Math.max(0,a-t.y),c=Math.max(0,t.x+t.width-o),u=Math.max(0,t.y+t.height-r);s=c=Math.max(s,c),l=u=Math.max(l,u);const d=i.width-s-c,h=i.height-l-u;let p=Math.min(d,h)/2;const g=.5*i.width/2,f=.5*i.height/2,m=Math.min(g,f);if(p<m){p=m;const t=s+c;if(2*p+(l+u)>i.height){const t=i.height-2*p;2*Math.min(l,u)>t?(l=t/2,u=t/2):l>u?l=t-u:u=t-l}if(2*p+t>i.width){const t=i.width-2*p;2*Math.min(s,c)>t?(s=t/2,c=t/2):s>c?s=t-c:c=t-s}}const y=s+2*p+c,v=l+2*p+u;return{centerX:i.x+(i.width-y)/2+s+p,centerY:i.y+(i.height-v)/2+l+p,radius:p}}};ly.className="PolarChart",ly.type="polar";var cy=Math.PI/180,uy=t=>t*cy,dy=t=>-Math.log(Math.tan(.25*Math.PI+t*cy*.5)),hy=t=>t/cy,py=t=>(Math.atan(Math.exp(-t))-.25*Math.PI)/(.5*cy),gy=class t{constructor(e,i){this.domain=e,this.range=i,this.type="mercator",this.bounds=t.bounds(e)}static bounds(t){const[[e,i],[n,a]]=t,o=uy(e),r=dy(i),s=uy(n),l=dy(a);return new Li(Math.min(o,s),Math.min(r,l),Math.abs(s-o),Math.abs(l-r))}static fixedScale(){return new t([[hy(0),py(0)],[hy(1),py(1)]],[[0,0],[1,1]])}convert(t){let[e,i]=t;const[[n,a],[o,r]]=this.range,s=(o-n)/this.bounds.width,l=(r-a)/this.bounds.height;return[(uy(e)-this.bounds.x)*s+n,(dy(i)-this.bounds.y)*l+a]}invert(t){let[e,i]=t;const[[n,a],[o,r]]=this.range,s=(o-n)/this.bounds.width,l=(r-a)/this.bounds.height;return[hy((e-n)/s+this.bounds.x),py((i-a)/l+this.bounds.y)]}};function fy(t){return"map-shape"===t.type||"map-line"===t.type||"map-marker"===t.type||"map-shape-background"===t.type||"map-line-background"===t.type}var my=class extends qd{constructor(t,e){super(t,e),this.xAxis=new Bh(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new Bh(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}async updateData(){await super.updateData();const{topology:t}=this.getOptions();this.series.forEach((e=>{fy(e)&&e.setChartTopology(t)}))}async performLayout(){const t=await super.performLayout(),{seriesArea:{padding:e},seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,o=t.clone();t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t;const r=this.series.filter(fy),s=r.reduce(((t,e)=>{if(!e.visible)return t;const i=e.topologyBounds;return null==i?t:null==t?i:(t.merge(i),t)}),void 0);let l;if(null!=s){const{lon0:e,lat0:i,lon1:n,lat1:a}=s,o=[[e,i],[n,a]],r=gy.bounds(o),{width:c,height:u}=t,d=Math.min(c/r.width,u/r.height),h=r.width*d,p=r.height*d,g=(c-h)/2,f=(u-p)/2,m=g,y=f,v=g+h,b=f+p,x=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),k=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),S=(v-m)/(x.max-x.min),w=m-S*x.min,M=(b-y)/(1-k.min-(1-k.max)),D=y-M*(1-k.max);l=new gy(o,[[w,D],[w+S,D+M]])}r.forEach((t=>{t.scale=l}));const c=this.series.some((t=>t.visible));i.visible=c;for(const u of[i,n,a])u.translationX=Math.floor(t.x),u.translationY=Math.floor(t.y),u.setClipRectInGroupCoordinateSpace(new Li(t.x,t.y,t.width,t.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:o,paddedRect:t,visible:c},axes:[]}),t}};function yy(t,e){if(an(t))return e(t)}my.className="TopologyChart",my.type="topology";var vy="range-area";var by={"price-volume":function(t,e){var i,n;const{xKey:a="date",highKey:o="high",openKey:r="open",lowKey:s="low",closeKey:l="close",volumeKey:c="volume",chartType:u="candlestick",navigator:d=!1,volume:h=!0,rangeToolbar:p=!0,statusBar:g=!0,annotations:f=!0,zoom:m=!0,theme:y,data:v,...b}=t,x=function(t,e,i,n,a,o,r){var s,l,c,u,d,h,p;const g={xKey:i,openKey:o,closeKey:r,highKey:n,lowKey:a},f={xKey:i,yKey:r};switch(e){case"ohlc":return[{type:"ohlc",...g}];case"line":return[{type:"line",...f,stroke:null!==(s=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.stroke})))&&void 0!==s?s:$p,marker:null!==(l=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.marker})))&&void 0!==l?l:{enabled:!1}}];case"step-line":return[{type:"line",...f,stroke:null!==(c=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.stroke})))&&void 0!==c?c:$p,interpolation:null!==(u=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.interpolation})))&&void 0!==u?u:{type:"step"},marker:null!==(d=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.marker})))&&void 0!==d?d:{enabled:!1}}];case vy:const e=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e["range-area"])||void 0===e||null===(e=e.series)||void 0===e?void 0:e.fill})),o=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e["range-area"])||void 0===e||null===(e=e.series)||void 0===e?void 0:e.stroke}));return[{type:vy,xKey:i,yHighKey:n,yLowKey:r,fill:null!==e&&void 0!==e?e:Xp,stroke:null!==o&&void 0!==o?o:Xp},{type:vy,xKey:i,yHighKey:r,yLowKey:a,fill:null!==e&&void 0!==e?e:qp,stroke:null!==o&&void 0!==o?o:qp}];default:case"candlestick":return[{type:"candlestick",...g}];case"hollow-candlestick":const m=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.candlestick)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.item}));return[{type:"candlestick",...g,item:{up:{fill:null!==(h=null===m||void 0===m||null===(p=m.up)||void 0===p?void 0:p.fill)&&void 0!==h?h:"transparent"}}}]}}(y,u,a,o,s,r,l),k=function(t,e,i,n,a,o){var r;if(!a)return[];const s=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.bar)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.fill})),l=s?{fill:s}:{itemStyler(t){let{datum:a}=t;const{up:o,down:r}=e().palette;return{fill:a[i]<a[n]?null===o||void 0===o?void 0:o.fill:null===r||void 0===r?void 0:r.fill}}};return[{type:"bar",xKey:"date",yKey:o,tooltip:{enabled:!1},fillOpacity:null!==(r=yy(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.bar)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.fillOpacity})))&&void 0!==r?r:.5,...l}]}(y,e,r,l,h,c),S={navigator:{enabled:d,...h?{miniChart:{enabled:d,series:[{type:"line",xKey:"date",yKey:c,marker:{enabled:!1}}]}}:null}},w=g?{statusBar:{enabled:!0,data:v,highKey:o,openKey:r,lowKey:s,closeKey:l,volumeKey:h?c:void 0}}:null,M={zoom:{enabled:m,enableIndependentAxes:!0}},D=f||p?{toolbar:{annotationOptions:{enabled:f},annotations:{enabled:f},ranges:{enabled:p}}}:null,L=h?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"},disableZoom:!0}]:[];return{theme:"string"===typeof y?y:{baseTheme:"ag-financial",...null!==y&&void 0!==y?y:{}},animation:{enabled:!1},legend:{enabled:!1},series:[...k,...x],padding:{top:6,right:8},axes:[{type:"number",position:"right",keys:[r,l,o,s],interval:{maxSpacing:null!==(i=yy(y,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.common)||void 0===e||null===(e=e.axes)||void 0===e||null===(e=e.number)||void 0===e||null===(e=e.interval)||void 0===e?void 0:e.maxSpacing})))&&void 0!==i?i:45},label:{format:null!==(n=yy(y,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.common)||void 0===e||null===(e=e.axes)||void 0===e||null===(e=e.number)||void 0===e||null===(e=e.label)||void 0===e?void 0:e.format})))&&void 0!==n?n:".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...L,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],annotations:{enabled:f},tooltip:{enabled:!1},data:v,titlePadding:4,...S,...w,...M,...D,...b}}};function xy(t){return null!==t&&void 0!==t&&t.up||null!==t&&void 0!==t&&t.down||null!==t&&void 0!==t&&t.neutral?"user-full":null!==t&&void 0!==t&&t.fills||null!==t&&void 0!==t&&t.strokes?"user-indexed":"inbuilt"}var ky="white",Sy={fills:Object.values(vm),strokes:Object.values(bm)},wy={get cartesian(){return{seriesTypes:Pu.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Pu.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Pu.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Pu.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:Pu.flowProportionTypes,commonOptions:[]}}},My=Object.values(wy).reduce(((t,e)=>{let{commonOptions:i}=e;return t.concat(i)}),[]),Dy=class t{getPalette(){return Sy}static getAxisDefaults(t){return fn(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Pp,color:Bp},label:{fontSize:12,fontFamily:Pp,padding:5,color:Bp,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:jp},tick:{enabled:!1,width:1,stroke:jp},gridLine:{enabled:!0,style:[{stroke:Gp,lineDash:[]}]},crossLines:{enabled:!1,fill:Vp,stroke:Vp,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Pp,padding:5,color:Bp}}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:Wp},padding:{top:Yp,right:Yp,bottom:Yp,left:Yp},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Pp,color:Bp,wrapping:"hyphenate",layoutStyle:Hp,textAlign:Zp},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Pp,color:Fp,wrapping:"hyphenate",layoutStyle:Hp,textAlign:Zp},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Pp,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:Hp,textAlign:Zp},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:Bp,fontSize:12,fontFamily:Pp}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:Bp},inactiveStyle:{fill:Fp},highlightStyle:{fill:Bp},label:{color:Bp}}},tooltip:{enabled:!0,darkTheme:Op,range:void 0,delay:0},overlays:{darkTheme:Op},listeners:{}}}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{overrides:e,palette:i}=In(t),n=this.createChartConfigPerChartType(this.getDefaults());e&&this.mergeOverrides(n,e);const{fills:a,strokes:o,...r}=this.getDefaultColors();this.palette=fn(i,this.getPalette(),{...r}),this.paletteType=xy(i),this.config=Object.freeze(this.templateTheme(n))}mergeOverrides(t,e){for(const{seriesTypes:i,commonOptions:n}of Object.values(wy)){const a={...e.common};for(const t of My)n.includes(t)||delete a[t];if(a)for(const e of i){const i=e;t[i]=fn(a,t[i])}}Pu.seriesTypes.forEach((i=>{const n=i;e[n]&&(t[n]=fn(e[n],t[n]))}))}createChartConfigPerChartType(t){for(const[e,{seriesTypes:i}]of Object.entries(wy)){const n=zu.get(e);for(const e of i)t[e]||(t[e]=In(n))}return t}getDefaults(){const e=(e,i)=>{const n={},a={axes:{},...Tu.getThemeTemplates(),...this.getChartDefaults(),...zu.get(e)};for(const r of i){var o;n[r]=fn(_u.getThemeTemplate(r),null!==(o=n[r])&&void 0!==o?o:In(a));const{axes:e}=n[r];for(const i of Cu.keys())e[i]=fn(e[i],Cu.getThemeTemplate(i),t.cartesianAxisDefault[i])}return n};return fn(e("cartesian",Pu.cartesianTypes),e("polar",Pu.polarTypes),e("hierarchy",Pu.hierarchyTypes),e("topology",Pu.topologyTypes),e("flow-proportion",Pu.flowProportionTypes))}templateTheme(t){const e=In(t),i=this.getTemplateParameters();return En(e,(t=>{if(Qi(t))for(let e=0;e<t.length;e++){const n=t[e];i.has(n)&&(t[e]=i.get(n))}else for(const[e,n]of Object.entries(t))i.has(n)&&(t[e]=i.get(n))})),In(e)}getDefaultColors(){return{fills:vm,strokes:bm,up:{fill:vm.BLUE,stroke:bm.BLUE},down:{fill:vm.ORANGE,stroke:bm.ORANGE},neutral:{fill:vm.GRAY,stroke:bm.GRAY}}}getTemplateParameters(){var t,e,i,n,a,o,r,s,l,c,u,d;const h=new Map;h.set(Op,!1),h.set(Pp,"Verdana, sans-serif"),h.set(Bp,"rgb(70, 70, 70)"),h.set(zp,"white"),h.set(Fp,"rgb(140, 140, 140)"),h.set(Gp,"rgb(224,234,241)"),h.set(jp,"rgb(195, 195, 195)"),h.set(Vp,"rgb(70, 70, 70)"),h.set(_p,ky),h.set(Wp,ky),h.set(Up,"rgba(0, 0, 0, 0.5)"),h.set(ig,[vm.ORANGE,vm.YELLOW,vm.GREEN]),h.set(Yp,20),h.set(Hp,"block"),h.set(Zp,"center"),h.set(ng,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),h.set(ag,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),h.set(eg,ky),h.set(og,vm.BLUE),h.set(rg,vm.BLUE),h.set(sg,ky),h.set(lg,"top"),h.set(cg,!1);const p=this.getDefaultColors();return h.set(Xp,null!==(t=null===(e=this.palette.up)||void 0===e?void 0:e.stroke)&&void 0!==t?t:p.up.stroke),h.set(Qp,null!==(i=null===(n=this.palette.up)||void 0===n?void 0:n.fill)&&void 0!==i?i:p.up.fill),h.set(qp,null!==(a=null===(o=this.palette.down)||void 0===o?void 0:o.stroke)&&void 0!==a?a:p.down.stroke),h.set(Jp,null!==(r=null===(s=this.palette.down)||void 0===s?void 0:s.fill)&&void 0!==r?r:p.down.fill),h.set($p,null!==(l=null===(c=this.palette.neutral)||void 0===c?void 0:c.stroke)&&void 0!==l?l:p.neutral.stroke),h.set(tg,null!==(u=null===(d=this.palette.neutral)||void 0===d?void 0:d.fill)&&void 0!==u?u:p.neutral.fill),h}};Dy.cartesianAxisDefault={number:Dy.getAxisDefaults({line:{enabled:!1}}),log:Dy.getAxisDefaults({base:10,line:{enabled:!1}}),category:Dy.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:cg}}),time:Dy.getAxisDefaults({gridLine:{enabled:cg}}),"ordinal-time":Dy.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:cg},crosshair:{enabled:!0,snap:!0,stroke:Fp,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}),"angle-category":Dy.getAxisDefaults({gridLine:{enabled:cg}}),"angle-number":Dy.getAxisDefaults({gridLine:{enabled:cg}}),"radius-category":Dy.getAxisDefaults({line:{enabled:!1},tick:{enabled:!1}}),"radius-number":Dy.getAxisDefaults({line:{enabled:!1},tick:{enabled:!1}}),"grouped-category":Dy.getAxisDefaults()};var Ly=Dy,Cy="#192232",Iy={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Ny={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Ey={fills:Object.values(Iy),strokes:Object.values(Ny)},Ty=class extends Ly{getDefaultColors(){return{fills:Iy,strokes:Ny,up:{fill:Iy.BLUE,stroke:Ny.BLUE},down:{fill:Iy.ORANGE,stroke:Ny.ORANGE},neutral:{fill:Iy.GRAY,stroke:Ny.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Op,!0),t.set(eg,Cy),t.set(Bp,"white"),t.set(Fp,"#7D91A0"),t.set(Gp,"#545A6E"),t.set(Vp,"white"),t.set(ig,[Iy.ORANGE,Iy.YELLOW,Iy.GREEN]),t.set(ng,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.set(ag,["#192834","#3b5164","#496275","#577287","#668399"]),t.set(Wp,Cy),t.set(_p,Cy),t.set(og,Iy.BLUE),t.set(rg,Iy.BLUE),t.set(sg,Cy),t}getPalette(){return Ey}constructor(t){super(t)}},Ay={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},Ry={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},Oy={fills:Object.values(Ay),strokes:Object.values(Ry)},Py=class extends Ty{getDefaultColors(){return{fills:{...Ay},strokes:{...Ry},up:{fill:Ay.GREEN,stroke:Ry.GREEN},down:{fill:Ay.RED,stroke:Ry.RED},neutral:{fill:Ay.BLUE,stroke:Ry.BLUE}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[Ay.GREEN,Ay.BLUE,Ay.RED]),t.set(og,Ay.BLUE),t.set(rg,Ay.BLUE),t.set(Gp,"#343A4E"),t.set(Yp,0),t.set(Hp,"overlay"),t.set(Zp,"left"),t.set(lg,"bottom"),t.set(cg,!0),t}getPalette(){return Oy}},By={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},zy={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},_y={fills:Object.values(By),strokes:Object.values(zy)},Fy=class extends Ly{getDefaultColors(){return{fills:{...By},strokes:{...zy},up:{fill:By.GREEN,stroke:zy.GREEN},down:{fill:By.RED,stroke:zy.RED},neutral:{fill:By.BLUE,stroke:zy.BLUE}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[By.GREEN,By.BLUE,By.RED]),t.set(og,By.BLUE),t.set(rg,By.BLUE),t.set(Gp,"#F2F3F3"),t.set(Yp,0),t.set(Hp,"overlay"),t.set(Zp,"left"),t.set(lg,"bottom"),t.set(cg,!0),t}getPalette(){return _y}},Gy={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},jy={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Vy={fills:Object.values(Gy),strokes:Object.values(jy)},Wy=class extends Ty{getDefaultColors(){return{fills:Gy,strokes:jy,up:{fill:Gy.BLUE,stroke:jy.BLUE},down:{fill:Gy.RED,stroke:jy.RED},neutral:{fill:Gy.GRAY,stroke:jy.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[Gy.ORANGE,Gy.YELLOW,Gy.GREEN]),t.set(og,Gy.BLUE),t.set(rg,Gy.BLUE),t}getPalette(){return Vy}},Uy={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Ky={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Yy={fills:Object.values(Uy),strokes:Object.values(Ky)},Hy=class extends Ly{getDefaultColors(){return{fills:Uy,strokes:Ky,up:{fill:Uy.BLUE,stroke:Ky.BLUE},down:{fill:Uy.RED,stroke:Ky.RED},neutral:{fill:Uy.GRAY,stroke:Ky.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[Uy.ORANGE,Uy.YELLOW,Uy.GREEN]),t.set(og,Uy.BLUE),t.set(rg,Uy.BLUE),t}getPalette(){return Yy}},Zy={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},Xy={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},qy={fills:Object.values(Zy),strokes:Object.values(Xy)},Qy=class extends Ty{getDefaultColors(){return{fills:Zy,strokes:Xy,up:{fill:Zy.BLUE,stroke:Xy.BLUE},down:{fill:Zy.RED,stroke:Xy.RED},neutral:{fill:"#bbbbbb",stroke:"#eeeeee"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[Zy.BLUE,Zy.RED]),t.set(og,Zy.BLUE),t.set(rg,Zy.BLUE),t}getPalette(){return qy}},Jy={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},$y={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},tv={fills:Object.values(Jy),strokes:Object.values($y)},ev=class extends Ly{getDefaultColors(){return{fills:Jy,strokes:$y,up:{fill:Jy.BLUE,stroke:$y.BLUE},down:{fill:Jy.RED,stroke:$y.RED},neutral:{fill:"#bbbbbb",stroke:"#888888"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[Jy.BLUE,Jy.RED]),t.set(og,Jy.BLUE),t.set(rg,Jy.BLUE),t}getPalette(){return tv}},iv={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},nv={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},av={fills:Object.values(iv),strokes:Object.values(nv)},ov=class extends Ty{getDefaultColors(){return{fills:{...iv,RED:iv.ORANGE},strokes:{...nv,RED:nv.ORANGE},up:{fill:iv.BLUE,stroke:nv.BLUE},down:{fill:iv.ORANGE,stroke:nv.ORANGE},neutral:{fill:iv.GRAY,stroke:nv.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[iv.ORANGE,iv.YELLOW,iv.GREEN]),t.set(og,iv.BLUE),t.set(rg,iv.BLUE),t}getPalette(){return av}},rv={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},sv={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},lv={fills:Object.values(rv),strokes:Object.values(sv)},cv=class extends Ly{getDefaultColors(){return{fills:{...rv,RED:rv.ORANGE},strokes:{...sv,RED:sv.ORANGE},up:{fill:sv.BLUE,stroke:rv.BLUE},down:{fill:sv.ORANGE,stroke:rv.ORANGE},neutral:{fill:sv.GRAY,stroke:rv.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[rv.ORANGE,rv.YELLOW,rv.GREEN]),t.set(og,rv.BLUE),t.set(rg,rv.BLUE),t}getPalette(){return lv}},uv={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},dv={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},hv={fills:Object.values(uv),strokes:Object.values(dv)},pv=class extends Ty{getDefaultColors(){return{fills:uv,strokes:dv,up:{fill:uv.BLUE,stroke:dv.BLUE},down:{fill:uv.ORANGE,stroke:dv.ORANGE},neutral:{fill:uv.GRAY,stroke:dv.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[uv.ORANGE,uv.YELLOW,uv.GREEN]),t.set(og,uv.BLUE),t.set(rg,uv.BLUE),t}getPalette(){return hv}},gv={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},fv={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},mv={fills:Object.values(gv),strokes:Object.values(fv)},yv=class extends Ly{getDefaultColors(){return{fills:gv,strokes:fv,up:{fill:gv.BLUE,stroke:fv.BLUE},down:{fill:gv.ORANGE,stroke:fv.ORANGE},neutral:{fill:gv.GRAY,stroke:fv.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(ig,[gv.ORANGE,gv.YELLOW,gv.GREEN]),t.set(og,gv.BLUE),t.set(rg,gv.BLUE),t}getPalette(){return mv}},vv=()=>new Ly,bv=()=>new Ty,xv={...{undefined:bv,null:bv,"ag-default-dark":bv,"ag-sheets-dark":()=>new ov,"ag-polychroma-dark":()=>new Qy,"ag-vivid-dark":()=>new pv,"ag-material-dark":()=>new Wy,"ag-financial-dark":()=>new Py},...{undefined:vv,null:vv,"ag-default":vv,"ag-sheets":()=>new cv,"ag-polychroma":()=>new ev,"ag-vivid":()=>new yv,"ag-material":()=>new Hy,"ag-financial":()=>new Fy}};function kv(t){return void 0===t||"string"===typeof t||t instanceof Ly?t:"object"===typeof t?function(t){if(null===t)return;let e=!0;const{baseTheme:i,palette:n,overrides:a}=t;if(void 0!==i&&"string"!==typeof i&&"object"!==typeof i&&(ye.warn("invalid theme.baseTheme type ".concat(typeof i,", expected (string | object).")),e=!1),void 0!==a&&"object"!==typeof a&&(ye.warn("invalid theme.overrides type ".concat(typeof a,", expected object.")),e=!1),"object"===typeof n){if(null!==n){const{fills:t,strokes:i}=n;void 0===t||Array.isArray(t)||(ye.warn("theme.overrides.fills must be undefined or an array"),e=!1),void 0===i||Array.isArray(i)||(ye.warn("theme.overrides.strokes must be undefined or an array"),e=!1)}}else void 0!==n&&(ye.warn("invalid theme.palette type ".concat(typeof n,", expected object.")),e=!1);return e?t:void 0}(t):void ye.warn("invalid theme value type ".concat(typeof t,", expected object or string."))}function Sv(t){let e=kv(t);if(e instanceof Ly)return e;if(null==e||"string"===typeof e){const t=xv[e];return t?t():(ye.warnOnce("the theme [".concat(e,"] is invalid, using [ag-default] instead.")),vv())}const i=[];let n;for(;"object"===typeof e;){var a;i.push(e.overrides),null!==(a=n)&&void 0!==a||(n=e.palette),e=e.baseTheme}const o={baseTheme:e,overrides:fn(...i),palette:n};return new((o.baseTheme?Sv(o.baseTheme):vv()).constructor)(o)}var wv=new Set(["map-shape-background","map-line-background"]),Mv=class{constructor(t,e){var i,n;this.debug=bs.create(!0,"opts");const a={shallow:["data"]};this.userOptions=In(t,a);const o=this.optionsType(this.userOptions);let r=In(t,a);if(this.type=null===e||void 0===e?void 0:e.type,null!=this.type){var s,l;const t=null!==(s=null===(l=by[this.type])||void 0===l?void 0:l.call(by,r,(()=>this.activeTheme)))&&void 0!==s?s:r;this.debug(">>> AgCharts.createOrUpdate() - applying preset",r,t),r=t}this.activeTheme=Sv(r.theme),this.type&&(r=this.activeTheme.templateTheme(r)),this.sanityCheckAndCleanup(r),this.defaultAxes=this.getDefaultAxes(r),this.specialOverrides=this.specialOverridesDefaults({...e});const{axes:c={},annotations:{axesButtons:u,...d}={},series:h,...p}=this.getSeriesThemeConfig(o);var g;(this.processedOptions=In(fn(r,null!=u?{annotations:{axesButtons:u}}:{},p,this.defaultAxes),a),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=d,(Zu(this.processedOptions)||function(t){const e=Hu(t);return Xu(t)&&"pie"!==e&&"donut"!==e}(this.processedOptions))&&null==(null===(i=this.processedOptions.legend)||void 0===i?void 0:i.enabled))&&(null!==(g=(n=this.processedOptions).legend)&&void 0!==g||(n.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1);this.enableConfiguredOptions(this.processedOptions),Au.isEnterprise||function(t){const e=[],i=Pu.get(Hu(t));for(const{type:s,chartTypes:l,optionsKey:c,optionsInnerKey:u,identifier:d}of Iu)if("unknown"===i||l.includes(i))if("root"===s||"legend"===s){const i=t[c];if(null==i)continue;u?i[u]&&(e.push("".concat(c,".").concat(u)),delete i[u]):(e.push(c),delete t[c])}else if("axis"===s){var n;if(!("axes"in t)||null===(n=t.axes)||void 0===n||!n.some((t=>t.type===d)))continue;e.push("axis[type=".concat(d,"]")),t.axes=t.axes.filter((t=>t.type!==d))}else if("axis-option"===s){var a;if(!("axes"in t)||null===(a=t.axes)||void 0===a||!a.some((t=>t[c])))continue;e.push("axis.".concat(c)),t.axes.forEach((t=>{t[c]&&delete t[c]}))}else if("series"===s){var o;if(null===(o=t.series)||void 0===o||!o.some((t=>t.type===d)))continue;e.push("series[type=".concat(d,"]")),t.series=t.series.filter((t=>t.type!==d))}else if("series-option"===s){var r;if(null===(r=t.series)||void 0===r||!r.some((t=>t[c])))continue;e.push("series.".concat(c)),t.series.forEach((t=>{t[c]&&delete t[c]}))}if(e.length){let i="ag-charts-enterprise",n="https://charts.ag-grid.com/javascript/installation/";"integrated"===t.mode&&(i="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",n="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),ye.warnOnce(["unable to use these enterprise features as '".concat(i,"' has not been loaded:"),"",...e,"","See: ".concat(n)].join("\n"))}}(this.processedOptions)}getOptions(){var t;return null!==(t=this.processedOptions)&&void 0!==t?t:{}}diffOptions(t){return Cn(t,this.processedOptions)}getSeriesThemeConfig(t){var e,i;return In(null!==(e=null===(i=this.activeTheme)||void 0===i?void 0:i.config[t])&&void 0!==e?e:{})}getDefaultAxes(t){const e=this.optionsType(t),i=_u.cloneDefaultAxes(e);return _u.isDefaultAxisSwapNeeded(t)&&this.swapAxesPosition(i),i}optionsType(t){var e,i;return null!==(e=null===(i=t.series)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.type)&&void 0!==e?e:"line"}sanityCheckAndCleanup(t){var e;this.deprecationWarnings(t),this.axesTypeIntegrity(t),this.seriesTypeIntegrity(t),this.soloSeriesIntegrity(t),this.removeDisabledOptions(t),this.removeLeftoverSymbols(t),null!==(e=t.series)&&void 0!==e&&e.some((t=>"bullet"===t.type))&&null!=t.sync&&!1!==t.sync.enabled&&(ye.warnOnce("bullet series cannot be synced, disabling synchronization."),delete t.sync)}swapAxesPosition(t){if(Zu(t)){var e;const[i,n]=null!==(e=t.axes)&&void 0!==e?e:[];t.axes=[{...i,position:n.position},{...n,position:i.position}]}}processAxesOptions(t,e){"axes"in t&&(t.axes=t.axes.map((t=>{var i,n,a;const{crossLines:o,...r}=fn(null===(i=e[t.type])||void 0===i?void 0:i[t.position],e[t.type]);t.crossLines&&(t.crossLines=mn(t.crossLines,o));const s=null===(n=r.gridLine)||void 0===n?void 0:n.style;null!==(a=t.gridLine)&&void 0!==a&&a.style&&null!==s&&void 0!==s&&s.length&&(t.gridLine.style=t.gridLine.style.map(((t,e)=>null!=t.stroke||null!=t.lineDash?fn(t,s.at(e%s.length)):t)));const{top:l,right:c,bottom:u,left:d,...h}=fn(t,r);return h})))}processSeriesOptions(t){var e,i;const n=this.getDefaultSeriesType(t),a=this.getTooltipPositionDefaults(t),o=an(t.theme)?xy(null===(e=t.theme)||void 0===e?void 0:e.palette):"inbuilt",r={colourIndex:0,userPalette:o},s=null===(i=t.series)||void 0===i?void 0:i.map((e=>{var i,s;null!==(i=e.type)&&void 0!==i||(e.type=n);const{innerLabels:l,...c}=null!==(s=this.getSeriesThemeConfig(e.type).series)&&void 0!==s?s:{},u=wv.has(e.type)?{colourIndex:0,userPalette:o}:r,d=this.getSeriesPalette(e.type,u),h=this.getTooltipRangeDefaults(t,e.type),p=fn(this.getSeriesGroupingOptions(e),e,a,h,c,d,{visible:!0});return p.innerLabels&&(p.innerLabels=mn(p.innerLabels,l)),this.activeTheme.templateTheme(p)}));t.series=this.setSeriesGroupingOptions(null!==s&&void 0!==s?s:[])}processMiniChartSeriesOptions(t){var e;let i=null===(e=t.navigator)||void 0===e||null===(e=e.miniChart)||void 0===e?void 0:e.series;if(null==i)return;const n={colourIndex:0,userPalette:an(t.theme)?xy(t.theme.palette):"inbuilt"};i=i.map((t=>{var e,i;null!==(e=t.type)&&void 0!==e||(t.type="line");const{innerLabels:a,...o}=null!==(i=this.getSeriesThemeConfig(t.type).series)&&void 0!==i?i:{},r=fn(this.getSeriesGroupingOptions(t),t,o,this.getSeriesPalette(t.type,n));return this.activeTheme.templateTheme(r)})),t.navigator.miniChart.series=this.setSeriesGroupingOptions(i)}getSeriesPalette(t,e){const i=_u.getPaletteFactory(t),{colourIndex:n,userPalette:a}=e,{fills:o=[],strokes:r=[]}=this.activeTheme.palette;return null===i||void 0===i?void 0:i({userPalette:a,colorsCount:Math.max(o.length,r.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors:t=>(e.colourIndex+=t,{fills:Mo(o,t,n),strokes:Mo(r,t,n)})})}getSeriesGroupingOptions(t){var e,i;const n=_u.isGroupable(t.type),a=_u.isStackable(t.type),o=_u.isStackedByDefault(t.type);t.grouped&&!n&&ye.warnOnce('unsupported grouping of series type "'.concat(t.type,'".')),!t.stacked&&!t.stackGroup||a||ye.warnOnce('unsupported stacking of series type "'.concat(t.type,'".'));let{grouped:r,stacked:s}=t;return null!==(e=s)&&void 0!==e||(s=(o||null!=t.stackGroup)&&!(n&&r)),null!==(i=r)&&void 0!==i||(r=!0),{stacked:a&&s,grouped:n&&r&&!(a&&s)}}setSeriesGroupingOptions(t){const e=this.getSeriesGrouping(t);this.debug("setSeriesGroupingOptions() - series grouping: ",e);const i={},n=e.reduce(((t,e)=>{var i,n;return"default"===e.groupType||(null!==(i=t[n=e.seriesType])&&void 0!==i||(t[n]=0),t[e.seriesType]+="stack"===e.groupType?1:e.series.length),t}),{});return e.flatMap((t=>{var e,a;switch(null!==(e=i[a=t.seriesType])&&void 0!==e||(i[a]=0),t.groupType){case"stack":const e=i[t.seriesType]++;return t.series.map(((i,a)=>Object.assign(i,{seriesGrouping:{groupIndex:e,groupCount:n[t.seriesType],stackIndex:a,stackCount:t.series.length}})));case"group":return t.series.map((e=>Object.assign(e,{seriesGrouping:{groupIndex:i[t.seriesType]++,groupCount:n[t.seriesType],stackIndex:0,stackCount:0}})))}return t.series})).map((t=>{let{stacked:e,grouped:i,...n}=t;return n}))}getSeriesGroupId(t){var e;return[t.type,t.xKey,t.stacked?null!==(e=t.stackGroup)&&void 0!==e?e:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const e=new Map;return t.reduce(((t,i)=>{const n=i.type;if(i.stacked||i.grouped){const a=this.getSeriesGroupId(i);if(!e.has(a)){const o={groupType:i.stacked?"stack":"group",seriesType:n,series:[]};e.set(a,o),t.push(o)}e.get(a).series.push(i)}else t.push({groupType:"default",seriesType:n,series:[i]});return t}),[])}getDefaultSeriesType(t){if(Zu(t))return"line";if(Xu(t))return"pie";if(qu(t))return"treemap";if(Qu(t))return"map-shape";if(Ju(t))return"sankey";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(t){var e;const i=null===(e=t.tooltip)||void 0===e?void 0:e.position;if(!rn(i))return;const{type:n,xOffset:a,yOffset:o}=i,r={};return sn(n)&&hn(de,n)&&(r.type=n),cn(a)&&(r.xOffset=a),cn(o)&&(r.yOffset=o),{tooltip:{position:r}}}getTooltipRangeDefaults(t,e){var i,n,a;return{tooltip:{range:null!==(i=null===(n=t.tooltip)||void 0===n?void 0:n.range)&&void 0!==i?i:null===(a=_u.getTooltipDefauls(e))||void 0===a?void 0:a.range}}}deprecationWarnings(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((e=>{var i;let[n,a]=e;null!==(i=t.series)&&void 0!==i&&i.some((t=>null!=t[n]))&&ye.warnOnce("Property [series.".concat(n,"] is deprecated, please use [series.").concat(a,"] and multiple series instead."))}))}axesTypeIntegrity(t){if("axes"in t){var e;const n=null!==(e=t.axes)&&void 0!==e?e:[];for(const{type:e}of n)if(null==(i=e)||!Cu.has(i)){delete t.axes;const i=Array.from(Cu.publicKeys()).join(", ");ye.warnOnce("unknown axis type: ".concat(e,"; expected one of: ").concat(i))}}var i}seriesTypeIntegrity(t){var e;t.series=null===(e=t.series)||void 0===e?void 0:e.filter((t=>{let{type:e}=t;if(null==e||null!=(i=e)&&Pu.has(i)||function(t){return Iu.some((e=>"series"===e.type&&e.identifier===t))}(e))return!0;var i;ye.warnOnce("unknown series type: ".concat(e,"; expected one of: ").concat(Bu.seriesTypes.join(", ")))}))}soloSeriesIntegrity(t){const e=t.series;if(e&&e.length>1&&e.some((t=>_u.isSolo(t.type)))){const i=this.optionsType(t);if(_u.isSolo(i))ye.warn("series[0] of type '".concat(i,"' is incompatible with other series types. Only processing series[0]")),t.series=e.slice(0,1);else{const{solo:i,nonSolo:n}=wo(e,(t=>_u.isSolo(t.type)?"solo":"nonSolo")),a=So(i.map((t=>t.type))).join(", ");ye.warn("Unable to mix these series types with the lead series type: ".concat(a)),t.series=n}}}enableConfiguredOptions(t){En(this.userOptions,((t,e)=>{e&&"enabled"in e&&!e._enabledFromTheme&&null==t.enabled&&(e.enabled=!0)}),{skip:["data","theme"]},t),En(t,(t=>{null!=t._enabledFromTheme&&delete t._enabledFromTheme}),{skip:["data","theme"]})}removeDisabledOptions(t){En(t,(t=>{"enabled"in t&&!1===t.enabled&&Object.keys(t).forEach((e=>{"enabled"!==e&&delete t[e]}))}),{skip:["data","theme"]})}removeLeftoverSymbols(t){En(t,(t=>{if(t&&an(t))for(const[e,i]of Object.entries(t))pn(i)&&delete t[e]}),{skip:["data"]})}specialOverridesDefaults(t){if(null!=t.window?ms(t.window):"undefined"!==typeof window?t.window=window:"undefined"!==typeof global&&(t.window=global.window),null!=t.document?fs(t.document):"undefined"!==typeof document?t.document=document:"undefined"!==typeof global&&(t.document=global.document),null==t.window)throw new Error("AG Charts - unable to resolve global window");if(null==t.document)throw new Error("AG Charts - unable to resolve global document");return t}},Dv=bs.create(!0,"opts");function Lv(t){if(Zu(t))return"cartesian";if(Xu(t))return"polar";if(qu(t))return"hierarchy";if(Qu(t))return"topology";if(Ju(t))return"flow-proportion";throw new Error("AG Chart - unknown type of chart for options with type: ".concat(t.type))}var Cv=class{static licenseCheck(t){var e,i,n;this.licenseChecked||(this.licenseManager=null===(e=Au.licenseManager)||void 0===e?void 0:e.call(Au,t),null===(i=this.licenseManager)||void 0===i||i.setLicenseKey(this.licenseKey,this.gridContext),null===(n=this.licenseManager)||void 0===n||n.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var e;return null===(e=Au.licenseManager)||void 0===e?void 0:e.call(Au,{}).getLicenseDetails(t)}static getInstance(t){return Nv.getInstance(t)}static create(t){var e;this.licenseCheck(t);const i=Nv.createOrUpdate(t);var n;null!==(e=this.licenseManager)&&void 0!==e&&e.isDisplayWatermark()&&(null===(n=Au.injectWatermark)||void 0===n||n.call(Au,i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()));return i}static createFinancialChart(t){return this.create({_type:"price-volume",...t})}};Cv.licenseChecked=!1,Cv.gridContext=!1;var Iv=class t{static getInstance(t){const e=qd.getInstance(t);return e?Rh.chartInstances.get(e):void 0}static initialiseModules(){t.initialised||(!function(){Kl.register(Yh,vp,xp,Dp,ny,vf,_f,Zf,tm,am,zm,Km,Qf);for(const t of[Bh,El,Fh,Vl,_h])Cu.register(t.type,{instanceConstructor:t,hidden:t===Vl})}(),ay(),t.initialised=!0)}static createOrUpdate(e,i){var n,a,o;t.initialiseModules(),Dv(">>> AgCharts.createOrUpdate() user options",e);const r=null===(n=i)||void 0===n?void 0:n.chart.chartOptions.type,{_type:s=r,...l}=e;let c=l;Cv.optionsMutationFn&&(c=Cv.optionsMutationFn(c,s),Dv(">>> AgCharts.createOrUpdate() MUTATED user options",e));const{overrideDevicePixelRatio:u,document:d,window:h,...p}=c,g=new Mv(p,{overrideDevicePixelRatio:u,document:d,window:h,type:s});let f=null===(a=i)||void 0===a?void 0:a.chart;var m;(null!=f&&Lv(p)===Lv(null===(o=f)||void 0===o?void 0:o.chartOptions.processedOptions)||(f=t.createChartInstance(g,f)),null==i?i=new Rh(f,t.callbackApi):i.chart=f,Dv.check()&&"undefined"!==typeof window)&&(null!==(m=window.agChartInstances)&&void 0!==m||(window.agChartInstances={}),window.agChartInstances[f.id]=f);return f.queuedUserOptions.push(p),f.requestFactoryUpdate((t=>{t.applyOptions(g);const e=t.queuedUserOptions.indexOf(p)+1;t.queuedUserOptions.splice(0,e),t.applyInitialState()})),i}static updateUserDelta(e,i){En(i=In(i,{shallow:["data"]}),(t=>{if("object"===typeof t)for(const[e,i]of Object.entries(t))"undefined"===typeof i&&Object.assign(t,{[e]:Symbol("UNSET")})}),{skip:["data"]});const{chart:n}=e,a=n.getOptions(),o=fn(i,a);Dv(">>> AgCharts.updateUserDelta() user delta",i),Dv("AgCharts.updateUserDelta() - base options",a),t.createOrUpdate(o,e)}static createChartInstance(e,i){const n=null===i||void 0===i?void 0:i.destroy({keepTransferableResources:!0});return new(t.getChartByOptions(e.processedOptions))(e,n)}static getChartByOptions(t){if(Zu(t))return Th;if(qu(t))return ry;if(Xu(t))return ly;if(Qu(t))return my;if(Ju(t))return oy;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};Iv.caretaker=new Jl(Ql),Iv.initialised=!1,Iv.callbackApi={caretaker:Iv.caretaker,createOrUpdate:(t,e)=>Iv.createOrUpdate(t,e),updateUserDelta:(t,e)=>Iv.updateUserDelta(t,e)};var Nv=Iv;le({},{Arc:()=>Ev,BBox:()=>Li,BandScale:()=>ha,Caption:()=>Ys,ChangeDetectableProperties:()=>mg,Circle:()=>ih,ContinuousScale:()=>fo,Diamond:()=>rh,DropShadow:()=>yg,ExtendedPath2D:()=>Mc,Group:()=>ar,HdpiCanvas:()=>ec,Image:()=>Pv,Label:()=>Er,Line:()=>Ms,LinearGradientFill:()=>Tv,LinearScale:()=>Oh,Marker:()=>eh,Node:()=>Pi,OrdinalTimeScale:()=>$o,Path:()=>Lc,PointerEvents:()=>Ri,RadialColumnShape:()=>Rv,Rect:()=>Uh,RedrawType:()=>Ci,Scene:()=>lc,SceneChangeDetection:()=>Ii,ScenePathChangeDetection:()=>Dc,Sector:()=>ym,SectorBox:()=>om,Selection:()=>xs,Shape:()=>br,Square:()=>dh,Text:()=>Ir,Tooltip:()=>Ks,Triangle:()=>gh,easing:()=>On,getFont:()=>Nr,getMarker:()=>vh,getRadialColumnWidth:()=>Ov,motion:()=>Bv,sectorBox:()=>rm,toRadians:()=>ur,toTooltipHtml:()=>Ws});var Ev=class extends Lc{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return yi(rr(this.startAngle),rr(this.endAngle))}updatePath(){const t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?t.closePath():2!==this.type||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new Li(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(t,e){const i=this.transformPoint(t,e),n=this.computeBBox();return 0!==this.type&&n.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)}};Ev.className="Arc",Ev.defaultStyles=Object.assign({},br.defaultStyles,{lineWidth:1,fillStyle:null}),ce([Dc()],Ev.prototype,"centerX",2),ce([Dc()],Ev.prototype,"centerY",2),ce([Dc()],Ev.prototype,"radius",2),ce([Dc()],Ev.prototype,"startAngle",2),ce([Dc()],Ev.prototype,"endAngle",2),ce([Dc()],Ev.prototype,"counterClockwise",2),ce([Dc()],Ev.prototype,"type",2);var Tv=class extends br{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(t){null!=this._mask&&this.removeChild(this._mask),null!=t&&this.appendChild(t),this._mask=t}isPointInPath(t,e){var i,n;return null!==(i=null===(n=this.mask)||void 0===n?void 0:n.isPointInPath(t,e))&&void 0!==i&&i}computeBBox(){var t;return null===(t=this.mask)||void 0===t?void 0:t.computeBBox()}render(t){const{mask:e,stops:i}=this,{ctx:n,devicePixelRatio:a}=t,o=1/a,r=null===e||void 0===e?void 0:e.computeTransformedBBox();if(null==e||null==i||null==r)return;e.dirtyPath&&(e.updatePath(),e.dirtyPath=!1),n.save(),n.clip(e.path.getPath2D()),n.setTransform(a,0,0,a,0,0);const s=Math.floor(r.x),l=Math.ceil(r.x+r.width),c=Math.floor(r.y),u=Math.ceil(r.y+r.height),d="to-right"===this.direction||"to-left"===this.direction,h="to-top"===this.direction||"to-left"===this.direction,p=new Vf,[g,f]=d?[s,l]:[c,u];p.domain=i.map(((t,e)=>g+(f-g)*e/(i.length-1))),p.range=h?i.slice().reverse():i,p.update();const m=u-c,y=l-s;switch(this.direction){case"to-right":case"to-left":for(let t=s;t<=l;t+=o)n.fillStyle=p.convert(t),n.fillRect(t,c,o,m);break;case"to-bottom":case"to-top":for(let t=c;t<=u;t+=o)n.fillStyle=p.convert(t),n.fillRect(s,t,y,o)}n.restore()}};function Av(t,e,i){const n=Math.sqrt(t**2+e**2),a=Math.atan2(e,t)+i;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}ce([Ii({redraw:3})],Tv.prototype,"direction",2),ce([Ii({redraw:3})],Tv.prototype,"stops",2),ce([Ii({redraw:3})],Tv.prototype,"_mask",2);var Rv=class extends Lc{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){const{innerRadius:t,outerRadius:e,columnWidth:i}=this,n=this.getRotation(),a=-i/2,o=i/2,r=-e,s=-t;let l=1/0,c=1/0,u=-1/0,d=-1/0;for(let h=0;h<4;h+=1){const{x:t,y:e}=Av(h%2===0?a:o,h<2?r:s,n);l=Math.min(t,l),c=Math.min(e,c),u=Math.max(t,u),d=Math.max(e,d)}return new Li(l,c,u-l,d-c)}getRotation(){const{startAngle:t,endAngle:e}=this;return rr(t+pr(t,e)/2+Math.PI/2)}updatePath(){const{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:t,innerRadius:e,outerRadius:i,path:n}=this,a=-t/2,o=t/2,r=-i,s=-e,l=this.getRotation(),c=[[a,s],[a,r],[o,r],[o,s]].map((t=>{let[e,i]=t;return Av(e,i,l)}));n.clear(!0),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:t,path:e,outerRadius:i,innerRadius:n,axisInnerRadius:a,axisOuterRadius:o,isRadiusAxisReversed:r}=this,s=yi(n,a),l=Math.asin(t/2/n),c=this.getRotation(),u=(t,e)=>Av(t,e,c),d=(t,e)=>Math.sqrt(t**2+e**2),h=(t,e)=>e>t?0:Math.sqrt(t**2-e**2),p=(t,e,i)=>i?t<e:t>e,g=s&&!isNaN(l)&&l<Math.PI/6;let f=-t/2,m=t/2;const y=-i,v=-n*(g?Math.cos(l):1),b=p(o,d(n,t/2),!r);if(b){const t=h(o,n);f=-t,m=t}e.clear(!0);const x=u(f,v);e.moveTo(x.x,x.y);const k=yi(n,i),S=p(o,d(i,t/2),!r);if(k&&g)e.arc(0,0,n,rr(-l-Math.PI/2)+c,rr(l-Math.PI/2)+c,!1);else if(S){const n=-h(o,t/2),a=h(o,i);if(!b){const t=u(f,n);e.lineTo(t.x,t.y)}if(e.arc(0,0,o,Math.atan2(n,f)+c,Math.atan2(y,-a)+c,!1),!yi(a,0)){const t=u(a,y);e.lineTo(t.x,t.y)}e.arc(0,0,o,Math.atan2(y,a)+c,Math.atan2(n,m)+c,!1)}else{const t=u(f,y),i=u(m,y);e.lineTo(t.x,t.y),e.lineTo(i.x,i.y)}const w=u(m,v);if(e.lineTo(w.x,w.y),g)e.arc(0,0,n,rr(l-Math.PI/2)+c,rr(-l-Math.PI/2)+c,!0);else{const t=u(f,v);e.lineTo(t.x,t.y)}e.closePath()}};function Ov(t,e,i,n,a){const o=pr(t,e),r=o*(1-n)/2;if(t+=r,e-=r,o<.001)return 2*i*a;if(o>=2*Math.PI){const i=t+o/2;t=i-Math.PI,e=i+Math.PI}const s=i*Math.cos(t),l=i*Math.sin(t),c=i*Math.cos(e),u=i*Math.sin(e),d=Math.floor(Math.sqrt((s-c)**2+(l-u)**2)),h=2*i*a;return Math.max(1,Math.min(h,d))}Rv.className="RadialColumnShape",ce([Dc()],Rv.prototype,"isBeveled",2),ce([Dc()],Rv.prototype,"columnWidth",2),ce([Dc()],Rv.prototype,"startAngle",2),ce([Dc()],Rv.prototype,"endAngle",2),ce([Dc()],Rv.prototype,"outerRadius",2),ce([Dc()],Rv.prototype,"innerRadius",2),ce([Dc()],Rv.prototype,"axisInnerRadius",2),ce([Dc()],Rv.prototype,"axisOuterRadius",2),ce([Dc()],Rv.prototype,"isRadiusAxisReversed",2);var Pv=class extends Pi{constructor(t){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=t}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0===this.dirty&&!i)return void(n&&n.nodesSkipped++);this.computeTransformMatrix(),this.matrix.toContext(e);const a=this.sourceImage;e.globalAlpha=this.opacity,e.drawImage(a,0,0,a.width,a.height,this.x,this.y,this.width,this.height),super.render(t)}};ce([Ii({redraw:3})],Pv.prototype,"x",2),ce([Ii({redraw:3})],Pv.prototype,"y",2),ce([Ii({redraw:3})],Pv.prototype,"width",2),ce([Ii({redraw:3})],Pv.prototype,"height",2),ce([Ii({redraw:3})],Pv.prototype,"opacity",2);var Bv={...ai,...rs};le({},{CARTESIAN_AXIS_TYPE:()=>Tp,ChartTheme:()=>Ly,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>rg,DEFAULT_ANNOTATION_HANDLE_FILL:()=>sg,DEFAULT_ANNOTATION_STROKE:()=>og,DEFAULT_AXIS_GRID_COLOUR:()=>Gp,DEFAULT_AXIS_LINE_COLOUR:()=>jp,DEFAULT_BACKGROUND_COLOUR:()=>Wp,DEFAULT_CAPTION_ALIGNMENT:()=>Zp,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Hp,DEFAULT_COLOURS:()=>Kp,DEFAULT_CROSS_LINES_COLOUR:()=>Vp,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>ig,DEFAULT_FONT_FAMILY:()=>Pp,DEFAULT_GRIDLINE_ENABLED:()=>cg,DEFAULT_HIERARCHY_FILLS:()=>ng,DEFAULT_HIERARCHY_STROKES:()=>ag,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>_p,DEFAULT_INVERTED_LABEL_COLOUR:()=>zp,DEFAULT_LABEL_COLOUR:()=>Bp,DEFAULT_MUTED_LABEL_COLOUR:()=>Fp,DEFAULT_PADDING:()=>Yp,DEFAULT_POLAR_SERIES_STROKE:()=>eg,DEFAULT_SHADOW_COLOUR:()=>Up,DEFAULT_TOOLBAR_POSITION:()=>lg,FONT_SIZE:()=>Ip,FONT_WEIGHT:()=>Np,IS_DARK_THEME:()=>Op,PALETTE_DOWN_FILL:()=>Jp,PALETTE_DOWN_STROKE:()=>qp,PALETTE_NEUTRAL_FILL:()=>tg,PALETTE_NEUTRAL_STROKE:()=>$p,PALETTE_UP_FILL:()=>Qp,PALETTE_UP_STROKE:()=>Xp,POLAR_AXIS_SHAPE:()=>Rp,POLAR_AXIS_TYPE:()=>Ap,POSITION:()=>Ep,getChartTheme:()=>Sv,markerPaletteFactory:()=>Cp,singleSeriesPaletteFactory:()=>Lp,themes:()=>zv});var zv=yn(xv,(t=>null===t||void 0===t?void 0:t()));le({},{BandScale:()=>ha,ColorScale:()=>Vf,ContinuousScale:()=>fo,Invalidating:()=>ua,LinearScale:()=>Oh,OrdinalTimeScale:()=>$o,TimeScale:()=>qo});le({},{Color:()=>Gi,Debug:()=>bs,Logger:()=>ye,Padding:()=>Xl,TimeInterval:()=>ve,Vec2:()=>_v,angleBetween:()=>pr,angleDiff:()=>hr,areArrayItemsStrictlyEqual:()=>Is,areArrayNumbersEqual:()=>Ns,bifurcate:()=>Do,checkDatum:()=>_r,clamp:()=>pi,clampArray:()=>gi,countFractionDigits:()=>Si,createId:()=>si,day:()=>_e,deepClone:()=>In,displacePointFromVector:()=>gr,extent:()=>yo,findMinMax:()=>fi,findRangeExtent:()=>mi,formatNormalizedPercentage:()=>wi,formatPercentage:()=>Mi,friday:()=>Ye,hour:()=>Be,interpolateColor:()=>Vi,interpolateNumber:()=>ji,isBetweenAngles:()=>cr,isContinuous:()=>zr,isDate:()=>tn,isDenseInterval:()=>Xo,isEqual:()=>yi,isNegative:()=>vi,isNumber:()=>cn,isNumberEqual:()=>yi,isNumberObject:()=>Br,isString:()=>sn,isStringObject:()=>Pr,jsonApply:()=>Tn,jsonDiff:()=>Cn,jsonWalk:()=>En,millisecond:()=>xe,minute:()=>Re,mod:()=>ki,monday:()=>Ve,month:()=>Xe,normalisedExtent:()=>vo,normalisedExtentWithMetadata:()=>bo,normalizeAngle180:()=>lr,normalizeAngle360:()=>rr,normalizeAngle360Inclusive:()=>sr,range:()=>Zo,resetIds:()=>ri,round:()=>bi,sanitizeHtml:()=>hg,saturday:()=>He,second:()=>Ee,setAttribute:()=>zs,shallowClone:()=>Nn,sunday:()=>je,thursday:()=>Ke,tickFormat:()=>Ho,tickStep:()=>Ko,ticks:()=>Wo,toDegrees:()=>dr,toFixed:()=>xi,toRadians:()=>ur,transformIntegratedCategoryValue:()=>Fr,tuesday:()=>We,utcDay:()=>ei,utcHour:()=>ti,utcMinute:()=>$e,utcMonth:()=>ii,utcYear:()=>ni,uuid:()=>li,wednesday:()=>Ue,year:()=>Qe,zipObject:()=>jv});var _v={add:function(t,e){return{x:t.x+e.x,y:t.y+e.y}},angle:function(t,e){return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)},apply:function(t,e){return t.x=e.x,t.y=e.y,t},equal:function(t,e){return t.x===e.x&&t.y===e.y},distance:function(t,e){const i=Fv(t,e);return Math.sqrt(i.x*i.x+i.y*i.y)},distanceSquared:function(t,e){const i=Fv(t,e);return i.x*i.x+i.y*i.y},from:function(t,e){return{x:t,y:e}},fromOffset:function(t){return{x:t.offsetX,y:t.offsetY}},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},lengthSquared:function(t){return t.x*t.x+t.y*t.y},required:Gv,rotate:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gv();const n=_v.length(t);return{x:i.x+n*Math.cos(e),y:i.y+n*Math.sin(e)}},sub:Fv};function Fv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gv(t){var e,i;return{x:null!==(e=null===t||void 0===t?void 0:t.x)&&void 0!==e?e:0,y:null!==(i=null===t||void 0===t?void 0:t.y)&&void 0!==i?i:0}}function jv(t,e){const i={};if(Array.isArray(e))for(let n=0;n<t.length;n++)i["".concat(t[n])]=e[n];else for(let n=0;n<t.length;n++)i["".concat(t[n])]=e;return i}function Vv(){return(t,e)=>{const i=["Property [".concat(t,"] is deprecated."),e].filter(Boolean).join(" ");ye.warnOnce(i)}}function Wv(t,e){const i=Vv(),n=null===e||void 0===e?void 0:e.default;return Yi(((e,a,o)=>(o!==n&&i(a.toString(),t),o)))}function Uv(t,e){const i=Vv();return Yi(((n,a,o)=>(o!==n[t]&&(i(a.toString(),"Use [".concat(t,"] instead.")),kn(n,t,e?e(o):o)),Wi)),((e,n)=>(i(n.toString(),"Use [".concat(t,"] instead.")),bn(e,t))))}function Kv(t){let{defs:e,values:i,xAxis:n,yAxis:a}=t;if(!n||!a)throw new Error("Axes must be defined");const o={};for(const[r,{def:s}]of e)if(Object.hasOwn(i,r)){const{scale:t}="key"===s.type?n:a;o[r]=Math.round(t.convert(i[r]))}return o}le({},{AND:()=>fa,ARRAY:()=>Ia,ARRAY_OF:()=>Na,AbstractBarSeries:()=>wf,AbstractBarSeriesProperties:()=>Sf,ActionOnSet:()=>Rs,Animation:()=>Zn,AnimationManager:()=>_c,AreaSeriesTag:()=>df,Axis:()=>Ll,AxisInterval:()=>hl,AxisLabel:()=>pl,AxisTick:()=>fl,BOOLEAN:()=>ba,BOOLEAN_ARRAY:()=>_a,Background:()=>Kh,BackgroundModule:()=>Yh,BaseModuleInstance:()=>Wl,BaseProperties:()=>wn,COLOR_STRING:()=>Ba,COLOR_STRING_ARRAY:()=>za,CartesianAxis:()=>Nl,CartesianSeries:()=>Nh,CartesianSeriesNodeEvent:()=>Ch,CartesianSeriesProperties:()=>Ih,CategoryAxis:()=>El,ChartAxisDirection:()=>uo,ChartEventManager:()=>Gc,ChartOptions:()=>Mv,ChartUpdateType:()=>du,ContextMenuRegistry:()=>jc,Cursor:()=>Wc,CursorManager:()=>Uc,DATE:()=>Ra,DATE_ARRAY:()=>ja,DATE_OR_DATETIME_MS:()=>Oa,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Dh,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Lh,DEFAULT_TOOLTIP_CLASS:()=>Fs,DEFAULT_TOOLTIP_DARK_CLASS:()=>Gs,DEGREE:()=>La,DIRECTION:()=>$a,DOMManager:()=>vc,DataController:()=>Lu,DataModel:()=>Mu,DataModelSeries:()=>bh,DataService:()=>hc,Default:()=>ul,Deprecated:()=>Wv,DeprecatedAndRenamedTo:()=>Uv,EMPTY_TOOLTIP_CONTENT:()=>js,FONT_STYLE:()=>Ha,FONT_WEIGHT:()=>Za,FUNCTION:()=>xa,GREATER_THAN:()=>Aa,GestureDetector:()=>Yc,GroupedCategoryAxis:()=>Vl,HierarchyNode:()=>Hv,HierarchySeries:()=>Zv,HierarchySeriesProperties:()=>Xv,HighlightManager:()=>Hc,HighlightStyle:()=>wh,INTERACTION_RANGE:()=>eo,INTERPOLATION_STEP_POSITION:()=>wg,INTERPOLATION_TYPE:()=>Sg,InteractionManager:()=>ol,InteractionState:()=>nl,InterpolationProperties:()=>Mg,KeyNavManager:()=>Zc,LABEL_PLACEMENT:()=>io,LARGEST_KEY_INTERVAL:()=>gd,LESS_THAN:()=>Ta,LINE_CAP:()=>Wa,LINE_DASH:()=>Ka,LINE_JOIN:()=>Ua,Layers:()=>Or,LayoutService:()=>ru,LonLatBBox:()=>qv,MARKER_SHAPE:()=>vg,MATCHING_CROSSLINE_TYPE:()=>Gr,MAX_SPACING:()=>oo,MIN_SPACING:()=>ao,MercatorScale:()=>gy,ModuleRegistry:()=>Ul,Motion:()=>On,NAN:()=>wa,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Xn,NUMBER:()=>Sa,NUMBER_ARRAY:()=>Fa,NUMBER_OR_NAN:()=>Ca,Navigator:()=>Mp,NavigatorModule:()=>Dp,OBJECT:()=>ya,OBJECT_ARRAY:()=>Va,OR:()=>ma,OVERFLOW_STRATEGY:()=>Ja,ObserveChanges:()=>Os,PHASE_METADATA:()=>Kn,PHASE_ORDER:()=>Un,PLACEMENT:()=>to,PLAIN_OBJECT:()=>va,POINTER_INTERACTION_TYPES:()=>Qs,POSITION:()=>Ya,POSITION_TOP_COORDINATES:()=>Yr,POSITIVE_NUMBER:()=>Ma,PolarAxis:()=>sy,PolarSeries:()=>Am,PropertiesArray:()=>Mn,ProxyOnWrite:()=>Ts,ProxyProperty:()=>Es,ProxyPropertyOnWrite:()=>As,QUICK_TRANSITION:()=>Wn,RATIO:()=>Da,REGIONS:()=>rl,RepeatType:()=>Yn,SKIP_JS_BUILTINS:()=>xn,SMALLEST_KEY_INTERVAL:()=>pd,SORT_DOMAIN_GROUPS:()=>fd,STRING:()=>ka,STRING_ARRAY:()=>Ga,Series:()=>Vd,SeriesGroupingChangedEvent:()=>jd,SeriesItemHighlightStyle:()=>xh,SeriesMarker:()=>bg,SeriesNodeEvent:()=>Gd,SeriesNodePickMode:()=>Id,SeriesProperties:()=>Mh,SeriesTooltip:()=>kg,StateMachine:()=>Bs,TEXT_ALIGN:()=>qa,TEXT_WRAP:()=>Xa,TICK_INTERVAL:()=>dl,ToolbarManager:()=>au,Tooltip:()=>Ks,TooltipManager:()=>ou,TooltipPosition:()=>Us,UNION:()=>no,UpdateService:()=>hu,VERTICAL_ALIGN:()=>Qa,Validate:()=>pa,ZoomManager:()=>ju,__FORCE_MODULE_DETECTION:()=>Qv,accumulateContinuity:()=>Dd,accumulateGroup:()=>wd,accumulatedValue:()=>dd,accumulativeValueProperty:()=>Bd,addHitTestersToQuadtree:()=>xf,adjustLabelPlacement:()=>Bf,allInStringUnion:()=>Co,animationValidation:()=>xd,area:()=>ud,arraysEqual:()=>xo,assignJsonApplyConstructedArray:()=>po,backfillPathPointData:()=>zg,basicContinuousCheckDatumValidation:()=>Nd,bifurcate:()=>Do,buildFormatter:()=>ra,buildResetPathFn:()=>Yg,calculateDefaultTimeTickFormat:()=>ca,calculateLabelChartPadding:()=>Kr,calculateLabelTranslation:()=>Ur,calculatePlacement:()=>_s,checkCrisp:()=>If,childrenIter:()=>bf,circularSliceArray:()=>Mo,clamp:()=>pi,clampArray:()=>gi,collapsedStartingBarPosition:()=>Ef,computeBarFocusBounds:()=>Of,computeMarkerFocusBounds:()=>Ag,computeSectorFocusBounds:()=>Tm,computeSectorSeriesFocusBounds:()=>Em,convertValuesToScaleByDefs:()=>Kv,countFractionDigits:()=>Si,createDatumId:()=>Cd,createDeprecationWarning:()=>Vv,createElement:()=>ps,dateToNumber:()=>sa,deconstructSelectionsOrNodes:()=>Hn,deepClone:()=>In,deepMerge:()=>gn,defaultTimeTickFormat:()=>la,determinePathStatus:()=>sf,diff:()=>Ld,downloadUrl:()=>gs,enterpriseModule:()=>Au,extent:()=>yo,extractDecoratedProperties:()=>Xi,findMinMax:()=>fi,findQuadtreeMatch:()=>kf,findRangeExtent:()=>mi,fixNumericExtent:()=>bu,formatNormalizedPercentage:()=>wi,formatPercentage:()=>Mi,fromToMotion:()=>qn,getDocument:()=>ds,getMissCount:()=>xu,getPath:()=>bn,getPathComponents:()=>Su,getRectConfig:()=>Cf,getWindow:()=>hs,groupAccumulativeContinuityProperty:()=>Fd,groupAccumulativeValueProperty:()=>_d,groupAverage:()=>cd,groupBy:()=>wo,groupCount:()=>ld,groupSum:()=>rd,initMenuKeyNav:()=>tp,initToolbarKeyNav:()=>$h,isArray:()=>Qi,isBoolean:()=>Ji,isDate:()=>$i,isDecoratedObject:()=>Hi,isDefined:()=>qi,isEnumKey:()=>dn,isEnumValue:()=>hn,isEqual:()=>yi,isFiniteNumber:()=>cn,isFunction:()=>nn,isHtmlElement:()=>un,isNegative:()=>vi,isNumber:()=>ln,isObject:()=>an,isObjectLike:()=>on,isPlainObject:()=>rn,isProperties:()=>Dn,isRegExp:()=>en,isString:()=>sn,isSymbol:()=>pn,isValidDate:()=>tn,jsonApply:()=>Tn,jsonDiff:()=>Cn,jsonWalk:()=>En,keyProperty:()=>Rd,labelDirectionHandling:()=>ts,listDecoratedProperties:()=>Zi,makeAccessibleClickListener:()=>ep,mapIterable:()=>Lo,mapValues:()=>yn,markerFadeInAnimation:()=>Lg,markerPaletteFactory:()=>Cp,markerScaleInAnimation:()=>Cg,markerSwipeScaleInAnimation:()=>Ig,mergeArrayDefaults:()=>mn,mergeDefaults:()=>fn,midpointStartingBarPosition:()=>Tf,minMax:()=>Og,mod:()=>ki,moduleRegistry:()=>Kl,nearestSquared:()=>di,nearestSquaredInContainer:()=>hi,normaliseGroupTo:()=>yd,normalisePropertyTo:()=>bd,normalisedExtent:()=>vo,normalisedExtentWithMetadata:()=>bo,pairCategoryData:()=>rf,pairContinuousData:()=>of,partialAssign:()=>Sn,pathFadeInAnimation:()=>Ug,pathFadeOutAnimation:()=>Kg,pathRangePoints:()=>$g,pathRangePointsReverse:()=>tf,pathRanges:()=>Jg,pathSwipeInAnimation:()=>Wg,pickByMatchingAngle:()=>Nm,plotPath:()=>Gg,predicateWithMessage:()=>ro,prepareAreaPathAnimation:()=>mf,prepareAreaPathAnimationFns:()=>ff,prepareAxisAnimationContext:()=>yl,prepareAxisAnimationFunctions:()=>xl,prepareBarAnimationFunctions:()=>Af,prepareLinePathAnimation:()=>uf,prepareLinePathAnimationFns:()=>cf,prepareLinePathPropertyAnimation:()=>lf,prepareMarkerAnimation:()=>Tg,preparePieSeriesAnimationFunctions:()=>Cm,range:()=>sd,rangedValueProperty:()=>Pd,renderPartialPath:()=>Vg,resetAxisGroupFn:()=>kl,resetAxisLabelSelectionFn:()=>wl,resetAxisLineSelectionFn:()=>Ml,resetAxisSelectionFn:()=>Sl,resetBarSelectionsFn:()=>Rf,resetIds:()=>ri,resetLabelFn:()=>fg,resetMarkerFn:()=>Ng,resetMarkerPositionFn:()=>Eg,resetMotion:()=>ss,resetPieSelectionsFn:()=>Im,round:()=>bi,seriesLabelFadeInAnimation:()=>pg,seriesLabelFadeOutAnimation:()=>gg,setDocument:()=>fs,setElementBBox:()=>ys,setPath:()=>kn,setWindow:()=>ms,shallowClone:()=>Nn,singleSeriesPaletteFactory:()=>Lp,splitPairData:()=>jg,staticFromToMotion:()=>Qn,stringify:()=>co,sum:()=>od,sumValues:()=>ad,times:()=>mo,toArray:()=>ko,toFixed:()=>xi,toTooltipHtml:()=>Ws,trailingAccumulatedValue:()=>hd,trailingAccumulatedValueProperty:()=>zd,unique:()=>So,updateClipPath:()=>Hg,updateLabelNode:()=>Pf,updateRect:()=>Lf,validateCrossLineValues:()=>jr,valueProperty:()=>Od,without:()=>vn});var Yv=class t{constructor(t,e,i,n,a,o,r,s,l,c,u){this.series=t,this.index=e,this.datum=i,this.size=n,this.colorValue=a,this.fill=o,this.stroke=r,this.sumSize=s,this.depth=l,this.parent=c,this.children=u,this.midPoint={x:0,y:0}}contains(t){let e=t;for(;null!=e&&e.index>=this.index;){if(e===this)return!0;e=e.parent}return!1}walk(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.Walk.PreOrder;i===t.Walk.PreOrder&&e(this),this.children.forEach((t=>{t.walk(e,i)})),i===t.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};Yv.Walk={PreOrder:0,PostOrder:1};var Hv=Yv,Zv=class extends Vd{constructor(t){super({moduleCtx:t,pickModes:[3,0],contentGroupVirtual:!1}),this.rootNode=new Hv(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new Bs("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t&&this.animationState.transition("skip")}async processData(){var t,e;const{childrenKey:i,sizeKey:n,colorKey:a,fills:o,strokes:r,colorRange:s}=this.properties;let l=0;let c=0,u=1/0,d=-1/0;const h=new Array((null!==(t=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==t?t:0)+1).fill(void 0),p=(t,e)=>{const o=(l+=1,l),r=null!=e.depth?e.depth+1:0,s=null!=i?t[i]:void 0,p=null==s||0===s.length;let f=null!=n?t[n]:void 0;f=Number.isFinite(f)?Math.max(f,0):p?1:0;const m=f;c=Math.max(c,r);const y=null!=a?t[a]:void 0;return"number"===typeof y&&(h[o]=y,u=Math.min(u,y),d=Math.max(d,y)),g(new Hv(this,o,t,f,y,void 0,void 0,m,r,e,[]),s)},g=(t,e)=>(null===e||void 0===e||e.forEach((e=>{const i=p(e,t);t.children.push(i),t.sumSize+=i.sumSize})),t),f=g(new Hv(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),m=[u,d];let y;null!=s&&Number.isFinite(u)&&Number.isFinite(d)&&(y=new Vf,y.domain=m,y.range=s,y.update()),f.children.forEach(((t,e)=>{t.walk((t=>{var i;let n;const a=h[t.index];var s;null!=a&&(n=null===(s=y)||void 0===s?void 0:s.convert(a));null!==(i=n)&&void 0!==i||(n=null===o||void 0===o?void 0:o[e%o.length]),t.fill=n,t.stroke=null==y?null===r||void 0===r?void 0:r[e%r.length]:"rgba(0, 0, 0, 0.2)"}))})),this.rootNode=f,this.maxDepth=c,this.colorDomain=m,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update(t){let{seriesRect:e}=t;await this.updateSelections(),await this.updateNodes();const i=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)}resetAllAnimation(t){var e;const i=null===(e=this.animationResetFns)||void 0===e?void 0:e.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=i&&ss(t.datumSelections,i)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var e;const i=null===(e=this.animationResetFns)||void 0===e?void 0:e.datum;null!=i&&ss([t],i)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(t){const{colorKey:e,colorName:i,colorRange:n,visible:a}=this.properties;return"gradient"===t&&null!=e&&null!=n?[{legendType:"gradient",enabled:a,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return"".concat(t.index)}getDatumId(t){return this.getDatumIdFromData(t)}pickFocus(t){if(0===this.rootNode.children.length)return;0===this.focusPath.length&&ye.error("this.focusPath should not be empty");const{datumIndexDelta:e,otherIndexDelta:i}=t,{focusPath:n}=this,a=n.length-2;if(0!==i||1===n.length){const t=Math.max(0,a+i);if(void 0!==n[t+1])return n.length=t+2,this.computeFocusOutputs(n[t+1]);{let e=n[n.length-1];for(;e.nodeDatum.children.length>0&&(null!==(o=e.nodeDatum.depth)&&void 0!==o?o:-1)<t;){var o;const t={nodeDatum:e.nodeDatum.children[0],childIndex:0};n.push(t),e=t}return this.computeFocusOutputs(e)}}if(0===e)return this.computeFocusOutputs(n[n.length-1]);{var r;const t=n[a+1].childIndex+e,i=n[a].nodeDatum,o=null===i||void 0===i||null===(r=i.children)||void 0===r?void 0:r.length;if(void 0!==o){const e=pi(0,t,o-1),r={nodeDatum:i.children[e],childIndex:e};return n[a+1]=r,n.length=a+2,this.computeFocusOutputs(r)}}}getDatumAriaText(t,e){var i;if(t instanceof Hv)return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(null!==(i=t.depth)&&void 0!==i?i:-1)+1,count:t.children.length,description:e});ye.error("datum is not HierarchyNode: ".concat(t))}computeFocusOutputs(t){let{nodeDatum:e,childIndex:i}=t;const n=this.computeFocusBounds(e);if(n)return{datum:e,datumIndex:i,otherIndex:e.depth,bounds:n,showFocusBox:!0}}},Xv=class extends Mh{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(vm),this.strokes=Object.values(bm)}};ce([pa(ka)],Xv.prototype,"childrenKey",2),ce([pa(ka,{optional:!0})],Xv.prototype,"sizeKey",2),ce([pa(ka,{optional:!0})],Xv.prototype,"colorKey",2),ce([pa(ka,{optional:!0})],Xv.prototype,"colorName",2),ce([pa(za)],Xv.prototype,"fills",2),ce([pa(za)],Xv.prototype,"strokes",2),ce([pa(za,{optional:!0})],Xv.prototype,"colorRange",2);var qv=class{constructor(t,e,i,n){this.lon0=t,this.lat0=e,this.lon1=i,this.lat1=n}merge(t){this.lon0=Math.min(this.lon0,t.lon0),this.lat0=Math.min(this.lat0,t.lat0),this.lon1=Math.max(this.lon1,t.lon1),this.lat1=Math.max(this.lat1,t.lat1)}},Qv=0;function Jv(t,e){return{...t,container:e.current}}function $v(t,e){const i=(0,a.forwardRef)((function(e,i){const{options:n,style:o,className:r}=e,s=(0,a.useRef)(null),l=(0,a.useRef)();(0,a.useLayoutEffect)((()=>{const e=t(Jv(n,s));return l.current=e,()=>{e.destroy()}}),[]);const c=void 0===l.current;return(0,a.useEffect)((()=>{var t;c||(null===(t=l.current)||void 0===t||t.update(Jv(n,s)))}),[n]),(0,a.useImperativeHandle)(i,(()=>l.current),[]),(0,a.useMemo)((()=>(0,a.createElement)("div",{ref:s,style:o,className:r})),[o,r])}));return i.displayName=e,i}var tb=$v((t=>Cv.create(t)),"AgCharts");const eb=()=>{const[t,e]=(0,a.useState)({title:{text:"Apple's Revenue by Product Category"},subtitle:{text:"In Billion U.S. Dollars"},data:[{quarter:"Q1'18",iphone:140,mac:16,ipad:14,wearables:12,services:20},{quarter:"Q2'18",iphone:124,mac:20,ipad:14,wearables:12,services:30},{quarter:"Q3'18",iphone:112,mac:20,ipad:18,wearables:14,services:36},{quarter:"Q4'18",iphone:118,mac:24,ipad:14,wearables:14,services:36}],series:[{type:"bar",xKey:"quarter",yKey:"iphone",yName:"iPhone"},{type:"bar",xKey:"quarter",yKey:"mac",yName:"Mac"},{type:"bar",xKey:"quarter",yKey:"ipad",yName:"iPad"},{type:"bar",xKey:"quarter",yKey:"wearables",yName:"Wearables"},{type:"bar",xKey:"quarter",yKey:"services",yName:"Services"}]});return(0,te.jsx)(tb,{className:"h15",options:t})};function ib(t){return jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M454.65 169.4A31.82 31.82 0 0 0 432 160h-64v-16a112 112 0 0 0-224 0v16H80a32 32 0 0 0-32 32v216c0 39 33 72 72 72h272a72.22 72.22 0 0 0 50.48-20.55 69.48 69.48 0 0 0 21.52-50.2V192a31.75 31.75 0 0 0-9.35-22.6zM176 144a80 80 0 0 1 160 0v16H176zm192 96a112 112 0 0 1-224 0v-16a16 16 0 0 1 32 0v16a80 80 0 0 0 160 0v-16a16 16 0 0 1 32 0z"},child:[]}]})(t)}const nb=()=>(0,te.jsx)("div",{className:"flex mt-4   ",children:(0,te.jsx)(ab,{})});function ab(){return(0,te.jsxs)("div",{className:"flex gap-4  w-full",children:[(0,te.jsxs)(ob,{children:[(0,te.jsx)("div",{className:"rounded-full  h-12 w-12  flex items-center justify-center  bg-sky-500",children:(0,te.jsx)(ib,{className:" text-2xl  text-white"})}),(0,te.jsxs)("div",{className:"p-2",children:[(0,te.jsx)("span",{className:" text-sm text-gray-500 font-light",children:"Total Sales"}),(0,te.jsxs)("div",{className:" items-center ",children:[(0,te.jsx)("strong",{className:"text-sm text-gray-700 font-semibold",children:"$777.34"}),(0,te.jsx)("span",{className:"text-sm text-green-500 p-2",children:"+232"})]})]})]}),(0,te.jsxs)(ob,{children:["   ",(0,te.jsx)("div",{className:"rounded-full  h-12 w-12  flex items-center justify-center  bg-orange-500",children:(0,te.jsx)(ib,{className:" text-2xl  text-white"})}),(0,te.jsxs)("div",{className:"p-2",children:[(0,te.jsx)("span",{className:" text-sm text-gray-500 font-light",children:"Total Sales"}),(0,te.jsxs)("div",{className:" items-center ",children:[(0,te.jsx)("strong",{className:"text-sm text-gray-700 font-semibold",children:"$777.34"}),(0,te.jsx)("span",{className:"text-sm text-green-500 p-2",children:"+232"})]})]})]}),(0,te.jsxs)(ob,{children:["   ",(0,te.jsx)("div",{className:"rounded-full  h-12 w-12  flex items-center justify-center  bg-yellow-500",children:(0,te.jsx)(ib,{className:" text-2xl  text-white"})}),(0,te.jsxs)("div",{className:"p-2",children:[(0,te.jsx)("span",{className:" text-sm text-gray-500 font-light",children:"Total Sales"}),(0,te.jsxs)("div",{className:" items-center ",children:[(0,te.jsx)("strong",{className:"text-sm text-gray-700 font-semibold",children:"$777.34"}),(0,te.jsx)("span",{className:"text-sm text-green-500 p-2",children:"+232"})]})]})]}),(0,te.jsxs)(ob,{children:["   ",(0,te.jsx)("div",{className:"rounded-full  h-12 w-12  flex items-center justify-center  bg-green-500",children:(0,te.jsx)(ib,{className:" text-2xl  text-white"})}),(0,te.jsxs)("div",{className:"p-2",children:[(0,te.jsx)("span",{className:" text-sm text-gray-500 font-light",children:"Total Sales"}),(0,te.jsxs)("div",{className:" items-center ",children:[(0,te.jsx)("strong",{className:"text-sm text-gray-700 font-semibold",children:"$777.34"}),(0,te.jsx)("span",{className:"text-sm text-green-500 p-2",children:"+232"})]})]})]})]})}function ob(t){let{children:e}=t;return(0,te.jsx)("div",{className:"bg-white flex-1 rounded-sm  p-1  border border-gray-200  flex items-center ",children:e})}const rb=()=>(0,te.jsx)("div",{children:(0,te.jsx)("div",{class:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,te.jsxs)("table",{class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,te.jsx)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,te.jsxs)("tr",{children:[(0,te.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Product name"}),(0,te.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Color"}),(0,te.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Category"}),(0,te.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Price"}),(0,te.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Action"})]})}),(0,te.jsxs)("tbody",{children:[(0,te.jsxs)("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[(0,te.jsx)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:'Apple MacBook Pro 17"'}),(0,te.jsx)("td",{class:"px-6 py-4",children:"Silver"}),(0,te.jsx)("td",{class:"px-6 py-4",children:"Laptop"}),(0,te.jsx)("td",{class:"px-6 py-4",children:"$2999"}),(0,te.jsx)("td",{class:"px-6 py-4",children:(0,te.jsx)("a",{href:"#",class:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Edit"})})]}),(0,te.jsxs)("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[(0,te.jsx)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"Microsoft Surface Pro"}),(0,te.jsx)("td",{class:"px-6 py-4",children:"White"}),(0,te.jsx)("td",{class:"px-6 py-4",children:"Laptop PC"}),(0,te.jsx)("td",{class:"px-6 py-4",children:"$1999"}),(0,te.jsx)("td",{class:"px-6 py-4",children:(0,te.jsx)("a",{href:"#",class:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Edit"})})]}),(0,te.jsxs)("tr",{class:"bg-white dark:bg-gray-800",children:[(0,te.jsx)("th",{scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"Magic Mouse 2"}),(0,te.jsx)("td",{class:"px-6 py-4",children:"Black"}),(0,te.jsx)("td",{class:"px-6 py-4",children:"Accessories"}),(0,te.jsx)("td",{class:"px-6 py-4",children:"$99"}),(0,te.jsx)("td",{class:"px-6 py-4",children:(0,te.jsx)("a",{href:"#",class:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Edit"})})]})]})]})})}),sb=()=>(0,te.jsxs)("div",{className:" flex flex-row h-screen w-screen overflow-hidden",children:[(0,te.jsx)(ne,{}),(0,te.jsxs)("div",{className:"flex-1 p-4  ",children:[(0,te.jsx)("div",{className:"bg-teal-200",children:(0,te.jsx)(oe,{})}),(0,te.jsx)(nb,{}),(0,te.jsx)(eb,{}),(0,te.jsx)(rb,{}),(0,te.jsx)("div",{children:(0,te.jsx)(yt,{})})]})]});const lb=function(){return(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(Lt,{children:(0,te.jsxs)(xt,{children:[(0,te.jsx)(vt,{path:"/dashboard",element:(0,te.jsx)(sb,{})}),(0,te.jsx)(vt,{path:"/",element:(0,te.jsx)(sb,{})}),(0,te.jsx)(vt,{path:""}),(0,te.jsx)(vt,{path:""})]})})})},cb=t=>{t&&t instanceof Function&&i.e(453).then(i.bind(i,453)).then((e=>{let{getCLS:i,getFID:n,getFCP:a,getLCP:o,getTTFB:r}=e;i(t),n(t),a(t),o(t),r(t)}))};r.createRoot(document.getElementById("root")).render((0,te.jsx)(a.StrictMode,{children:(0,te.jsx)(lb,{})})),cb()})();
//# sourceMappingURL=main.e80a32b7.js.map